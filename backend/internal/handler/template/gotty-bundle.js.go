package template

var GoTtyJs = []byte("!function(e) {\n    function t(i) {\n        if (r[i])\n            return r[i].exports;\n        var o = r[i] = {\n            i: i,\n            l: !1,\n            exports: {}\n        };\n        return e[i].call(o.exports, o, o.exports, t),\n            o.l = !0,\n            o.exports\n    }\n    var r = {};\n    t.m = e,\n        t.c = r,\n        t.i = function(e) {\n            return e\n        }\n        ,\n        t.d = function(e, r, i) {\n            t.o(e, r) || Object.defineProperty(e, r, {\n                configurable: !1,\n                enumerable: !0,\n                get: i\n            })\n        }\n        ,\n        t.n = function(e) {\n            var r = e && e.__esModule ? function() {\n                        return e.default\n                    }\n                    : function() {\n                        return e\n                    }\n            ;\n            return t.d(r, \"a\", r),\n                r\n        }\n        ,\n        t.o = function(e, t) {\n            return Object.prototype.hasOwnProperty.call(e, t)\n        }\n        ,\n        t.p = \"\",\n        t(t.s = 28)\n}([function(e, t, r) {\n    \"use strict\";\n    function i(e) {\n        var t = this;\n        if (!(this instanceof i))\n            return new i(arguments[0],arguments[1],arguments[2]);\n        t.browser = S,\n            t.cancel = i.cancel,\n            u.EventEmitter.call(this),\n        \"number\" == typeof e && (e = {\n            cols: arguments[0],\n            rows: arguments[1],\n            handler: arguments[2]\n        }),\n            e = e || {},\n            Object.keys(i.defaults).forEach(function(r) {\n                null == e[r] && (e[r] = i.options[r],\n                i[r] !== i.defaults[r] && (e[r] = i[r])),\n                    t[r] = e[r]\n            }),\n            8 === e.colors.length ? e.colors = e.colors.concat(i._colors.slice(8)) : 16 === e.colors.length ? e.colors = e.colors.concat(i._colors.slice(16)) : 10 === e.colors.length ? e.colors = e.colors.slice(0, -2).concat(i._colors.slice(8, -2), e.colors.slice(-2)) : 18 === e.colors.length && (e.colors = e.colors.concat(i._colors.slice(16, -2), e.colors.slice(-2))),\n            this.colors = e.colors,\n            this.options = e,\n            this.parent = e.body || e.parent || (A ? A.getElementsByTagName(\"body\")[0] : null),\n            this.cols = e.cols || e.geometry[0],\n            this.rows = e.rows || e.geometry[1],\n            this.geometry = [this.cols, this.rows],\n        e.handler && this.on(\"data\", e.handler),\n            this.ybase = 0,\n            this.ydisp = 0,\n            this.x = 0,\n            this.y = 0,\n            this.cursorState = 0,\n            this.cursorHidden = !1,\n            this.convertEol,\n            this.queue = \"\",\n            this.scrollTop = 0,\n            this.scrollBottom = this.rows - 1,\n            this.customKeyEventHandler = null,\n            this.cursorBlinkInterval = null,\n            this.applicationKeypad = !1,\n            this.applicationCursor = !1,\n            this.originMode = !1,\n            this.insertMode = !1,\n            this.wraparoundMode = !0,\n            this.normal = null,\n            this.charset = null,\n            this.gcharset = null,\n            this.glevel = 0,\n            this.charsets = [null],\n            this.decLocator,\n            this.x10Mouse,\n            this.vt200Mouse,\n            this.vt300Mouse,\n            this.normalMouse,\n            this.mouseEvents,\n            this.sendFocus,\n            this.utfMouse,\n            this.sgrMouse,\n            this.urxvtMouse,\n            this.element,\n            this.children,\n            this.refreshStart,\n            this.refreshEnd,\n            this.savedX,\n            this.savedY,\n            this.savedCols,\n            this.readable = !0,\n            this.writable = !0,\n            this.defAttr = 131840,\n            this.curAttr = this.defAttr,\n            this.params = [],\n            this.currentParam = 0,\n            this.prefix = \"\",\n            this.postfix = \"\",\n            this.inputHandler = new m.InputHandler(this),\n            this.parser = new y.Parser(this.inputHandler,this),\n            this.renderer = this.renderer || null,\n            this.selectionManager = this.selectionManager || null,\n            this.linkifier = this.linkifier || new _.Linkifier,\n            this.writeBuffer = [],\n            this.writeInProgress = !1,\n            this.xoffSentToCatchUp = !1,\n            this.writeStopped = !1,\n            this.surrogate_high = \"\",\n            this.lines = new f.CircularList(this.scrollback);\n        for (var r = this.rows; r--; )\n            this.lines.push(this.blankLine());\n        this.selectionManager && this.selectionManager.setBuffer(this.lines),\n            this.tabs,\n            this.setupStops(),\n            this.userScrolling = !1\n    }\n    function o(e, t, r, i) {\n        Array.isArray(e) || (e = [e]),\n            e.forEach(function(e) {\n                e.addEventListener(t, r, i || !1)\n            })\n    }\n    function s(e, t, r, i) {\n        e.removeEventListener(t, r, i || !1)\n    }\n    function n(e, t) {\n        function r() {\n            this.constructor = e\n        }\n        r.prototype = t.prototype,\n            e.prototype = new r\n    }\n    function a(e, t) {\n        var r = e.browser.isMac && t.altKey && !t.ctrlKey && !t.metaKey || e.browser.isMSWindows && t.altKey && t.ctrlKey && !t.metaKey;\n        return \"keypress\" == t.type ? r : r && (!t.keyCode || t.keyCode > 47)\n    }\n    function l(e, t, r) {\n        var o = e << 16 | t << 8 | r;\n        if (null != l._cache[o])\n            return l._cache[o];\n        for (var s, n, a, h, c, u = 1 / 0, d = -1, p = 0; p < i.vcolors.length; p++) {\n            if (s = i.vcolors[p],\n                n = s[0],\n                a = s[1],\n                h = s[2],\n            0 === (c = l.distance(e, t, r, n, a, h))) {\n                d = p;\n                break\n            }\n            c < u && (u = c,\n                d = p)\n        }\n        return l._cache[o] = d\n    }\n    function h(e) {\n        return 16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode\n    }\n    /*!\n * xterm (https://npmjs.com/package/xterm)\n * @license MIT\n * @version 2.8.1\n * ==xterm/LICENSE==\n * Copyright (c) 2014-2016, SourceLair Private Company (https://www.sourcelair.com)\n * Copyright (c) 2012-2013, Christopher Jeffrey (https://github.com/chjj/)\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n    Object.defineProperty(t, \"__esModule\", {\n        value: !0\n    });\n    var c = r(15)\n        , u = r(1)\n        , d = r(22)\n        , p = r(23)\n        , f = r(25)\n        , g = r(2)\n        , m = r(16)\n        , y = r(18)\n        , b = r(19)\n        , _ = r(17)\n        , C = r(20)\n        , w = r(24)\n        , S = r(9)\n        , v = r(10)\n        , A = \"undefined\" != typeof window ? window.document : null;\n    n(i, u.EventEmitter),\n        i.prototype.eraseAttr = function() {\n            return -512 & this.defAttr | 511 & this.curAttr\n        }\n        ,\n        i.tangoColors = [\"#2e3436\", \"#cc0000\", \"#4e9a06\", \"#c4a000\", \"#3465a4\", \"#75507b\", \"#06989a\", \"#d3d7cf\", \"#555753\", \"#ef2929\", \"#8ae234\", \"#fce94f\", \"#729fcf\", \"#ad7fa8\", \"#34e2e2\", \"#eeeeec\"],\n        i.colors = function() {\n            function e(e, r, i) {\n                o.push(\"#\" + t(e) + t(r) + t(i))\n            }\n            function t(e) {\n                return (e = e.toString(16)).length < 2 ? \"0\" + e : e\n            }\n            var r, o = i.tangoColors.slice(), s = [0, 95, 135, 175, 215, 255];\n            for (r = 0; r < 216; r++)\n                e(s[r / 36 % 6 | 0], s[r / 6 % 6 | 0], s[r % 6]);\n            for (r = 0; r < 24; r++)\n                e(s = 8 + 10 * r, s, s);\n            return o\n        }(),\n        i._colors = i.colors.slice(),\n        i.vcolors = function() {\n            for (var e, t = [], r = i.colors, o = 0; o < 256; o++)\n                e = parseInt(r[o].substring(1), 16),\n                    t.push([e >> 16 & 255, e >> 8 & 255, 255 & e]);\n            return t\n        }(),\n        i.defaults = {\n            colors: i.colors,\n            theme: \"default\",\n            convertEol: !1,\n            termName: \"xterm\",\n            geometry: [80, 24],\n            cursorBlink: !1,\n            cursorStyle: \"block\",\n            visualBell: !1,\n            popOnBell: !1,\n            scrollback: 1e3,\n            screenKeys: !1,\n            debug: !1,\n            cancelEvents: !1,\n            disableStdin: !1,\n            useFlowControl: !1,\n            tabStopWidth: 8\n        },\n        i.options = {},\n        i.focus = null,\n        function(e, t, r) {\n            if (e.forEach)\n                return e.forEach(t, r);\n            for (var i = 0; i < e.length; i++)\n                t.call(r, e[i], i, e)\n        }(function(e) {\n            if (Object.keys)\n                return Object.keys(e);\n            var t, r = [];\n            for (t in e)\n                Object.prototype.hasOwnProperty.call(e, t) && r.push(t);\n            return r\n        }(i.defaults), function(e) {\n            i[e] = i.defaults[e],\n                i.options[e] = i.defaults[e]\n        }),\n        i.prototype.focus = function() {\n            return this.textarea.focus()\n        }\n        ,\n        i.prototype.getOption = function(e, t) {\n            if (!(e in i.defaults))\n                throw new Error('No option with key \"' + e + '\"');\n            return void 0 !== this.options[e] ? this.options[e] : this[e]\n        }\n        ,\n        i.prototype.setOption = function(e, t) {\n            if (!(e in i.defaults))\n                throw new Error('No option with key \"' + e + '\"');\n            switch (e) {\n                case \"scrollback\":\n                    if (t < this.rows) {\n                        var r = \"Setting the scrollback value less than the number of rows \";\n                        return r += \"(\" + this.rows + \") is not allowed.\",\n                            console.warn(r),\n                            !1\n                    }\n                    if (this.options[e] !== t) {\n                        if (this.lines.length > t) {\n                            var o = this.lines.length - t\n                                , s = this.ydisp - o < 0;\n                            this.lines.trimStart(o),\n                                this.ybase = Math.max(this.ybase - o, 0),\n                                this.ydisp = Math.max(this.ydisp - o, 0),\n                            s && this.refresh(0, this.rows - 1)\n                        }\n                        this.lines.maxLength = t,\n                            this.viewport.syncScrollArea()\n                    }\n            }\n            switch (this[e] = t,\n                this.options[e] = t,\n                e) {\n                case \"cursorBlink\":\n                    this.setCursorBlinking(t);\n                    break;\n                case \"cursorStyle\":\n                    this.element.classList.toggle(\"xterm-cursor-style-underline\", \"underline\" === t),\n                        this.element.classList.toggle(\"xterm-cursor-style-bar\", \"bar\" === t);\n                    break;\n                case \"tabStopWidth\":\n                    this.setupStops()\n            }\n        }\n        ,\n        i.prototype.restartCursorBlinking = function() {\n            this.setCursorBlinking(this.options.cursorBlink)\n        }\n        ,\n        i.prototype.setCursorBlinking = function(e) {\n            if (this.element.classList.toggle(\"xterm-cursor-blink\", e),\n                this.clearCursorBlinkingInterval(),\n                e) {\n                var t = this;\n                this.cursorBlinkInterval = setInterval(function() {\n                    t.element.classList.toggle(\"xterm-cursor-blink-on\")\n                }, 600)\n            }\n        }\n        ,\n        i.prototype.clearCursorBlinkingInterval = function() {\n            this.element.classList.remove(\"xterm-cursor-blink-on\"),\n            this.cursorBlinkInterval && (clearInterval(this.cursorBlinkInterval),\n                this.cursorBlinkInterval = null)\n        }\n        ,\n        i.bindFocus = function(e) {\n            o(e.textarea, \"focus\", function(t) {\n                e.sendFocus && e.send(g.C0.ESC + \"[I\"),\n                    e.element.classList.add(\"focus\"),\n                    e.showCursor(),\n                    e.restartCursorBlinking.apply(e),\n                    i.focus = e,\n                    e.emit(\"focus\", {\n                        terminal: e\n                    })\n            })\n        }\n        ,\n        i.prototype.blur = function() {\n            return this.textarea.blur()\n        }\n        ,\n        i.bindBlur = function(e) {\n            o(e.textarea, \"blur\", function(t) {\n                e.refresh(e.y, e.y),\n                e.sendFocus && e.send(g.C0.ESC + \"[O\"),\n                    e.element.classList.remove(\"focus\"),\n                    e.clearCursorBlinkingInterval.apply(e),\n                    i.focus = null,\n                    e.emit(\"blur\", {\n                        terminal: e\n                    })\n            })\n        }\n        ,\n        i.prototype.initGlobal = function() {\n            var e = this\n                , t = this;\n            i.bindKeys(this),\n                i.bindFocus(this),\n                i.bindBlur(this),\n                o(this.element, \"copy\", function(r) {\n                    e.mouseEvents || p.copyHandler(r, t, e.selectionManager)\n                });\n            var r = function(e) {\n                return p.pasteHandler(e, t)\n            };\n            o(this.textarea, \"paste\", r),\n                o(this.element, \"paste\", r),\n                t.browser.isFirefox ? o(this.element, \"mousedown\", function(t) {\n                    2 == t.button && p.rightClickHandler(t, e.textarea, e.selectionManager)\n                }) : o(this.element, \"contextmenu\", function(t) {\n                    p.rightClickHandler(t, e.textarea, e.selectionManager)\n                }),\n            t.browser.isLinux && o(this.element, \"auxclick\", function(t) {\n                1 === t.button && p.moveTextAreaUnderMouseCursor(t, e.textarea, e.selectionManager)\n            })\n        }\n        ,\n        i.bindKeys = function(e) {\n            o(e.element, \"keydown\", function(t) {\n                A.activeElement == this && e.keyDown(t)\n            }, !0),\n                o(e.element, \"keypress\", function(t) {\n                    A.activeElement == this && e.keyPress(t)\n                }, !0),\n                o(e.element, \"keyup\", function(t) {\n                    h(t) || e.focus(e)\n                }, !0),\n                o(e.textarea, \"keydown\", function(t) {\n                    e.keyDown(t)\n                }, !0),\n                o(e.textarea, \"keypress\", function(t) {\n                    e.keyPress(t),\n                        this.value = \"\"\n                }, !0),\n                o(e.textarea, \"compositionstart\", e.compositionHelper.compositionstart.bind(e.compositionHelper)),\n                o(e.textarea, \"compositionupdate\", e.compositionHelper.compositionupdate.bind(e.compositionHelper)),\n                o(e.textarea, \"compositionend\", e.compositionHelper.compositionend.bind(e.compositionHelper)),\n                e.on(\"refresh\", e.compositionHelper.updateCompositionElements.bind(e.compositionHelper)),\n                e.on(\"refresh\", function(t) {\n                    e.queueLinkification(t.start, t.end)\n                })\n        }\n        ,\n        i.prototype.insertRow = function(e) {\n            return \"object\" != typeof e && (e = A.createElement(\"div\")),\n                this.rowContainer.appendChild(e),\n                this.children.push(e),\n                e\n        }\n        ,\n        i.prototype.open = function(e, t) {\n            var r = this\n                , i = this\n                , s = 0;\n            if (this.parent = e || this.parent,\n                !this.parent)\n                throw new Error(\"Terminal requires a parent element.\");\n            for (this.context = this.parent.ownerDocument.defaultView,\n                     this.document = this.parent.ownerDocument,\n                     this.body = this.document.getElementsByTagName(\"body\")[0],\n                     this.element = this.document.createElement(\"div\"),\n                     this.element.classList.add(\"terminal\"),\n                     this.element.classList.add(\"xterm\"),\n                     this.element.classList.add(\"xterm-theme-\" + this.theme),\n                     this.setCursorBlinking(this.options.cursorBlink),\n                     this.element.setAttribute(\"tabindex\", 0),\n                     this.viewportElement = A.createElement(\"div\"),\n                     this.viewportElement.classList.add(\"xterm-viewport\"),\n                     this.element.appendChild(this.viewportElement),\n                     this.viewportScrollArea = A.createElement(\"div\"),\n                     this.viewportScrollArea.classList.add(\"xterm-scroll-area\"),\n                     this.viewportElement.appendChild(this.viewportScrollArea),\n                     this.selectionContainer = A.createElement(\"div\"),\n                     this.selectionContainer.classList.add(\"xterm-selection\"),\n                     this.element.appendChild(this.selectionContainer),\n                     this.rowContainer = A.createElement(\"div\"),\n                     this.rowContainer.classList.add(\"xterm-rows\"),\n                     this.element.appendChild(this.rowContainer),\n                     this.children = [],\n                     this.linkifier.attachToDom(A, this.children),\n                     this.helperContainer = A.createElement(\"div\"),\n                     this.helperContainer.classList.add(\"xterm-helpers\"),\n                     this.element.appendChild(this.helperContainer),\n                     this.textarea = A.createElement(\"textarea\"),\n                     this.textarea.classList.add(\"xterm-helper-textarea\"),\n                     this.textarea.setAttribute(\"autocorrect\", \"off\"),\n                     this.textarea.setAttribute(\"autocapitalize\", \"off\"),\n                     this.textarea.setAttribute(\"spellcheck\", \"false\"),\n                     this.textarea.tabIndex = 0,\n                     this.textarea.addEventListener(\"focus\", function() {\n                         i.emit(\"focus\", {\n                             terminal: i\n                         })\n                     }),\n                     this.textarea.addEventListener(\"blur\", function() {\n                         i.emit(\"blur\", {\n                             terminal: i\n                         })\n                     }),\n                     this.helperContainer.appendChild(this.textarea),\n                     this.compositionView = A.createElement(\"div\"),\n                     this.compositionView.classList.add(\"composition-view\"),\n                     this.compositionHelper = new c.CompositionHelper(this.textarea,this.compositionView,this),\n                     this.helperContainer.appendChild(this.compositionView),\n                     this.charSizeStyleElement = A.createElement(\"style\"),\n                     this.helperContainer.appendChild(this.charSizeStyleElement); s < this.rows; s++)\n                this.insertRow();\n            if (this.parent.appendChild(this.element),\n                this.charMeasure = new w.CharMeasure(A,this.helperContainer),\n                this.charMeasure.on(\"charsizechanged\", function() {\n                    i.updateCharSizeStyles()\n                }),\n                this.charMeasure.measure(),\n                this.viewport = new d.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasure),\n                this.renderer = new b.Renderer(this),\n                this.selectionManager = new C.SelectionManager(this,this.lines,this.rowContainer,this.charMeasure),\n                this.selectionManager.on(\"refresh\", function(e) {\n                    r.renderer.refreshSelection(e.start, e.end)\n                }),\n                this.selectionManager.on(\"newselection\", function(e) {\n                    r.textarea.value = e,\n                        r.textarea.focus(),\n                        r.textarea.select()\n                }),\n                this.on(\"scroll\", function() {\n                    return r.selectionManager.refresh()\n                }),\n                this.viewportElement.addEventListener(\"scroll\", function() {\n                    return r.selectionManager.refresh()\n                }),\n                this.refresh(0, this.rows - 1),\n                this.initGlobal(),\n            void 0 === t) {\n                var n = \"You did not pass the `focus` argument in `Terminal.prototype.open()`.\\n\";\n                n += \"The `focus` argument now defaults to `true` but starting with xterm.js 3.0 \",\n                    n += \"it will default to `false`.\",\n                    console.warn(n),\n                    t = !0\n            }\n            t && this.focus(),\n                o(this.element, \"click\", function() {\n                    var e = A.getSelection()\n                        , t = e.isCollapsed;\n                    (\"boolean\" == typeof t ? !t : \"Range\" == e.type) || i.focus()\n                }),\n                this.bindMouse(),\n                this.emit(\"open\")\n        }\n        ,\n        i.loadAddon = function(e, t) {\n            return r(29)(\"./\" + e + \"/\" + e)\n        }\n        ,\n        i.prototype.updateCharSizeStyles = function() {\n            this.charSizeStyleElement.textContent = \".xterm-wide-char{width:\" + 2 * this.charMeasure.width + \"px;}.xterm-normal-char{width:\" + this.charMeasure.width + \"px;}.xterm-rows > div{height:\" + this.charMeasure.height + \"px;}\"\n        }\n        ,\n        i.prototype.bindMouse = function() {\n            function e(e) {\n                var t, r;\n                if (t = n(e),\n                    r = v.getRawByteCoords(e, l.rowContainer, l.charMeasure, l.cols, l.rows))\n                    switch (i(t, r),\n                    e.overrideType || e.type) {\n                        case \"mousedown\":\n                            h = t;\n                            break;\n                        case \"mouseup\":\n                            h = 32\n                    }\n            }\n            function t(e) {\n                var t, r = h;\n                (t = v.getRawByteCoords(e, l.rowContainer, l.charMeasure, l.cols, l.rows)) && i(r += 32, t)\n            }\n            function r(e, t) {\n                if (l.utfMouse) {\n                    if (2047 === t)\n                        return e.push(0);\n                    t < 127 ? e.push(t) : (t > 2047 && (t = 2047),\n                        e.push(192 | t >> 6),\n                        e.push(128 | 63 & t))\n                } else {\n                    if (255 === t)\n                        return e.push(0);\n                    t > 127 && (t = 127),\n                        e.push(t)\n                }\n            }\n            function i(e, t) {\n                if (l.vt300Mouse) {\n                    e &= 3,\n                        t.x -= 32,\n                        t.y -= 32;\n                    var i = g.C0.ESC + \"[24\";\n                    if (0 === e)\n                        i += \"1\";\n                    else if (1 === e)\n                        i += \"3\";\n                    else if (2 === e)\n                        i += \"5\";\n                    else {\n                        if (3 === e)\n                            return;\n                        i += \"0\"\n                    }\n                    return i += \"~[\" + t.x + \",\" + t.y + \"]\\r\",\n                        void l.send(i)\n                }\n                return l.decLocator ? (e &= 3,\n                    t.x -= 32,\n                    t.y -= 32,\n                    0 === e ? e = 2 : 1 === e ? e = 4 : 2 === e ? e = 6 : 3 === e && (e = 3),\n                    void l.send(g.C0.ESC + \"[\" + e + \";\" + (3 === e ? 4 : 0) + \";\" + t.y + \";\" + t.x + \";\" + (t.page || 0) + \"&w\")) : l.urxvtMouse ? (t.x -= 32,\n                    t.y -= 32,\n                    t.x++,\n                    t.y++,\n                    void l.send(g.C0.ESC + \"[\" + e + \";\" + t.x + \";\" + t.y + \"M\")) : l.sgrMouse ? (t.x -= 32,\n                    t.y -= 32,\n                    void l.send(g.C0.ESC + \"[<\" + ((3 == (3 & e) ? -4 & e : e) - 32) + \";\" + t.x + \";\" + t.y + (3 == (3 & e) ? \"m\" : \"M\"))) : (r(i = [], e),\n                    r(i, t.x),\n                    r(i, t.y),\n                    void l.send(g.C0.ESC + \"[M\" + String.fromCharCode.apply(String, i)))\n            }\n            function n(e) {\n                var t, r, i, o, s;\n                switch (e.overrideType || e.type) {\n                    case \"mousedown\":\n                        t = null != e.button ? +e.button : null != e.which ? e.which - 1 : null,\n                        l.browser.isMSIE && (t = 1 === t ? 0 : 4 === t ? 1 : t);\n                        break;\n                    case \"mouseup\":\n                        t = 3;\n                        break;\n                    case \"DOMMouseScroll\":\n                        t = e.detail < 0 ? 64 : 65;\n                        break;\n                    case \"wheel\":\n                        t = e.wheelDeltaY > 0 ? 64 : 65\n                }\n                return r = e.shiftKey ? 4 : 0,\n                    i = e.metaKey ? 8 : 0,\n                    o = e.ctrlKey ? 16 : 0,\n                    s = r | i | o,\n                    l.vt200Mouse ? s &= o : l.normalMouse || (s = 0),\n                    t = 32 + (s << 2) + t\n            }\n            var a = this.element\n                , l = this\n                , h = 32;\n            o(a, \"mousedown\", function(r) {\n                if (l.mouseEvents)\n                    return e(r),\n                        l.focus(),\n                        l.vt200Mouse ? (r.overrideType = \"mouseup\",\n                            e(r),\n                            l.cancel(r)) : (l.normalMouse && o(l.document, \"mousemove\", t),\n                        l.x10Mouse || o(l.document, \"mouseup\", function r(i) {\n                            return e(i),\n                            l.normalMouse && s(l.document, \"mousemove\", t),\n                                s(l.document, \"mouseup\", r),\n                                l.cancel(i)\n                        }),\n                            l.cancel(r))\n            }),\n                o(a, \"wheel\", function(t) {\n                    if (l.mouseEvents && !(l.x10Mouse || l.vt300Mouse || l.decLocator))\n                        return e(t),\n                            l.cancel(t)\n                }),\n                o(a, \"wheel\", function(e) {\n                    if (!l.mouseEvents)\n                        return l.viewport.onWheel(e),\n                            l.cancel(e)\n                }),\n                o(a, \"touchstart\", function(e) {\n                    if (!l.mouseEvents)\n                        return l.viewport.onTouchStart(e),\n                            l.cancel(e)\n                }),\n                o(a, \"touchmove\", function(e) {\n                    if (!l.mouseEvents)\n                        return l.viewport.onTouchMove(e),\n                            l.cancel(e)\n                })\n        }\n        ,\n        i.prototype.destroy = function() {\n            this.readable = !1,\n                this.writable = !1,\n                this._events = {},\n                this.handler = function() {}\n                ,\n                this.write = function() {}\n                ,\n            this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element)\n        }\n        ,\n        i.prototype.refresh = function(e, t) {\n            this.renderer && this.renderer.queueRefresh(e, t)\n        }\n        ,\n        i.prototype.queueLinkification = function(e, t) {\n            if (this.linkifier)\n                for (var r = e; r <= t; r++)\n                    this.linkifier.linkifyRow(r)\n        }\n        ,\n        i.prototype.showCursor = function() {\n            this.cursorState || (this.cursorState = 1,\n                this.refresh(this.y, this.y))\n        }\n        ,\n        i.prototype.scroll = function(e) {\n            var t;\n            this.lines.length === this.lines.maxLength && (this.lines.trimStart(1),\n                this.ybase--,\n            0 !== this.ydisp && this.ydisp--),\n                this.ybase++,\n            this.userScrolling || (this.ydisp = this.ybase),\n                t = this.ybase + this.rows - 1,\n                (t -= this.rows - 1 - this.scrollBottom) === this.lines.length ? this.lines.push(this.blankLine(void 0, e)) : this.lines.splice(t, 0, this.blankLine(void 0, e)),\n            0 !== this.scrollTop && (0 !== this.ybase && (this.ybase--,\n            this.userScrolling || (this.ydisp = this.ybase)),\n                this.lines.splice(this.ybase + this.scrollTop, 1)),\n                this.updateRange(this.scrollTop),\n                this.updateRange(this.scrollBottom),\n                this.emit(\"scroll\", this.ydisp)\n        }\n        ,\n        i.prototype.scrollDisp = function(e, t) {\n            if (e < 0) {\n                if (0 === this.ydisp)\n                    return;\n                this.userScrolling = !0\n            } else\n                e + this.ydisp >= this.ybase && (this.userScrolling = !1);\n            this.ydisp += e,\n                this.ydisp > this.ybase ? this.ydisp = this.ybase : this.ydisp < 0 && (this.ydisp = 0),\n            t || this.emit(\"scroll\", this.ydisp),\n                this.refresh(0, this.rows - 1)\n        }\n        ,\n        i.prototype.scrollPages = function(e) {\n            this.scrollDisp(e * (this.rows - 1))\n        }\n        ,\n        i.prototype.scrollToTop = function() {\n            this.scrollDisp(-this.ydisp)\n        }\n        ,\n        i.prototype.scrollToBottom = function() {\n            this.scrollDisp(this.ybase - this.ydisp)\n        }\n        ,\n        i.prototype.write = function(e) {\n            if (this.writeBuffer.push(e),\n            this.options.useFlowControl && !this.xoffSentToCatchUp && this.writeBuffer.length >= 5 && (this.send(g.C0.DC3),\n                this.xoffSentToCatchUp = !0),\n            !this.writeInProgress && this.writeBuffer.length > 0) {\n                this.writeInProgress = !0;\n                var t = this;\n                setTimeout(function() {\n                    t.innerWrite()\n                })\n            }\n        }\n        ,\n        i.prototype.innerWrite = function() {\n            for (var e = this.writeBuffer.splice(0, 300); e.length > 0; ) {\n                var t = e.shift();\n                t.length;\n                this.xoffSentToCatchUp && 0 === e.length && 0 === this.writeBuffer.length && (this.send(g.C0.DC1),\n                    this.xoffSentToCatchUp = !1),\n                    this.refreshStart = this.y,\n                    this.refreshEnd = this.y;\n                var r = this.parser.parse(t);\n                this.parser.setState(r),\n                    this.updateRange(this.y),\n                    this.refresh(this.refreshStart, this.refreshEnd)\n            }\n            if (this.writeBuffer.length > 0) {\n                var i = this;\n                setTimeout(function() {\n                    i.innerWrite()\n                }, 0)\n            } else\n                this.writeInProgress = !1\n        }\n        ,\n        i.prototype.writeln = function(e) {\n            this.write(e + \"\\r\\n\")\n        }\n        ,\n        i.prototype.attachCustomKeydownHandler = function(e) {\n            console.warn(\"attachCustomKeydownHandler() is DEPRECATED and will be removed soon. Please use attachCustomKeyEventHandler() instead.\"),\n                this.attachCustomKeyEventHandler(e)\n        }\n        ,\n        i.prototype.attachCustomKeyEventHandler = function(e) {\n            this.customKeyEventHandler = e\n        }\n        ,\n        i.prototype.setHypertextLinkHandler = function(e) {\n            if (!this.linkifier)\n                throw new Error(\"Cannot attach a hypertext link handler before Terminal.open is called\");\n            this.linkifier.setHypertextLinkHandler(e),\n                this.refresh(0, this.rows - 1)\n        }\n        ,\n        i.prototype.setHypertextValidationCallback = function(e) {\n            if (!this.linkifier)\n                throw new Error(\"Cannot attach a hypertext validation callback before Terminal.open is called\");\n            this.linkifier.setHypertextValidationCallback(e),\n                this.refresh(0, this.rows - 1)\n        }\n        ,\n        i.prototype.registerLinkMatcher = function(e, t, r) {\n            if (this.linkifier) {\n                var i = this.linkifier.registerLinkMatcher(e, t, r);\n                return this.refresh(0, this.rows - 1),\n                    i\n            }\n        }\n        ,\n        i.prototype.deregisterLinkMatcher = function(e) {\n            this.linkifier && this.linkifier.deregisterLinkMatcher(e) && this.refresh(0, this.rows - 1)\n        }\n        ,\n        i.prototype.hasSelection = function() {\n            return this.selectionManager.hasSelection\n        }\n        ,\n        i.prototype.getSelection = function() {\n            return this.selectionManager.selectionText\n        }\n        ,\n        i.prototype.clearSelection = function() {\n            this.selectionManager.clearSelection()\n        }\n        ,\n        i.prototype.selectAll = function() {\n            this.selectionManager.selectAll()\n        }\n        ,\n        i.prototype.keyDown = function(e) {\n            if (this.customKeyEventHandler && !1 === this.customKeyEventHandler(e))\n                return !1;\n            if (this.restartCursorBlinking(),\n                !this.compositionHelper.keydown.bind(this.compositionHelper)(e))\n                return this.ybase !== this.ydisp && this.scrollToBottom(),\n                    !1;\n            var t = this.evaluateKeyEscapeSequence(e);\n            return t.key === g.C0.DC3 ? this.writeStopped = !0 : t.key === g.C0.DC1 && (this.writeStopped = !1),\n                t.scrollDisp ? (this.scrollDisp(t.scrollDisp),\n                    this.cancel(e, !0)) : !!a(this, e) || (t.cancel && this.cancel(e, !0),\n                !t.key || (this.emit(\"keydown\", e),\n                    this.emit(\"key\", t.key, e),\n                    this.showCursor(),\n                    this.handler(t.key),\n                    this.cancel(e, !0)))\n        }\n        ,\n        i.prototype.evaluateKeyEscapeSequence = function(e) {\n            var t = {\n                cancel: !1,\n                key: void 0,\n                scrollDisp: void 0\n            }\n                , r = e.shiftKey << 0 | e.altKey << 1 | e.ctrlKey << 2 | e.metaKey << 3;\n            switch (e.keyCode) {\n                case 8:\n                    if (e.shiftKey) {\n                        t.key = g.C0.BS;\n                        break\n                    }\n                    t.key = g.C0.DEL;\n                    break;\n                case 9:\n                    if (e.shiftKey) {\n                        t.key = g.C0.ESC + \"[Z\";\n                        break\n                    }\n                    t.key = g.C0.HT,\n                        t.cancel = !0;\n                    break;\n                case 13:\n                    t.key = g.C0.CR,\n                        t.cancel = !0;\n                    break;\n                case 27:\n                    t.key = g.C0.ESC,\n                        t.cancel = !0;\n                    break;\n                case 37:\n                    r ? (t.key = g.C0.ESC + \"[1;\" + (r + 1) + \"D\",\n                    t.key == g.C0.ESC + \"[1;3D\" && (t.key = this.browser.isMac ? g.C0.ESC + \"b\" : g.C0.ESC + \"[1;5D\")) : this.applicationCursor ? t.key = g.C0.ESC + \"OD\" : t.key = g.C0.ESC + \"[D\";\n                    break;\n                case 39:\n                    r ? (t.key = g.C0.ESC + \"[1;\" + (r + 1) + \"C\",\n                    t.key == g.C0.ESC + \"[1;3C\" && (t.key = this.browser.isMac ? g.C0.ESC + \"f\" : g.C0.ESC + \"[1;5C\")) : this.applicationCursor ? t.key = g.C0.ESC + \"OC\" : t.key = g.C0.ESC + \"[C\";\n                    break;\n                case 38:\n                    r ? (t.key = g.C0.ESC + \"[1;\" + (r + 1) + \"A\",\n                    t.key == g.C0.ESC + \"[1;3A\" && (t.key = g.C0.ESC + \"[1;5A\")) : this.applicationCursor ? t.key = g.C0.ESC + \"OA\" : t.key = g.C0.ESC + \"[A\";\n                    break;\n                case 40:\n                    r ? (t.key = g.C0.ESC + \"[1;\" + (r + 1) + \"B\",\n                    t.key == g.C0.ESC + \"[1;3B\" && (t.key = g.C0.ESC + \"[1;5B\")) : this.applicationCursor ? t.key = g.C0.ESC + \"OB\" : t.key = g.C0.ESC + \"[B\";\n                    break;\n                case 45:\n                    e.shiftKey || e.ctrlKey || (t.key = g.C0.ESC + \"[2~\");\n                    break;\n                case 46:\n                    t.key = r ? g.C0.ESC + \"[3;\" + (r + 1) + \"~\" : g.C0.ESC + \"[3~\";\n                    break;\n                case 36:\n                    r ? t.key = g.C0.ESC + \"[1;\" + (r + 1) + \"H\" : this.applicationCursor ? t.key = g.C0.ESC + \"OH\" : t.key = g.C0.ESC + \"[H\";\n                    break;\n                case 35:\n                    r ? t.key = g.C0.ESC + \"[1;\" + (r + 1) + \"F\" : this.applicationCursor ? t.key = g.C0.ESC + \"OF\" : t.key = g.C0.ESC + \"[F\";\n                    break;\n                case 33:\n                    e.shiftKey ? t.scrollDisp = -(this.rows - 1) : t.key = g.C0.ESC + \"[5~\";\n                    break;\n                case 34:\n                    e.shiftKey ? t.scrollDisp = this.rows - 1 : t.key = g.C0.ESC + \"[6~\";\n                    break;\n                case 112:\n                    t.key = r ? g.C0.ESC + \"[1;\" + (r + 1) + \"P\" : g.C0.ESC + \"OP\";\n                    break;\n                case 113:\n                    t.key = r ? g.C0.ESC + \"[1;\" + (r + 1) + \"Q\" : g.C0.ESC + \"OQ\";\n                    break;\n                case 114:\n                    t.key = r ? g.C0.ESC + \"[1;\" + (r + 1) + \"R\" : g.C0.ESC + \"OR\";\n                    break;\n                case 115:\n                    t.key = r ? g.C0.ESC + \"[1;\" + (r + 1) + \"S\" : g.C0.ESC + \"OS\";\n                    break;\n                case 116:\n                    t.key = r ? g.C0.ESC + \"[15;\" + (r + 1) + \"~\" : g.C0.ESC + \"[15~\";\n                    break;\n                case 117:\n                    t.key = r ? g.C0.ESC + \"[17;\" + (r + 1) + \"~\" : g.C0.ESC + \"[17~\";\n                    break;\n                case 118:\n                    t.key = r ? g.C0.ESC + \"[18;\" + (r + 1) + \"~\" : g.C0.ESC + \"[18~\";\n                    break;\n                case 119:\n                    t.key = r ? g.C0.ESC + \"[19;\" + (r + 1) + \"~\" : g.C0.ESC + \"[19~\";\n                    break;\n                case 120:\n                    t.key = r ? g.C0.ESC + \"[20;\" + (r + 1) + \"~\" : g.C0.ESC + \"[20~\";\n                    break;\n                case 121:\n                    t.key = r ? g.C0.ESC + \"[21;\" + (r + 1) + \"~\" : g.C0.ESC + \"[21~\";\n                    break;\n                case 122:\n                    t.key = r ? g.C0.ESC + \"[23;\" + (r + 1) + \"~\" : g.C0.ESC + \"[23~\";\n                    break;\n                case 123:\n                    t.key = r ? g.C0.ESC + \"[24;\" + (r + 1) + \"~\" : g.C0.ESC + \"[24~\";\n                    break;\n                default:\n                    !e.ctrlKey || e.shiftKey || e.altKey || e.metaKey ? this.browser.isMac || !e.altKey || e.ctrlKey || e.metaKey ? this.browser.isMac && !e.altKey && !e.ctrlKey && e.metaKey && 65 === e.keyCode && this.selectAll() : e.keyCode >= 65 && e.keyCode <= 90 ? t.key = g.C0.ESC + String.fromCharCode(e.keyCode + 32) : 192 === e.keyCode ? t.key = g.C0.ESC + \"`\" : e.keyCode >= 48 && e.keyCode <= 57 && (t.key = g.C0.ESC + (e.keyCode - 48)) : e.keyCode >= 65 && e.keyCode <= 90 ? t.key = String.fromCharCode(e.keyCode - 64) : 32 === e.keyCode ? t.key = String.fromCharCode(0) : e.keyCode >= 51 && e.keyCode <= 55 ? t.key = String.fromCharCode(e.keyCode - 51 + 27) : 56 === e.keyCode ? t.key = String.fromCharCode(127) : 219 === e.keyCode ? t.key = String.fromCharCode(27) : 220 === e.keyCode ? t.key = String.fromCharCode(28) : 221 === e.keyCode && (t.key = String.fromCharCode(29))\n            }\n            return t\n        }\n        ,\n        i.prototype.setgLevel = function(e) {\n            this.glevel = e,\n                this.charset = this.charsets[e]\n        }\n        ,\n        i.prototype.setgCharset = function(e, t) {\n            this.charsets[e] = t,\n            this.glevel === e && (this.charset = t)\n        }\n        ,\n        i.prototype.keyPress = function(e) {\n            var t;\n            if (this.customKeyEventHandler && !1 === this.customKeyEventHandler(e))\n                return !1;\n            if (this.cancel(e),\n                e.charCode)\n                t = e.charCode;\n            else if (null == e.which)\n                t = e.keyCode;\n            else {\n                if (0 === e.which || 0 === e.charCode)\n                    return !1;\n                t = e.which\n            }\n            return !(!t || (e.altKey || e.ctrlKey || e.metaKey) && !a(this, e)) && (t = String.fromCharCode(t),\n                this.emit(\"keypress\", t, e),\n                this.emit(\"key\", t, e),\n                this.showCursor(),\n                this.handler(t),\n                !0)\n        }\n        ,\n        i.prototype.send = function(e) {\n            var t = this;\n            this.queue || setTimeout(function() {\n                t.handler(t.queue),\n                    t.queue = \"\"\n            }, 1),\n                this.queue += e\n        }\n        ,\n        i.prototype.bell = function() {\n            if (this.visualBell) {\n                var e = this;\n                this.element.style.borderColor = \"white\",\n                    setTimeout(function() {\n                        e.element.style.borderColor = \"\"\n                    }, 10),\n                this.popOnBell && this.focus()\n            }\n        }\n        ,\n        i.prototype.log = function() {\n            if (this.debug && this.context.console && this.context.console.log) {\n                var e = Array.prototype.slice.call(arguments);\n                this.context.console.log.apply(this.context.console, e)\n            }\n        }\n        ,\n        i.prototype.error = function() {\n            if (this.debug && this.context.console && this.context.console.error) {\n                var e = Array.prototype.slice.call(arguments);\n                this.context.console.error.apply(this.context.console, e)\n            }\n        }\n        ,\n        i.prototype.resize = function(e, t) {\n            if (!isNaN(e) && !isNaN(t)) {\n                t > this.getOption(\"scrollback\") && this.setOption(\"scrollback\", t);\n                var r, i, o, s, n;\n                if (e !== this.cols || t !== this.rows) {\n                    if (e < 1 && (e = 1),\n                    t < 1 && (t = 1),\n                    (o = this.cols) < e)\n                        for (s = [this.defAttr, \" \", 1],\n                                 i = this.lines.length; i--; )\n                            for (; this.lines.get(i).length < e; )\n                                this.lines.get(i).push(s);\n                    if (this.cols = e,\n                        this.setupStops(this.cols),\n                        o = this.rows,\n                        n = 0,\n                    o < t)\n                        for (r = this.element; o++ < t; )\n                            this.lines.length < t + this.ybase && (this.ybase > 0 && this.lines.length <= this.ybase + this.y + n + 1 ? (this.ybase--,\n                                n++,\n                            this.ydisp > 0 && this.ydisp--) : this.lines.push(this.blankLine())),\n                            this.children.length < t && this.insertRow();\n                    else\n                        for (; o-- > t; )\n                            if (this.lines.length > t + this.ybase && (this.lines.length > this.ybase + this.y + 1 ? this.lines.pop() : (this.ybase++,\n                                this.ydisp++)),\n                            this.children.length > t) {\n                                if (!(r = this.children.shift()))\n                                    continue;\n                                r.parentNode.removeChild(r)\n                            }\n                    this.rows = t,\n                    this.y >= t && (this.y = t - 1),\n                    n && (this.y += n),\n                    this.x >= e && (this.x = e - 1),\n                        this.scrollTop = 0,\n                        this.scrollBottom = t - 1,\n                        this.charMeasure.measure(),\n                        this.refresh(0, this.rows - 1),\n                        this.normal = null,\n                        this.geometry = [this.cols, this.rows],\n                        this.emit(\"resize\", {\n                            terminal: this,\n                            cols: e,\n                            rows: t\n                        })\n                }\n            }\n        }\n        ,\n        i.prototype.updateRange = function(e) {\n            e < this.refreshStart && (this.refreshStart = e),\n            e > this.refreshEnd && (this.refreshEnd = e)\n        }\n        ,\n        i.prototype.maxRange = function() {\n            this.refreshStart = 0,\n                this.refreshEnd = this.rows - 1\n        }\n        ,\n        i.prototype.setupStops = function(e) {\n            for (null != e ? this.tabs[e] || (e = this.prevStop(e)) : (this.tabs = {},\n                e = 0); e < this.cols; e += this.getOption(\"tabStopWidth\"))\n                this.tabs[e] = !0\n        }\n        ,\n        i.prototype.prevStop = function(e) {\n            for (null == e && (e = this.x); !this.tabs[--e] && e > 0; )\n                ;\n            return e >= this.cols ? this.cols - 1 : e < 0 ? 0 : e\n        }\n        ,\n        i.prototype.nextStop = function(e) {\n            for (null == e && (e = this.x); !this.tabs[++e] && e < this.cols; )\n                ;\n            return e >= this.cols ? this.cols - 1 : e < 0 ? 0 : e\n        }\n        ,\n        i.prototype.eraseRight = function(e, t) {\n            var r = this.lines.get(this.ybase + t);\n            if (r) {\n                for (var i = [this.eraseAttr(), \" \", 1]; e < this.cols; e++)\n                    r[e] = i;\n                this.updateRange(t)\n            }\n        }\n        ,\n        i.prototype.eraseLeft = function(e, t) {\n            var r = this.lines.get(this.ybase + t);\n            if (r) {\n                var i = [this.eraseAttr(), \" \", 1];\n                for (e++; e--; )\n                    r[e] = i;\n                this.updateRange(t)\n            }\n        }\n        ,\n        i.prototype.clear = function() {\n            if (0 !== this.ybase || 0 !== this.y) {\n                this.lines.set(0, this.lines.get(this.ybase + this.y)),\n                    this.lines.length = 1,\n                    this.ydisp = 0,\n                    this.ybase = 0,\n                    this.y = 0;\n                for (var e = 1; e < this.rows; e++)\n                    this.lines.push(this.blankLine());\n                this.refresh(0, this.rows - 1),\n                    this.emit(\"scroll\", this.ydisp)\n            }\n        }\n        ,\n        i.prototype.eraseLine = function(e) {\n            this.eraseRight(0, e)\n        }\n        ,\n        i.prototype.blankLine = function(e, t) {\n            var r = [e ? this.eraseAttr() : this.defAttr, \" \", 1]\n                , i = []\n                , o = 0;\n            for (t && (i.isWrapped = t); o < this.cols; o++)\n                i[o] = r;\n            return i\n        }\n        ,\n        i.prototype.ch = function(e) {\n            return e ? [this.eraseAttr(), \" \", 1] : [this.defAttr, \" \", 1]\n        }\n        ,\n        i.prototype.is = function(e) {\n            return 0 === (this.termName + \"\").indexOf(e)\n        }\n        ,\n        i.prototype.handler = function(e) {\n            this.options.disableStdin || (this.ybase !== this.ydisp && this.scrollToBottom(),\n                this.emit(\"data\", e))\n        }\n        ,\n        i.prototype.handleTitle = function(e) {\n            this.emit(\"title\", e)\n        }\n        ,\n        i.prototype.index = function() {\n            ++this.y > this.scrollBottom && (this.y--,\n                this.scroll()),\n            this.x >= this.cols && this.x--\n        }\n        ,\n        i.prototype.reverseIndex = function() {\n            this.y === this.scrollTop ? (this.lines.shiftElements(this.y + this.ybase, this.rows - 1, 1),\n                this.lines.set(this.y + this.ybase, this.blankLine(!0)),\n                this.updateRange(this.scrollTop),\n                this.updateRange(this.scrollBottom)) : this.y--\n        }\n        ,\n        i.prototype.reset = function() {\n            this.options.rows = this.rows,\n                this.options.cols = this.cols;\n            var e = this.customKeyEventHandler\n                , t = this.cursorBlinkInterval;\n            i.call(this, this.options),\n                this.customKeyEventHandler = e,\n                this.cursorBlinkInterval = t,\n                this.refresh(0, this.rows - 1),\n                this.viewport.syncScrollArea()\n        }\n        ,\n        i.prototype.tabSet = function() {\n            this.tabs[this.x] = !0\n        }\n        ,\n        i.prototype.matchColor = l,\n        l._cache = {},\n        l.distance = function(e, t, r, i, o, s) {\n            return Math.pow(30 * (e - i), 2) + Math.pow(59 * (t - o), 2) + Math.pow(11 * (r - s), 2)\n        }\n        ,\n        i.EventEmitter = u.EventEmitter,\n        i.inherits = n,\n        i.on = o,\n        i.off = s,\n        i.cancel = function(e, t) {\n            if (this.cancelEvents || t)\n                return e.preventDefault(),\n                    e.stopPropagation(),\n                    !1\n        }\n        ,\n        e.exports = i\n}\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = function() {\n            function e() {\n                this._events = this._events || {}\n            }\n            return e.prototype.on = function(e, t) {\n                this._events[e] = this._events[e] || [],\n                    this._events[e].push(t)\n            }\n                ,\n                e.prototype.off = function(e, t) {\n                    if (this._events[e])\n                        for (var r = this._events[e], i = r.length; i--; )\n                            if (r[i] === t || r[i].listener === t)\n                                return void r.splice(i, 1)\n                }\n                ,\n                e.prototype.removeAllListeners = function(e) {\n                    this._events[e] && delete this._events[e]\n                }\n                ,\n                e.prototype.once = function(e, t) {\n                    function r() {\n                        var i = Array.prototype.slice.call(arguments);\n                        return this.off(e, r),\n                            t.apply(this, i)\n                    }\n                    return r.listener = t,\n                        this.on(e, r)\n                }\n                ,\n                e.prototype.emit = function(e) {\n                    for (var t = [], r = 1; r < arguments.length; r++)\n                        t[r - 1] = arguments[r];\n                    if (this._events[e])\n                        for (var i = this._events[e], o = 0; o < i.length; o++)\n                            i[o].apply(this, t)\n                }\n                ,\n                e.prototype.listeners = function(e) {\n                    return this._events[e] || []\n                }\n                ,\n                e\n        }();\n        t.EventEmitter = i\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        !function(e) {\n            e.NUL = \"\\0\",\n                e.SOH = \"\u0001\",\n                e.STX = \"\u0002\",\n                e.ETX = \"\u0003\",\n                e.EOT = \"\u0004\",\n                e.ENQ = \"\u0005\",\n                e.ACK = \"\u0006\",\n                e.BEL = \"\a\",\n                e.BS = \"\\b\",\n                e.HT = \"\\t\",\n                e.LF = \"\\n\",\n                e.VT = \"\\v\",\n                e.FF = \"\\f\",\n                e.CR = \"\\r\",\n                e.SO = \"\u000E\",\n                e.SI = \"\u000F\",\n                e.DLE = \"\u0010\",\n                e.DC1 = \"\u0011\",\n                e.DC2 = \"\u0012\",\n                e.DC3 = \"\u0013\",\n                e.DC4 = \"\u0014\",\n                e.NAK = \"\u0015\",\n                e.SYN = \"\u0016\",\n                e.ETB = \"\u0017\",\n                e.CAN = \"\u0018\",\n                e.EM = \"\u0019\",\n                e.SUB = \"\u001A\",\n                e.ESC = \"\u001B\",\n                e.FS = \"\u001C\",\n                e.GS = \"\u001D\",\n                e.RS = \"\u001E\",\n                e.US = \"\u001F\",\n                e.SP = \" \",\n                e.DEL = \"\u007F\"\n        }(t.C0 || (t.C0 = {}))\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        /*!\n * libapps (https://npmjs.com/package/libapps)\n * @license BSD-3-Clause\n * @version 1.70.0\n * ==libapps/LICENSE==\n * // Copyright (c) 2006-2009 The Chromium OS Authors. All rights reserved.\n * //\n * // Redistribution and use in source and binary forms, with or without\n * // modification, are permitted provided that the following conditions are\n * // met:\n * //\n * //    * Redistributions of source code must retain the above copyright\n * // notice, this list of conditions and the following disclaimer.\n * //    * Redistributions in binary form must reproduce the above\n * // copyright notice, this list of conditions and the following disclaimer\n * // in the documentation and/or other materials provided with the\n * // distribution.\n * //    * Neither the name of Google Inc. nor the names of its\n * // contributors may be used to endorse or promote products derived from\n * // this software without specific prior written permission.\n * //\n * // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * // \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n        if (void 0 !== i)\n            throw new Error('Global \"lib\" object already exists.');\n        var i = {};\n        i.runtimeDependencies_ = {},\n            i.initCallbacks_ = [],\n            i.rtdep = function(e) {\n                var t;\n                try {\n                    throw new Error\n                } catch (e) {\n                    var r = e.stack.split(\"\\n\");\n                    t = r.length >= 3 ? r[2].replace(/^\\s*at\\s+/, \"\") : r[1].replace(/^\\s*global code@/, \"\")\n                }\n                for (var o = 0; o < arguments.length; o++) {\n                    var s = arguments[o];\n                    if (s instanceof Array)\n                        i.rtdep.apply(i, s);\n                    else {\n                        var n = this.runtimeDependencies_[s];\n                        n || (n = this.runtimeDependencies_[s] = []),\n                            n.push(t)\n                    }\n                }\n            }\n            ,\n            i.ensureRuntimeDependencies_ = function() {\n                var e = !0;\n                for (var t in i.runtimeDependencies_)\n                    for (var r = i.runtimeDependencies_[t], o = t.split(\".\"), s = window || self, n = 0; n < o.length; n++) {\n                        if (!(o[n]in s)) {\n                            console.warn('Missing \"' + t + '\" is needed by', r),\n                                e = !1;\n                            break\n                        }\n                        s = s[o[n]]\n                    }\n                if (!e)\n                    throw new Error(\"Failed runtime dependency check\")\n            }\n            ,\n            i.registerInit = function(e, t) {\n                return i.initCallbacks_.push([e, t]),\n                    t\n            }\n            ,\n            i.init = function(e, t) {\n                var r = i.initCallbacks_\n                    , o = function() {\n                    if (r.length) {\n                        var s = r.shift();\n                        t && t(\"init: \" + s[0]),\n                            s[1](i.f.alarm(o))\n                    } else\n                        e()\n                };\n                if (\"function\" != typeof e)\n                    throw new Error(\"Missing or invalid argument: onInit\");\n                i.ensureRuntimeDependencies_(),\n                    setTimeout(o, 0)\n            }\n            ,\n        String.prototype.padStart || (String.prototype.padStart = function(e, t) {\n                return (e -= this.length) <= 0 ? String(this) : (void 0 === t && (t = \" \"),\n                e > t.length && (t = t.repeat(e / t.length + 1)),\n                t.slice(0, e) + String(this))\n            }\n        ),\n        String.prototype.padEnd || (String.prototype.padEnd = function(e, t) {\n                return (e -= this.length) <= 0 ? String(this) : (void 0 === t && (t = \" \"),\n                e > t.length && (t = t.repeat(e / t.length + 1)),\n                String(this) + t.slice(0, e))\n            }\n        ),\n            i.colors = {},\n            i.colors.re_ = {\n                hex16: /#([a-f0-9])([a-f0-9])([a-f0-9])/i,\n                hex24: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/i,\n                rgb: new RegExp(\"^/s*rgb/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*/)/s*$\".replace(/\\//g, \"\\\\\"),\"i\"),\n                rgba: new RegExp(\"^/s*rgba/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)/)/s*$\".replace(/\\//g, \"\\\\\"),\"i\"),\n                rgbx: new RegExp(\"^/s*rgba?/s*/(/s*(/d{1,3})/s*,/s*(/d{1,3})/s*,/s*(/d{1,3})/s*(?:,/s*(/d+(?:/./d+)?)/s*)?/)/s*$\".replace(/\\//g, \"\\\\\"),\"i\"),\n                x11rgb: /^\\s*rgb:([a-f0-9]{1,4})\\/([a-f0-9]{1,4})\\/([a-f0-9]{1,4})\\s*$/i,\n                name: /[a-z][a-z0-9\\s]+/\n            },\n            i.colors.rgbToX11 = function(e) {\n                function t(e) {\n                    return e = (257 * Math.min(e, 255)).toString(16),\n                        i.f.zpad(e, 4)\n                }\n                var r = e.match(i.colors.re_.rgbx);\n                return r ? \"rgb:\" + t(r[1]) + \"/\" + t(r[2]) + \"/\" + t(r[3]) : null\n            }\n            ,\n            i.colors.x11HexToCSS = function(e) {\n                if (!e.startsWith(\"#\"))\n                    return null;\n                if (e = e.substr(1),\n                -1 == [3, 6, 9, 12].indexOf(e.length))\n                    return null;\n                if (e.match(/[^a-f0-9]/i))\n                    return null;\n                var t = e.length / 3\n                    , r = e.substr(0, t)\n                    , o = e.substr(t, t)\n                    , s = e.substr(t + t, t);\n                return i.colors.arrayToRGBA([r, o, s].map(function(e) {\n                    return e = parseInt(e, 16),\n                        2 == t ? e : 1 == t ? e << 4 : e >> 4 * (t - 2)\n                }))\n            }\n            ,\n            i.colors.x11ToCSS = function(e) {\n                var t = e.match(i.colors.re_.x11rgb);\n                return t ? (t.splice(0, 1),\n                    i.colors.arrayToRGBA(t.map(function(e) {\n                        return 1 == e.length ? parseInt(e + e, 16) : 2 == e.length ? parseInt(e, 16) : (3 == e.length && (e += e.substr(2)),\n                            Math.round(parseInt(e, 16) / 257))\n                    }))) : e.startsWith(\"#\") ? i.colors.x11HexToCSS(e) : i.colors.nameToRGB(e)\n            }\n            ,\n            i.colors.hexToRGB = function(e) {\n                function t(e) {\n                    4 == e.length && (e = e.replace(r, function(e, t, r, i) {\n                        return \"#\" + t + t + r + r + i + i\n                    }));\n                    var t = e.match(o);\n                    return t ? \"rgb(\" + parseInt(t[1], 16) + \", \" + parseInt(t[2], 16) + \", \" + parseInt(t[3], 16) + \")\" : null\n                }\n                var r = i.colors.re_.hex16\n                    , o = i.colors.re_.hex24;\n                if (e instanceof Array)\n                    for (var s = 0; s < e.length; s++)\n                        e[s] = t(e[s]);\n                else\n                    e = t(e);\n                return e\n            }\n            ,\n            i.colors.rgbToHex = function(e) {\n                function t(e) {\n                    var t = i.colors.crackRGB(e);\n                    return t ? \"#\" + i.f.zpad((parseInt(t[0]) << 16 | parseInt(t[1]) << 8 | parseInt(t[2]) << 0).toString(16), 6) : null\n                }\n                if (e instanceof Array)\n                    for (var r = 0; r < e.length; r++)\n                        e[r] = t(e[r]);\n                else\n                    e = t(e);\n                return e\n            }\n            ,\n            i.colors.normalizeCSS = function(e) {\n                return e.startsWith(\"#\") ? i.colors.hexToRGB(e) : i.colors.re_.rgbx.test(e) ? e : i.colors.nameToRGB(e)\n            }\n            ,\n            i.colors.arrayToRGBA = function(e) {\n                var t = e.length > 3 ? e[3] : 1;\n                return \"rgba(\" + e[0] + \", \" + e[1] + \", \" + e[2] + \", \" + t + \")\"\n            }\n            ,\n            i.colors.setAlpha = function(e, t) {\n                var r = i.colors.crackRGB(e);\n                return r[3] = t,\n                    i.colors.arrayToRGBA(r)\n            }\n            ,\n            i.colors.mix = function(e, t, r) {\n                for (var o = i.colors.crackRGB(e), s = i.colors.crackRGB(t), n = 0; n < 4; ++n) {\n                    var a = s[n] - o[n];\n                    o[n] = Math.round(parseInt(o[n]) + a * r)\n                }\n                return i.colors.arrayToRGBA(o)\n            }\n            ,\n            i.colors.crackRGB = function(e) {\n                if (e.startsWith(\"rgba\")) {\n                    if (t = e.match(i.colors.re_.rgba))\n                        return t.shift(),\n                            t\n                } else {\n                    var t = e.match(i.colors.re_.rgb);\n                    if (t)\n                        return t.shift(),\n                            t.push(1),\n                            t\n                }\n                return console.error(\"Couldn't crack: \" + e),\n                    null\n            }\n            ,\n            i.colors.nameToRGB = function(e) {\n                return e in i.colors.colorNames ? i.colors.colorNames[e] : (e = e.toLowerCase())in i.colors.colorNames ? i.colors.colorNames[e] : (e = e.replace(/\\s+/g, \"\"))in i.colors.colorNames ? i.colors.colorNames[e] : null\n            }\n            ,\n            i.colors.stockColorPalette = i.colors.hexToRGB([\"#000000\", \"#CC0000\", \"#4E9A06\", \"#C4A000\", \"#3465A4\", \"#75507B\", \"#06989A\", \"#D3D7CF\", \"#555753\", \"#EF2929\", \"#00BA13\", \"#FCE94F\", \"#729FCF\", \"#F200CB\", \"#00B5BD\", \"#EEEEEC\", \"#000000\", \"#00005F\", \"#000087\", \"#0000AF\", \"#0000D7\", \"#0000FF\", \"#005F00\", \"#005F5F\", \"#005F87\", \"#005FAF\", \"#005FD7\", \"#005FFF\", \"#008700\", \"#00875F\", \"#008787\", \"#0087AF\", \"#0087D7\", \"#0087FF\", \"#00AF00\", \"#00AF5F\", \"#00AF87\", \"#00AFAF\", \"#00AFD7\", \"#00AFFF\", \"#00D700\", \"#00D75F\", \"#00D787\", \"#00D7AF\", \"#00D7D7\", \"#00D7FF\", \"#00FF00\", \"#00FF5F\", \"#00FF87\", \"#00FFAF\", \"#00FFD7\", \"#00FFFF\", \"#5F0000\", \"#5F005F\", \"#5F0087\", \"#5F00AF\", \"#5F00D7\", \"#5F00FF\", \"#5F5F00\", \"#5F5F5F\", \"#5F5F87\", \"#5F5FAF\", \"#5F5FD7\", \"#5F5FFF\", \"#5F8700\", \"#5F875F\", \"#5F8787\", \"#5F87AF\", \"#5F87D7\", \"#5F87FF\", \"#5FAF00\", \"#5FAF5F\", \"#5FAF87\", \"#5FAFAF\", \"#5FAFD7\", \"#5FAFFF\", \"#5FD700\", \"#5FD75F\", \"#5FD787\", \"#5FD7AF\", \"#5FD7D7\", \"#5FD7FF\", \"#5FFF00\", \"#5FFF5F\", \"#5FFF87\", \"#5FFFAF\", \"#5FFFD7\", \"#5FFFFF\", \"#870000\", \"#87005F\", \"#870087\", \"#8700AF\", \"#8700D7\", \"#8700FF\", \"#875F00\", \"#875F5F\", \"#875F87\", \"#875FAF\", \"#875FD7\", \"#875FFF\", \"#878700\", \"#87875F\", \"#878787\", \"#8787AF\", \"#8787D7\", \"#8787FF\", \"#87AF00\", \"#87AF5F\", \"#87AF87\", \"#87AFAF\", \"#87AFD7\", \"#87AFFF\", \"#87D700\", \"#87D75F\", \"#87D787\", \"#87D7AF\", \"#87D7D7\", \"#87D7FF\", \"#87FF00\", \"#87FF5F\", \"#87FF87\", \"#87FFAF\", \"#87FFD7\", \"#87FFFF\", \"#AF0000\", \"#AF005F\", \"#AF0087\", \"#AF00AF\", \"#AF00D7\", \"#AF00FF\", \"#AF5F00\", \"#AF5F5F\", \"#AF5F87\", \"#AF5FAF\", \"#AF5FD7\", \"#AF5FFF\", \"#AF8700\", \"#AF875F\", \"#AF8787\", \"#AF87AF\", \"#AF87D7\", \"#AF87FF\", \"#AFAF00\", \"#AFAF5F\", \"#AFAF87\", \"#AFAFAF\", \"#AFAFD7\", \"#AFAFFF\", \"#AFD700\", \"#AFD75F\", \"#AFD787\", \"#AFD7AF\", \"#AFD7D7\", \"#AFD7FF\", \"#AFFF00\", \"#AFFF5F\", \"#AFFF87\", \"#AFFFAF\", \"#AFFFD7\", \"#AFFFFF\", \"#D70000\", \"#D7005F\", \"#D70087\", \"#D700AF\", \"#D700D7\", \"#D700FF\", \"#D75F00\", \"#D75F5F\", \"#D75F87\", \"#D75FAF\", \"#D75FD7\", \"#D75FFF\", \"#D78700\", \"#D7875F\", \"#D78787\", \"#D787AF\", \"#D787D7\", \"#D787FF\", \"#D7AF00\", \"#D7AF5F\", \"#D7AF87\", \"#D7AFAF\", \"#D7AFD7\", \"#D7AFFF\", \"#D7D700\", \"#D7D75F\", \"#D7D787\", \"#D7D7AF\", \"#D7D7D7\", \"#D7D7FF\", \"#D7FF00\", \"#D7FF5F\", \"#D7FF87\", \"#D7FFAF\", \"#D7FFD7\", \"#D7FFFF\", \"#FF0000\", \"#FF005F\", \"#FF0087\", \"#FF00AF\", \"#FF00D7\", \"#FF00FF\", \"#FF5F00\", \"#FF5F5F\", \"#FF5F87\", \"#FF5FAF\", \"#FF5FD7\", \"#FF5FFF\", \"#FF8700\", \"#FF875F\", \"#FF8787\", \"#FF87AF\", \"#FF87D7\", \"#FF87FF\", \"#FFAF00\", \"#FFAF5F\", \"#FFAF87\", \"#FFAFAF\", \"#FFAFD7\", \"#FFAFFF\", \"#FFD700\", \"#FFD75F\", \"#FFD787\", \"#FFD7AF\", \"#FFD7D7\", \"#FFD7FF\", \"#FFFF00\", \"#FFFF5F\", \"#FFFF87\", \"#FFFFAF\", \"#FFFFD7\", \"#FFFFFF\", \"#080808\", \"#121212\", \"#1C1C1C\", \"#262626\", \"#303030\", \"#3A3A3A\", \"#444444\", \"#4E4E4E\", \"#585858\", \"#626262\", \"#6C6C6C\", \"#767676\", \"#808080\", \"#8A8A8A\", \"#949494\", \"#9E9E9E\", \"#A8A8A8\", \"#B2B2B2\", \"#BCBCBC\", \"#C6C6C6\", \"#D0D0D0\", \"#DADADA\", \"#E4E4E4\", \"#EEEEEE\"]),\n            i.colors.colorPalette = i.colors.stockColorPalette,\n            i.colors.colorNames = {\n                aliceblue: \"rgb(240, 248, 255)\",\n                antiquewhite: \"rgb(250, 235, 215)\",\n                antiquewhite1: \"rgb(255, 239, 219)\",\n                antiquewhite2: \"rgb(238, 223, 204)\",\n                antiquewhite3: \"rgb(205, 192, 176)\",\n                antiquewhite4: \"rgb(139, 131, 120)\",\n                aquamarine: \"rgb(127, 255, 212)\",\n                aquamarine1: \"rgb(127, 255, 212)\",\n                aquamarine2: \"rgb(118, 238, 198)\",\n                aquamarine3: \"rgb(102, 205, 170)\",\n                aquamarine4: \"rgb(69, 139, 116)\",\n                azure: \"rgb(240, 255, 255)\",\n                azure1: \"rgb(240, 255, 255)\",\n                azure2: \"rgb(224, 238, 238)\",\n                azure3: \"rgb(193, 205, 205)\",\n                azure4: \"rgb(131, 139, 139)\",\n                beige: \"rgb(245, 245, 220)\",\n                bisque: \"rgb(255, 228, 196)\",\n                bisque1: \"rgb(255, 228, 196)\",\n                bisque2: \"rgb(238, 213, 183)\",\n                bisque3: \"rgb(205, 183, 158)\",\n                bisque4: \"rgb(139, 125, 107)\",\n                black: \"rgb(0, 0, 0)\",\n                blanchedalmond: \"rgb(255, 235, 205)\",\n                blue: \"rgb(0, 0, 255)\",\n                blue1: \"rgb(0, 0, 255)\",\n                blue2: \"rgb(0, 0, 238)\",\n                blue3: \"rgb(0, 0, 205)\",\n                blue4: \"rgb(0, 0, 139)\",\n                blueviolet: \"rgb(138, 43, 226)\",\n                brown: \"rgb(165, 42, 42)\",\n                brown1: \"rgb(255, 64, 64)\",\n                brown2: \"rgb(238, 59, 59)\",\n                brown3: \"rgb(205, 51, 51)\",\n                brown4: \"rgb(139, 35, 35)\",\n                burlywood: \"rgb(222, 184, 135)\",\n                burlywood1: \"rgb(255, 211, 155)\",\n                burlywood2: \"rgb(238, 197, 145)\",\n                burlywood3: \"rgb(205, 170, 125)\",\n                burlywood4: \"rgb(139, 115, 85)\",\n                cadetblue: \"rgb(95, 158, 160)\",\n                cadetblue1: \"rgb(152, 245, 255)\",\n                cadetblue2: \"rgb(142, 229, 238)\",\n                cadetblue3: \"rgb(122, 197, 205)\",\n                cadetblue4: \"rgb(83, 134, 139)\",\n                chartreuse: \"rgb(127, 255, 0)\",\n                chartreuse1: \"rgb(127, 255, 0)\",\n                chartreuse2: \"rgb(118, 238, 0)\",\n                chartreuse3: \"rgb(102, 205, 0)\",\n                chartreuse4: \"rgb(69, 139, 0)\",\n                chocolate: \"rgb(210, 105, 30)\",\n                chocolate1: \"rgb(255, 127, 36)\",\n                chocolate2: \"rgb(238, 118, 33)\",\n                chocolate3: \"rgb(205, 102, 29)\",\n                chocolate4: \"rgb(139, 69, 19)\",\n                coral: \"rgb(255, 127, 80)\",\n                coral1: \"rgb(255, 114, 86)\",\n                coral2: \"rgb(238, 106, 80)\",\n                coral3: \"rgb(205, 91, 69)\",\n                coral4: \"rgb(139, 62, 47)\",\n                cornflowerblue: \"rgb(100, 149, 237)\",\n                cornsilk: \"rgb(255, 248, 220)\",\n                cornsilk1: \"rgb(255, 248, 220)\",\n                cornsilk2: \"rgb(238, 232, 205)\",\n                cornsilk3: \"rgb(205, 200, 177)\",\n                cornsilk4: \"rgb(139, 136, 120)\",\n                cyan: \"rgb(0, 255, 255)\",\n                cyan1: \"rgb(0, 255, 255)\",\n                cyan2: \"rgb(0, 238, 238)\",\n                cyan3: \"rgb(0, 205, 205)\",\n                cyan4: \"rgb(0, 139, 139)\",\n                darkblue: \"rgb(0, 0, 139)\",\n                darkcyan: \"rgb(0, 139, 139)\",\n                darkgoldenrod: \"rgb(184, 134, 11)\",\n                darkgoldenrod1: \"rgb(255, 185, 15)\",\n                darkgoldenrod2: \"rgb(238, 173, 14)\",\n                darkgoldenrod3: \"rgb(205, 149, 12)\",\n                darkgoldenrod4: \"rgb(139, 101, 8)\",\n                darkgray: \"rgb(169, 169, 169)\",\n                darkgreen: \"rgb(0, 100, 0)\",\n                darkgrey: \"rgb(169, 169, 169)\",\n                darkkhaki: \"rgb(189, 183, 107)\",\n                darkmagenta: \"rgb(139, 0, 139)\",\n                darkolivegreen: \"rgb(85, 107, 47)\",\n                darkolivegreen1: \"rgb(202, 255, 112)\",\n                darkolivegreen2: \"rgb(188, 238, 104)\",\n                darkolivegreen3: \"rgb(162, 205, 90)\",\n                darkolivegreen4: \"rgb(110, 139, 61)\",\n                darkorange: \"rgb(255, 140, 0)\",\n                darkorange1: \"rgb(255, 127, 0)\",\n                darkorange2: \"rgb(238, 118, 0)\",\n                darkorange3: \"rgb(205, 102, 0)\",\n                darkorange4: \"rgb(139, 69, 0)\",\n                darkorchid: \"rgb(153, 50, 204)\",\n                darkorchid1: \"rgb(191, 62, 255)\",\n                darkorchid2: \"rgb(178, 58, 238)\",\n                darkorchid3: \"rgb(154, 50, 205)\",\n                darkorchid4: \"rgb(104, 34, 139)\",\n                darkred: \"rgb(139, 0, 0)\",\n                darksalmon: \"rgb(233, 150, 122)\",\n                darkseagreen: \"rgb(143, 188, 143)\",\n                darkseagreen1: \"rgb(193, 255, 193)\",\n                darkseagreen2: \"rgb(180, 238, 180)\",\n                darkseagreen3: \"rgb(155, 205, 155)\",\n                darkseagreen4: \"rgb(105, 139, 105)\",\n                darkslateblue: \"rgb(72, 61, 139)\",\n                darkslategray: \"rgb(47, 79, 79)\",\n                darkslategray1: \"rgb(151, 255, 255)\",\n                darkslategray2: \"rgb(141, 238, 238)\",\n                darkslategray3: \"rgb(121, 205, 205)\",\n                darkslategray4: \"rgb(82, 139, 139)\",\n                darkslategrey: \"rgb(47, 79, 79)\",\n                darkturquoise: \"rgb(0, 206, 209)\",\n                darkviolet: \"rgb(148, 0, 211)\",\n                debianred: \"rgb(215, 7, 81)\",\n                deeppink: \"rgb(255, 20, 147)\",\n                deeppink1: \"rgb(255, 20, 147)\",\n                deeppink2: \"rgb(238, 18, 137)\",\n                deeppink3: \"rgb(205, 16, 118)\",\n                deeppink4: \"rgb(139, 10, 80)\",\n                deepskyblue: \"rgb(0, 191, 255)\",\n                deepskyblue1: \"rgb(0, 191, 255)\",\n                deepskyblue2: \"rgb(0, 178, 238)\",\n                deepskyblue3: \"rgb(0, 154, 205)\",\n                deepskyblue4: \"rgb(0, 104, 139)\",\n                dimgray: \"rgb(105, 105, 105)\",\n                dimgrey: \"rgb(105, 105, 105)\",\n                dodgerblue: \"rgb(30, 144, 255)\",\n                dodgerblue1: \"rgb(30, 144, 255)\",\n                dodgerblue2: \"rgb(28, 134, 238)\",\n                dodgerblue3: \"rgb(24, 116, 205)\",\n                dodgerblue4: \"rgb(16, 78, 139)\",\n                firebrick: \"rgb(178, 34, 34)\",\n                firebrick1: \"rgb(255, 48, 48)\",\n                firebrick2: \"rgb(238, 44, 44)\",\n                firebrick3: \"rgb(205, 38, 38)\",\n                firebrick4: \"rgb(139, 26, 26)\",\n                floralwhite: \"rgb(255, 250, 240)\",\n                forestgreen: \"rgb(34, 139, 34)\",\n                gainsboro: \"rgb(220, 220, 220)\",\n                ghostwhite: \"rgb(248, 248, 255)\",\n                gold: \"rgb(255, 215, 0)\",\n                gold1: \"rgb(255, 215, 0)\",\n                gold2: \"rgb(238, 201, 0)\",\n                gold3: \"rgb(205, 173, 0)\",\n                gold4: \"rgb(139, 117, 0)\",\n                goldenrod: \"rgb(218, 165, 32)\",\n                goldenrod1: \"rgb(255, 193, 37)\",\n                goldenrod2: \"rgb(238, 180, 34)\",\n                goldenrod3: \"rgb(205, 155, 29)\",\n                goldenrod4: \"rgb(139, 105, 20)\",\n                gray: \"rgb(190, 190, 190)\",\n                gray0: \"rgb(0, 0, 0)\",\n                gray1: \"rgb(3, 3, 3)\",\n                gray10: \"rgb(26, 26, 26)\",\n                gray100: \"rgb(255, 255, 255)\",\n                gray11: \"rgb(28, 28, 28)\",\n                gray12: \"rgb(31, 31, 31)\",\n                gray13: \"rgb(33, 33, 33)\",\n                gray14: \"rgb(36, 36, 36)\",\n                gray15: \"rgb(38, 38, 38)\",\n                gray16: \"rgb(41, 41, 41)\",\n                gray17: \"rgb(43, 43, 43)\",\n                gray18: \"rgb(46, 46, 46)\",\n                gray19: \"rgb(48, 48, 48)\",\n                gray2: \"rgb(5, 5, 5)\",\n                gray20: \"rgb(51, 51, 51)\",\n                gray21: \"rgb(54, 54, 54)\",\n                gray22: \"rgb(56, 56, 56)\",\n                gray23: \"rgb(59, 59, 59)\",\n                gray24: \"rgb(61, 61, 61)\",\n                gray25: \"rgb(64, 64, 64)\",\n                gray26: \"rgb(66, 66, 66)\",\n                gray27: \"rgb(69, 69, 69)\",\n                gray28: \"rgb(71, 71, 71)\",\n                gray29: \"rgb(74, 74, 74)\",\n                gray3: \"rgb(8, 8, 8)\",\n                gray30: \"rgb(77, 77, 77)\",\n                gray31: \"rgb(79, 79, 79)\",\n                gray32: \"rgb(82, 82, 82)\",\n                gray33: \"rgb(84, 84, 84)\",\n                gray34: \"rgb(87, 87, 87)\",\n                gray35: \"rgb(89, 89, 89)\",\n                gray36: \"rgb(92, 92, 92)\",\n                gray37: \"rgb(94, 94, 94)\",\n                gray38: \"rgb(97, 97, 97)\",\n                gray39: \"rgb(99, 99, 99)\",\n                gray4: \"rgb(10, 10, 10)\",\n                gray40: \"rgb(102, 102, 102)\",\n                gray41: \"rgb(105, 105, 105)\",\n                gray42: \"rgb(107, 107, 107)\",\n                gray43: \"rgb(110, 110, 110)\",\n                gray44: \"rgb(112, 112, 112)\",\n                gray45: \"rgb(115, 115, 115)\",\n                gray46: \"rgb(117, 117, 117)\",\n                gray47: \"rgb(120, 120, 120)\",\n                gray48: \"rgb(122, 122, 122)\",\n                gray49: \"rgb(125, 125, 125)\",\n                gray5: \"rgb(13, 13, 13)\",\n                gray50: \"rgb(127, 127, 127)\",\n                gray51: \"rgb(130, 130, 130)\",\n                gray52: \"rgb(133, 133, 133)\",\n                gray53: \"rgb(135, 135, 135)\",\n                gray54: \"rgb(138, 138, 138)\",\n                gray55: \"rgb(140, 140, 140)\",\n                gray56: \"rgb(143, 143, 143)\",\n                gray57: \"rgb(145, 145, 145)\",\n                gray58: \"rgb(148, 148, 148)\",\n                gray59: \"rgb(150, 150, 150)\",\n                gray6: \"rgb(15, 15, 15)\",\n                gray60: \"rgb(153, 153, 153)\",\n                gray61: \"rgb(156, 156, 156)\",\n                gray62: \"rgb(158, 158, 158)\",\n                gray63: \"rgb(161, 161, 161)\",\n                gray64: \"rgb(163, 163, 163)\",\n                gray65: \"rgb(166, 166, 166)\",\n                gray66: \"rgb(168, 168, 168)\",\n                gray67: \"rgb(171, 171, 171)\",\n                gray68: \"rgb(173, 173, 173)\",\n                gray69: \"rgb(176, 176, 176)\",\n                gray7: \"rgb(18, 18, 18)\",\n                gray70: \"rgb(179, 179, 179)\",\n                gray71: \"rgb(181, 181, 181)\",\n                gray72: \"rgb(184, 184, 184)\",\n                gray73: \"rgb(186, 186, 186)\",\n                gray74: \"rgb(189, 189, 189)\",\n                gray75: \"rgb(191, 191, 191)\",\n                gray76: \"rgb(194, 194, 194)\",\n                gray77: \"rgb(196, 196, 196)\",\n                gray78: \"rgb(199, 199, 199)\",\n                gray79: \"rgb(201, 201, 201)\",\n                gray8: \"rgb(20, 20, 20)\",\n                gray80: \"rgb(204, 204, 204)\",\n                gray81: \"rgb(207, 207, 207)\",\n                gray82: \"rgb(209, 209, 209)\",\n                gray83: \"rgb(212, 212, 212)\",\n                gray84: \"rgb(214, 214, 214)\",\n                gray85: \"rgb(217, 217, 217)\",\n                gray86: \"rgb(219, 219, 219)\",\n                gray87: \"rgb(222, 222, 222)\",\n                gray88: \"rgb(224, 224, 224)\",\n                gray89: \"rgb(227, 227, 227)\",\n                gray9: \"rgb(23, 23, 23)\",\n                gray90: \"rgb(229, 229, 229)\",\n                gray91: \"rgb(232, 232, 232)\",\n                gray92: \"rgb(235, 235, 235)\",\n                gray93: \"rgb(237, 237, 237)\",\n                gray94: \"rgb(240, 240, 240)\",\n                gray95: \"rgb(242, 242, 242)\",\n                gray96: \"rgb(245, 245, 245)\",\n                gray97: \"rgb(247, 247, 247)\",\n                gray98: \"rgb(250, 250, 250)\",\n                gray99: \"rgb(252, 252, 252)\",\n                green: \"rgb(0, 255, 0)\",\n                green1: \"rgb(0, 255, 0)\",\n                green2: \"rgb(0, 238, 0)\",\n                green3: \"rgb(0, 205, 0)\",\n                green4: \"rgb(0, 139, 0)\",\n                greenyellow: \"rgb(173, 255, 47)\",\n                grey: \"rgb(190, 190, 190)\",\n                grey0: \"rgb(0, 0, 0)\",\n                grey1: \"rgb(3, 3, 3)\",\n                grey10: \"rgb(26, 26, 26)\",\n                grey100: \"rgb(255, 255, 255)\",\n                grey11: \"rgb(28, 28, 28)\",\n                grey12: \"rgb(31, 31, 31)\",\n                grey13: \"rgb(33, 33, 33)\",\n                grey14: \"rgb(36, 36, 36)\",\n                grey15: \"rgb(38, 38, 38)\",\n                grey16: \"rgb(41, 41, 41)\",\n                grey17: \"rgb(43, 43, 43)\",\n                grey18: \"rgb(46, 46, 46)\",\n                grey19: \"rgb(48, 48, 48)\",\n                grey2: \"rgb(5, 5, 5)\",\n                grey20: \"rgb(51, 51, 51)\",\n                grey21: \"rgb(54, 54, 54)\",\n                grey22: \"rgb(56, 56, 56)\",\n                grey23: \"rgb(59, 59, 59)\",\n                grey24: \"rgb(61, 61, 61)\",\n                grey25: \"rgb(64, 64, 64)\",\n                grey26: \"rgb(66, 66, 66)\",\n                grey27: \"rgb(69, 69, 69)\",\n                grey28: \"rgb(71, 71, 71)\",\n                grey29: \"rgb(74, 74, 74)\",\n                grey3: \"rgb(8, 8, 8)\",\n                grey30: \"rgb(77, 77, 77)\",\n                grey31: \"rgb(79, 79, 79)\",\n                grey32: \"rgb(82, 82, 82)\",\n                grey33: \"rgb(84, 84, 84)\",\n                grey34: \"rgb(87, 87, 87)\",\n                grey35: \"rgb(89, 89, 89)\",\n                grey36: \"rgb(92, 92, 92)\",\n                grey37: \"rgb(94, 94, 94)\",\n                grey38: \"rgb(97, 97, 97)\",\n                grey39: \"rgb(99, 99, 99)\",\n                grey4: \"rgb(10, 10, 10)\",\n                grey40: \"rgb(102, 102, 102)\",\n                grey41: \"rgb(105, 105, 105)\",\n                grey42: \"rgb(107, 107, 107)\",\n                grey43: \"rgb(110, 110, 110)\",\n                grey44: \"rgb(112, 112, 112)\",\n                grey45: \"rgb(115, 115, 115)\",\n                grey46: \"rgb(117, 117, 117)\",\n                grey47: \"rgb(120, 120, 120)\",\n                grey48: \"rgb(122, 122, 122)\",\n                grey49: \"rgb(125, 125, 125)\",\n                grey5: \"rgb(13, 13, 13)\",\n                grey50: \"rgb(127, 127, 127)\",\n                grey51: \"rgb(130, 130, 130)\",\n                grey52: \"rgb(133, 133, 133)\",\n                grey53: \"rgb(135, 135, 135)\",\n                grey54: \"rgb(138, 138, 138)\",\n                grey55: \"rgb(140, 140, 140)\",\n                grey56: \"rgb(143, 143, 143)\",\n                grey57: \"rgb(145, 145, 145)\",\n                grey58: \"rgb(148, 148, 148)\",\n                grey59: \"rgb(150, 150, 150)\",\n                grey6: \"rgb(15, 15, 15)\",\n                grey60: \"rgb(153, 153, 153)\",\n                grey61: \"rgb(156, 156, 156)\",\n                grey62: \"rgb(158, 158, 158)\",\n                grey63: \"rgb(161, 161, 161)\",\n                grey64: \"rgb(163, 163, 163)\",\n                grey65: \"rgb(166, 166, 166)\",\n                grey66: \"rgb(168, 168, 168)\",\n                grey67: \"rgb(171, 171, 171)\",\n                grey68: \"rgb(173, 173, 173)\",\n                grey69: \"rgb(176, 176, 176)\",\n                grey7: \"rgb(18, 18, 18)\",\n                grey70: \"rgb(179, 179, 179)\",\n                grey71: \"rgb(181, 181, 181)\",\n                grey72: \"rgb(184, 184, 184)\",\n                grey73: \"rgb(186, 186, 186)\",\n                grey74: \"rgb(189, 189, 189)\",\n                grey75: \"rgb(191, 191, 191)\",\n                grey76: \"rgb(194, 194, 194)\",\n                grey77: \"rgb(196, 196, 196)\",\n                grey78: \"rgb(199, 199, 199)\",\n                grey79: \"rgb(201, 201, 201)\",\n                grey8: \"rgb(20, 20, 20)\",\n                grey80: \"rgb(204, 204, 204)\",\n                grey81: \"rgb(207, 207, 207)\",\n                grey82: \"rgb(209, 209, 209)\",\n                grey83: \"rgb(212, 212, 212)\",\n                grey84: \"rgb(214, 214, 214)\",\n                grey85: \"rgb(217, 217, 217)\",\n                grey86: \"rgb(219, 219, 219)\",\n                grey87: \"rgb(222, 222, 222)\",\n                grey88: \"rgb(224, 224, 224)\",\n                grey89: \"rgb(227, 227, 227)\",\n                grey9: \"rgb(23, 23, 23)\",\n                grey90: \"rgb(229, 229, 229)\",\n                grey91: \"rgb(232, 232, 232)\",\n                grey92: \"rgb(235, 235, 235)\",\n                grey93: \"rgb(237, 237, 237)\",\n                grey94: \"rgb(240, 240, 240)\",\n                grey95: \"rgb(242, 242, 242)\",\n                grey96: \"rgb(245, 245, 245)\",\n                grey97: \"rgb(247, 247, 247)\",\n                grey98: \"rgb(250, 250, 250)\",\n                grey99: \"rgb(252, 252, 252)\",\n                honeydew: \"rgb(240, 255, 240)\",\n                honeydew1: \"rgb(240, 255, 240)\",\n                honeydew2: \"rgb(224, 238, 224)\",\n                honeydew3: \"rgb(193, 205, 193)\",\n                honeydew4: \"rgb(131, 139, 131)\",\n                hotpink: \"rgb(255, 105, 180)\",\n                hotpink1: \"rgb(255, 110, 180)\",\n                hotpink2: \"rgb(238, 106, 167)\",\n                hotpink3: \"rgb(205, 96, 144)\",\n                hotpink4: \"rgb(139, 58, 98)\",\n                indianred: \"rgb(205, 92, 92)\",\n                indianred1: \"rgb(255, 106, 106)\",\n                indianred2: \"rgb(238, 99, 99)\",\n                indianred3: \"rgb(205, 85, 85)\",\n                indianred4: \"rgb(139, 58, 58)\",\n                ivory: \"rgb(255, 255, 240)\",\n                ivory1: \"rgb(255, 255, 240)\",\n                ivory2: \"rgb(238, 238, 224)\",\n                ivory3: \"rgb(205, 205, 193)\",\n                ivory4: \"rgb(139, 139, 131)\",\n                khaki: \"rgb(240, 230, 140)\",\n                khaki1: \"rgb(255, 246, 143)\",\n                khaki2: \"rgb(238, 230, 133)\",\n                khaki3: \"rgb(205, 198, 115)\",\n                khaki4: \"rgb(139, 134, 78)\",\n                lavender: \"rgb(230, 230, 250)\",\n                lavenderblush: \"rgb(255, 240, 245)\",\n                lavenderblush1: \"rgb(255, 240, 245)\",\n                lavenderblush2: \"rgb(238, 224, 229)\",\n                lavenderblush3: \"rgb(205, 193, 197)\",\n                lavenderblush4: \"rgb(139, 131, 134)\",\n                lawngreen: \"rgb(124, 252, 0)\",\n                lemonchiffon: \"rgb(255, 250, 205)\",\n                lemonchiffon1: \"rgb(255, 250, 205)\",\n                lemonchiffon2: \"rgb(238, 233, 191)\",\n                lemonchiffon3: \"rgb(205, 201, 165)\",\n                lemonchiffon4: \"rgb(139, 137, 112)\",\n                lightblue: \"rgb(173, 216, 230)\",\n                lightblue1: \"rgb(191, 239, 255)\",\n                lightblue2: \"rgb(178, 223, 238)\",\n                lightblue3: \"rgb(154, 192, 205)\",\n                lightblue4: \"rgb(104, 131, 139)\",\n                lightcoral: \"rgb(240, 128, 128)\",\n                lightcyan: \"rgb(224, 255, 255)\",\n                lightcyan1: \"rgb(224, 255, 255)\",\n                lightcyan2: \"rgb(209, 238, 238)\",\n                lightcyan3: \"rgb(180, 205, 205)\",\n                lightcyan4: \"rgb(122, 139, 139)\",\n                lightgoldenrod: \"rgb(238, 221, 130)\",\n                lightgoldenrod1: \"rgb(255, 236, 139)\",\n                lightgoldenrod2: \"rgb(238, 220, 130)\",\n                lightgoldenrod3: \"rgb(205, 190, 112)\",\n                lightgoldenrod4: \"rgb(139, 129, 76)\",\n                lightgoldenrodyellow: \"rgb(250, 250, 210)\",\n                lightgray: \"rgb(211, 211, 211)\",\n                lightgreen: \"rgb(144, 238, 144)\",\n                lightgrey: \"rgb(211, 211, 211)\",\n                lightpink: \"rgb(255, 182, 193)\",\n                lightpink1: \"rgb(255, 174, 185)\",\n                lightpink2: \"rgb(238, 162, 173)\",\n                lightpink3: \"rgb(205, 140, 149)\",\n                lightpink4: \"rgb(139, 95, 101)\",\n                lightsalmon: \"rgb(255, 160, 122)\",\n                lightsalmon1: \"rgb(255, 160, 122)\",\n                lightsalmon2: \"rgb(238, 149, 114)\",\n                lightsalmon3: \"rgb(205, 129, 98)\",\n                lightsalmon4: \"rgb(139, 87, 66)\",\n                lightseagreen: \"rgb(32, 178, 170)\",\n                lightskyblue: \"rgb(135, 206, 250)\",\n                lightskyblue1: \"rgb(176, 226, 255)\",\n                lightskyblue2: \"rgb(164, 211, 238)\",\n                lightskyblue3: \"rgb(141, 182, 205)\",\n                lightskyblue4: \"rgb(96, 123, 139)\",\n                lightslateblue: \"rgb(132, 112, 255)\",\n                lightslategray: \"rgb(119, 136, 153)\",\n                lightslategrey: \"rgb(119, 136, 153)\",\n                lightsteelblue: \"rgb(176, 196, 222)\",\n                lightsteelblue1: \"rgb(202, 225, 255)\",\n                lightsteelblue2: \"rgb(188, 210, 238)\",\n                lightsteelblue3: \"rgb(162, 181, 205)\",\n                lightsteelblue4: \"rgb(110, 123, 139)\",\n                lightyellow: \"rgb(255, 255, 224)\",\n                lightyellow1: \"rgb(255, 255, 224)\",\n                lightyellow2: \"rgb(238, 238, 209)\",\n                lightyellow3: \"rgb(205, 205, 180)\",\n                lightyellow4: \"rgb(139, 139, 122)\",\n                limegreen: \"rgb(50, 205, 50)\",\n                linen: \"rgb(250, 240, 230)\",\n                magenta: \"rgb(255, 0, 255)\",\n                magenta1: \"rgb(255, 0, 255)\",\n                magenta2: \"rgb(238, 0, 238)\",\n                magenta3: \"rgb(205, 0, 205)\",\n                magenta4: \"rgb(139, 0, 139)\",\n                maroon: \"rgb(176, 48, 96)\",\n                maroon1: \"rgb(255, 52, 179)\",\n                maroon2: \"rgb(238, 48, 167)\",\n                maroon3: \"rgb(205, 41, 144)\",\n                maroon4: \"rgb(139, 28, 98)\",\n                mediumaquamarine: \"rgb(102, 205, 170)\",\n                mediumblue: \"rgb(0, 0, 205)\",\n                mediumorchid: \"rgb(186, 85, 211)\",\n                mediumorchid1: \"rgb(224, 102, 255)\",\n                mediumorchid2: \"rgb(209, 95, 238)\",\n                mediumorchid3: \"rgb(180, 82, 205)\",\n                mediumorchid4: \"rgb(122, 55, 139)\",\n                mediumpurple: \"rgb(147, 112, 219)\",\n                mediumpurple1: \"rgb(171, 130, 255)\",\n                mediumpurple2: \"rgb(159, 121, 238)\",\n                mediumpurple3: \"rgb(137, 104, 205)\",\n                mediumpurple4: \"rgb(93, 71, 139)\",\n                mediumseagreen: \"rgb(60, 179, 113)\",\n                mediumslateblue: \"rgb(123, 104, 238)\",\n                mediumspringgreen: \"rgb(0, 250, 154)\",\n                mediumturquoise: \"rgb(72, 209, 204)\",\n                mediumvioletred: \"rgb(199, 21, 133)\",\n                midnightblue: \"rgb(25, 25, 112)\",\n                mintcream: \"rgb(245, 255, 250)\",\n                mistyrose: \"rgb(255, 228, 225)\",\n                mistyrose1: \"rgb(255, 228, 225)\",\n                mistyrose2: \"rgb(238, 213, 210)\",\n                mistyrose3: \"rgb(205, 183, 181)\",\n                mistyrose4: \"rgb(139, 125, 123)\",\n                moccasin: \"rgb(255, 228, 181)\",\n                navajowhite: \"rgb(255, 222, 173)\",\n                navajowhite1: \"rgb(255, 222, 173)\",\n                navajowhite2: \"rgb(238, 207, 161)\",\n                navajowhite3: \"rgb(205, 179, 139)\",\n                navajowhite4: \"rgb(139, 121, 94)\",\n                navy: \"rgb(0, 0, 128)\",\n                navyblue: \"rgb(0, 0, 128)\",\n                oldlace: \"rgb(253, 245, 230)\",\n                olivedrab: \"rgb(107, 142, 35)\",\n                olivedrab1: \"rgb(192, 255, 62)\",\n                olivedrab2: \"rgb(179, 238, 58)\",\n                olivedrab3: \"rgb(154, 205, 50)\",\n                olivedrab4: \"rgb(105, 139, 34)\",\n                orange: \"rgb(255, 165, 0)\",\n                orange1: \"rgb(255, 165, 0)\",\n                orange2: \"rgb(238, 154, 0)\",\n                orange3: \"rgb(205, 133, 0)\",\n                orange4: \"rgb(139, 90, 0)\",\n                orangered: \"rgb(255, 69, 0)\",\n                orangered1: \"rgb(255, 69, 0)\",\n                orangered2: \"rgb(238, 64, 0)\",\n                orangered3: \"rgb(205, 55, 0)\",\n                orangered4: \"rgb(139, 37, 0)\",\n                orchid: \"rgb(218, 112, 214)\",\n                orchid1: \"rgb(255, 131, 250)\",\n                orchid2: \"rgb(238, 122, 233)\",\n                orchid3: \"rgb(205, 105, 201)\",\n                orchid4: \"rgb(139, 71, 137)\",\n                palegoldenrod: \"rgb(238, 232, 170)\",\n                palegreen: \"rgb(152, 251, 152)\",\n                palegreen1: \"rgb(154, 255, 154)\",\n                palegreen2: \"rgb(144, 238, 144)\",\n                palegreen3: \"rgb(124, 205, 124)\",\n                palegreen4: \"rgb(84, 139, 84)\",\n                paleturquoise: \"rgb(175, 238, 238)\",\n                paleturquoise1: \"rgb(187, 255, 255)\",\n                paleturquoise2: \"rgb(174, 238, 238)\",\n                paleturquoise3: \"rgb(150, 205, 205)\",\n                paleturquoise4: \"rgb(102, 139, 139)\",\n                palevioletred: \"rgb(219, 112, 147)\",\n                palevioletred1: \"rgb(255, 130, 171)\",\n                palevioletred2: \"rgb(238, 121, 159)\",\n                palevioletred3: \"rgb(205, 104, 137)\",\n                palevioletred4: \"rgb(139, 71, 93)\",\n                papayawhip: \"rgb(255, 239, 213)\",\n                peachpuff: \"rgb(255, 218, 185)\",\n                peachpuff1: \"rgb(255, 218, 185)\",\n                peachpuff2: \"rgb(238, 203, 173)\",\n                peachpuff3: \"rgb(205, 175, 149)\",\n                peachpuff4: \"rgb(139, 119, 101)\",\n                peru: \"rgb(205, 133, 63)\",\n                pink: \"rgb(255, 192, 203)\",\n                pink1: \"rgb(255, 181, 197)\",\n                pink2: \"rgb(238, 169, 184)\",\n                pink3: \"rgb(205, 145, 158)\",\n                pink4: \"rgb(139, 99, 108)\",\n                plum: \"rgb(221, 160, 221)\",\n                plum1: \"rgb(255, 187, 255)\",\n                plum2: \"rgb(238, 174, 238)\",\n                plum3: \"rgb(205, 150, 205)\",\n                plum4: \"rgb(139, 102, 139)\",\n                powderblue: \"rgb(176, 224, 230)\",\n                purple: \"rgb(160, 32, 240)\",\n                purple1: \"rgb(155, 48, 255)\",\n                purple2: \"rgb(145, 44, 238)\",\n                purple3: \"rgb(125, 38, 205)\",\n                purple4: \"rgb(85, 26, 139)\",\n                red: \"rgb(255, 0, 0)\",\n                red1: \"rgb(255, 0, 0)\",\n                red2: \"rgb(238, 0, 0)\",\n                red3: \"rgb(205, 0, 0)\",\n                red4: \"rgb(139, 0, 0)\",\n                rosybrown: \"rgb(188, 143, 143)\",\n                rosybrown1: \"rgb(255, 193, 193)\",\n                rosybrown2: \"rgb(238, 180, 180)\",\n                rosybrown3: \"rgb(205, 155, 155)\",\n                rosybrown4: \"rgb(139, 105, 105)\",\n                royalblue: \"rgb(65, 105, 225)\",\n                royalblue1: \"rgb(72, 118, 255)\",\n                royalblue2: \"rgb(67, 110, 238)\",\n                royalblue3: \"rgb(58, 95, 205)\",\n                royalblue4: \"rgb(39, 64, 139)\",\n                saddlebrown: \"rgb(139, 69, 19)\",\n                salmon: \"rgb(250, 128, 114)\",\n                salmon1: \"rgb(255, 140, 105)\",\n                salmon2: \"rgb(238, 130, 98)\",\n                salmon3: \"rgb(205, 112, 84)\",\n                salmon4: \"rgb(139, 76, 57)\",\n                sandybrown: \"rgb(244, 164, 96)\",\n                seagreen: \"rgb(46, 139, 87)\",\n                seagreen1: \"rgb(84, 255, 159)\",\n                seagreen2: \"rgb(78, 238, 148)\",\n                seagreen3: \"rgb(67, 205, 128)\",\n                seagreen4: \"rgb(46, 139, 87)\",\n                seashell: \"rgb(255, 245, 238)\",\n                seashell1: \"rgb(255, 245, 238)\",\n                seashell2: \"rgb(238, 229, 222)\",\n                seashell3: \"rgb(205, 197, 191)\",\n                seashell4: \"rgb(139, 134, 130)\",\n                sienna: \"rgb(160, 82, 45)\",\n                sienna1: \"rgb(255, 130, 71)\",\n                sienna2: \"rgb(238, 121, 66)\",\n                sienna3: \"rgb(205, 104, 57)\",\n                sienna4: \"rgb(139, 71, 38)\",\n                skyblue: \"rgb(135, 206, 235)\",\n                skyblue1: \"rgb(135, 206, 255)\",\n                skyblue2: \"rgb(126, 192, 238)\",\n                skyblue3: \"rgb(108, 166, 205)\",\n                skyblue4: \"rgb(74, 112, 139)\",\n                slateblue: \"rgb(106, 90, 205)\",\n                slateblue1: \"rgb(131, 111, 255)\",\n                slateblue2: \"rgb(122, 103, 238)\",\n                slateblue3: \"rgb(105, 89, 205)\",\n                slateblue4: \"rgb(71, 60, 139)\",\n                slategray: \"rgb(112, 128, 144)\",\n                slategray1: \"rgb(198, 226, 255)\",\n                slategray2: \"rgb(185, 211, 238)\",\n                slategray3: \"rgb(159, 182, 205)\",\n                slategray4: \"rgb(108, 123, 139)\",\n                slategrey: \"rgb(112, 128, 144)\",\n                snow: \"rgb(255, 250, 250)\",\n                snow1: \"rgb(255, 250, 250)\",\n                snow2: \"rgb(238, 233, 233)\",\n                snow3: \"rgb(205, 201, 201)\",\n                snow4: \"rgb(139, 137, 137)\",\n                springgreen: \"rgb(0, 255, 127)\",\n                springgreen1: \"rgb(0, 255, 127)\",\n                springgreen2: \"rgb(0, 238, 118)\",\n                springgreen3: \"rgb(0, 205, 102)\",\n                springgreen4: \"rgb(0, 139, 69)\",\n                steelblue: \"rgb(70, 130, 180)\",\n                steelblue1: \"rgb(99, 184, 255)\",\n                steelblue2: \"rgb(92, 172, 238)\",\n                steelblue3: \"rgb(79, 148, 205)\",\n                steelblue4: \"rgb(54, 100, 139)\",\n                tan: \"rgb(210, 180, 140)\",\n                tan1: \"rgb(255, 165, 79)\",\n                tan2: \"rgb(238, 154, 73)\",\n                tan3: \"rgb(205, 133, 63)\",\n                tan4: \"rgb(139, 90, 43)\",\n                thistle: \"rgb(216, 191, 216)\",\n                thistle1: \"rgb(255, 225, 255)\",\n                thistle2: \"rgb(238, 210, 238)\",\n                thistle3: \"rgb(205, 181, 205)\",\n                thistle4: \"rgb(139, 123, 139)\",\n                tomato: \"rgb(255, 99, 71)\",\n                tomato1: \"rgb(255, 99, 71)\",\n                tomato2: \"rgb(238, 92, 66)\",\n                tomato3: \"rgb(205, 79, 57)\",\n                tomato4: \"rgb(139, 54, 38)\",\n                turquoise: \"rgb(64, 224, 208)\",\n                turquoise1: \"rgb(0, 245, 255)\",\n                turquoise2: \"rgb(0, 229, 238)\",\n                turquoise3: \"rgb(0, 197, 205)\",\n                turquoise4: \"rgb(0, 134, 139)\",\n                violet: \"rgb(238, 130, 238)\",\n                violetred: \"rgb(208, 32, 144)\",\n                violetred1: \"rgb(255, 62, 150)\",\n                violetred2: \"rgb(238, 58, 140)\",\n                violetred3: \"rgb(205, 50, 120)\",\n                violetred4: \"rgb(139, 34, 82)\",\n                wheat: \"rgb(245, 222, 179)\",\n                wheat1: \"rgb(255, 231, 186)\",\n                wheat2: \"rgb(238, 216, 174)\",\n                wheat3: \"rgb(205, 186, 150)\",\n                wheat4: \"rgb(139, 126, 102)\",\n                white: \"rgb(255, 255, 255)\",\n                whitesmoke: \"rgb(245, 245, 245)\",\n                yellow: \"rgb(255, 255, 0)\",\n                yellow1: \"rgb(255, 255, 0)\",\n                yellow2: \"rgb(238, 238, 0)\",\n                yellow3: \"rgb(205, 205, 0)\",\n                yellow4: \"rgb(139, 139, 0)\",\n                yellowgreen: \"rgb(154, 205, 50)\"\n            },\n            i.f = {},\n            i.f.createEnum = function(e) {\n                return new String(e)\n            }\n            ,\n            i.f.replaceVars = function(e, t) {\n                return e.replace(/%([a-z]*)\\(([^\\)]+)\\)/gi, function(e, r, o) {\n                    if (void 0 === t[o])\n                        throw \"Unknown variable: \" + o;\n                    var s = t[o];\n                    if (r in i.f.replaceVars.functions)\n                        s = i.f.replaceVars.functions[r](s);\n                    else if (r)\n                        throw \"Unknown escape function: \" + r;\n                    return s\n                })\n            }\n            ,\n            i.f.replaceVars.functions = {\n                encodeURI: encodeURI,\n                encodeURIComponent: encodeURIComponent,\n                escapeHTML: function(e) {\n                    var t = {\n                        \"<\": \"&lt;\",\n                        \">\": \"&gt;\",\n                        \"&\": \"&amp;\",\n                        '\"': \"&quot;\",\n                        \"'\": \"&#39;\"\n                    };\n                    return e.replace(/[<>&\\\"\\']/g, function(e) {\n                        return t[e]\n                    })\n                }\n            },\n            i.f.getAcceptLanguages = function(e) {\n                i.f.getAcceptLanguages.chromeSupported() ? chrome.i18n.getAcceptLanguages(e) : setTimeout(function() {\n                    e([navigator.language.replace(/-/g, \"_\")])\n                }, 0)\n            }\n            ,\n            i.f.getAcceptLanguages.chromeSupported = function() {\n                return window.chrome && chrome.i18n\n            }\n            ,\n            i.f.parseQuery = function(e) {\n                e.startsWith(\"?\") && (e = e.substr(1));\n                for (var t = {}, r = e.split(\"&\"), i = 0; i < r.length; i++) {\n                    var o = r[i].split(\"=\");\n                    t[decodeURIComponent(o[0])] = decodeURIComponent(o[1])\n                }\n                return t\n            }\n            ,\n            i.f.getURL = function(e) {\n                return i.f.getURL.chromeSupported() ? chrome.runtime.getURL(e) : e\n            }\n            ,\n            i.f.getURL.chromeSupported = function() {\n                return window.chrome && chrome.runtime && chrome.runtime.getURL\n            }\n            ,\n            i.f.clamp = function(e, t, r) {\n                return e < t ? t : e > r ? r : e\n            }\n            ,\n            i.f.zpad = function(e, t) {\n                return String(e).padStart(t, \"0\")\n            }\n            ,\n            i.f.getWhitespace = function(e) {\n                if (e <= 0)\n                    return \"\";\n                var t = this.getWhitespace;\n                for (t.whitespace || (t.whitespace = \"          \"); e > t.whitespace.length; )\n                    t.whitespace += t.whitespace;\n                return t.whitespace.substr(0, e)\n            }\n            ,\n            i.f.alarm = function(e, t) {\n                var r = t || 5e3\n                    , o = i.f.getStack(1);\n                return function() {\n                    var t = setTimeout(function() {\n                        var i = \"string\" == typeof e ? i : e.name;\n                        i = i ? \": \" + i : \"\",\n                            console.warn(\"lib.f.alarm: timeout expired: \" + r / 1e3 + \"s\" + i),\n                            console.log(o),\n                            t = null\n                    }, r)\n                        , i = function(e) {\n                        return function() {\n                            return t && (clearTimeout(t),\n                                t = null),\n                                e.apply(null, arguments)\n                        }\n                    };\n                    return \"string\" == typeof e ? i : i(e)\n                }()\n            }\n            ,\n            i.f.getStack = function(e) {\n                var t, r = e ? e + 2 : 2;\n                try {\n                    throw new Error\n                } catch (e) {\n                    t = e.stack.split(\"\\n\")\n                }\n                for (var i = {}, o = r; o < t.length; o++)\n                    i[o - r] = t[o].replace(/^\\s*at\\s+/, \"\");\n                return i\n            }\n            ,\n            i.f.smartFloorDivide = function(e, t) {\n                var r = e / t\n                    , i = Math.ceil(r);\n                return i - r < 1e-4 ? i : Math.floor(r)\n            }\n            ,\n            i.f.randomInt = function(e, t) {\n                return Math.floor(Math.random() * (t - e + 1)) + e\n            }\n            ,\n            i.MessageManager = function(e) {\n                this.languages_ = e.map(function(e) {\n                    return e.replace(/-/g, \"_\")\n                }),\n                -1 == this.languages_.indexOf(\"en\") && this.languages_.unshift(\"en\"),\n                    this.messages = {}\n            }\n            ,\n            i.MessageManager.prototype.addMessages = function(e) {\n                for (var t in e) {\n                    var r = e[t];\n                    r.placeholders ? this.messages[t] = r.message.replace(/\\$([a-z][^\\s\\$]+)\\$/gi, function(r, i) {\n                        return e[t].placeholders[i.toLowerCase()].content\n                    }) : this.messages[t] = r.message\n                }\n            }\n            ,\n            i.MessageManager.prototype.findAndLoadMessages = function(e, t) {\n                function r(e) {\n                    e ? o = i.shift() : s = i.shift(),\n                        i.length ? n() : t(o, s)\n                }\n                var i = this.languages_.concat()\n                    , o = []\n                    , s = []\n                    , n = function() {\n                    this.loadMessages(this.replaceReferences(e, i), r.bind(this, !0), r.bind(this, !1))\n                }\n                    .bind(this);\n                n()\n            }\n            ,\n            i.MessageManager.prototype.loadMessages = function(e, t, r) {\n                var i = new XMLHttpRequest;\n                i.onloadend = function() {\n                    200 == i.status ? (this.addMessages(JSON.parse(i.responseText)),\n                        t()) : r && r(i.status)\n                }\n                    .bind(this),\n                    i.open(\"GET\", e),\n                    i.send()\n            }\n            ,\n            i.MessageManager.replaceReferences = function(e, t) {\n                return e.replace(/\\$(\\d+)/g, function(e, r) {\n                    return t[r - 1]\n                })\n            }\n            ,\n            i.MessageManager.prototype.replaceReferences = i.MessageManager.replaceReferences,\n            i.MessageManager.prototype.get = function(e, t, r) {\n                var i;\n                if (e in this.messages)\n                    i = this.messages[e];\n                else if (window.chrome.i18n && (i = chrome.i18n.getMessage(e)),\n                    !i)\n                    return console.warn(\"Unknown message: \" + e),\n                        void 0 === r ? e : r;\n                return t ? (t instanceof Array || (t = [t]),\n                    this.replaceReferences(i, t)) : i\n            }\n            ,\n            i.MessageManager.prototype.processI18nAttributes = function(e) {\n                for (var t = e.querySelectorAll(\"[i18n]\"), r = 0; r < t.length; r++)\n                    this.processI18nAttribute(t[r])\n            }\n            ,\n            i.MessageManager.prototype.processI18nAttribute = function(e) {\n                var t = e.getAttribute(\"i18n\");\n                if (t) {\n                    try {\n                        t = JSON.parse(t)\n                    } catch (r) {\n                        throw console.error(\"Can't parse \" + e.tagName + \"#\" + e.id + \": \" + t),\n                            r\n                    }\n                    for (var r in t) {\n                        var i = r\n                            , o = t[r];\n                        o.startsWith(\"=\") && (o = t[r = o.substr(1)]),\n                        o.startsWith(\"$\") && (o = function(e) {\n                            return e.replace(/-/g, \"_\").toUpperCase()\n                        }(e.getAttribute(o.substr(1)) + \"_\" + r));\n                        var s = this.get(o);\n                        \"_\" == i ? e.textContent = s : e.setAttribute(i, s)\n                    }\n                }\n            }\n            ,\n            i.PreferenceManager = function(e, t) {\n                this.storage = e,\n                    this.storageObserver_ = this.onStorageChange_.bind(this),\n                    this.isActive_ = !1,\n                    this.activate(),\n                    this.trace = !1;\n                var r = t || \"/\";\n                r.endsWith(\"/\") || (r += \"/\"),\n                    this.prefix = r,\n                    this.prefRecords_ = {},\n                    this.globalObservers_ = [],\n                    this.childFactories_ = {},\n                    this.childLists_ = {}\n            }\n            ,\n            i.PreferenceManager.prototype.DEFAULT_VALUE = i.f.createEnum(\"DEFAULT\"),\n            i.PreferenceManager.Record = function(e, t) {\n                this.name = e,\n                    this.defaultValue = t,\n                    this.currentValue = this.DEFAULT_VALUE,\n                    this.observers = []\n            }\n            ,\n            i.PreferenceManager.Record.prototype.DEFAULT_VALUE = i.PreferenceManager.prototype.DEFAULT_VALUE,\n            i.PreferenceManager.Record.prototype.addObserver = function(e) {\n                this.observers.push(e)\n            }\n            ,\n            i.PreferenceManager.Record.prototype.removeObserver = function(e) {\n                var t = this.observers.indexOf(e);\n                t >= 0 && this.observers.splice(t, 1)\n            }\n            ,\n            i.PreferenceManager.Record.prototype.get = function() {\n                return this.currentValue === this.DEFAULT_VALUE ? /^(string|number)$/.test(typeof this.defaultValue) ? this.defaultValue : \"object\" == typeof this.defaultValue ? JSON.parse(JSON.stringify(this.defaultValue)) : this.defaultValue : this.currentValue\n            }\n            ,\n            i.PreferenceManager.prototype.deactivate = function() {\n                if (!this.isActive_)\n                    throw new Error(\"Not activated\");\n                this.isActive_ = !1,\n                    this.storage.removeObserver(this.storageObserver_)\n            }\n            ,\n            i.PreferenceManager.prototype.activate = function() {\n                if (this.isActive_)\n                    throw new Error(\"Already activated\");\n                this.isActive_ = !0,\n                    this.storage.addObserver(this.storageObserver_)\n            }\n            ,\n            i.PreferenceManager.prototype.readStorage = function(e) {\n                function t() {\n                    0 == --r && e && e()\n                }\n                var r = 0\n                    , i = Object.keys(this.prefRecords_).map(function(e) {\n                    return this.prefix + e\n                }\n                    .bind(this));\n                this.trace && console.log(\"Preferences read: \" + this.prefix),\n                    this.storage.getItems(i, function(i) {\n                        var o = this.prefix.length;\n                        for (var s in i) {\n                            var n = i[s]\n                                , a = s.substr(o)\n                                , l = a in this.childLists_ && JSON.stringify(n) != JSON.stringify(this.prefRecords_[a].currentValue);\n                            this.prefRecords_[a].currentValue = n,\n                            l && (r++,\n                                this.syncChildList(a, t))\n                        }\n                        0 == r && e && setTimeout(e)\n                    }\n                        .bind(this))\n            }\n            ,\n            i.PreferenceManager.prototype.definePreference = function(e, t, r) {\n                var o = this.prefRecords_[e];\n                o ? this.changeDefault(e, t) : o = this.prefRecords_[e] = new i.PreferenceManager.Record(e,t),\n                r && o.addObserver(r)\n            }\n            ,\n            i.PreferenceManager.prototype.definePreferences = function(e) {\n                for (var t = 0; t < e.length; t++)\n                    this.definePreference(e[t][0], e[t][1], e[t][2])\n            }\n            ,\n            i.PreferenceManager.prototype.defineChildren = function(e, t) {\n                this.definePreference(e, [], this.onChildListChange_.bind(this, e)),\n                    this.childFactories_[e] = t,\n                    this.childLists_[e] = {}\n            }\n            ,\n            i.PreferenceManager.prototype.addObservers = function(e, t) {\n                if (e && \"function\" != typeof e)\n                    throw new Error(\"Invalid param: globals\");\n                if (e && this.globalObservers_.push(e),\n                    t)\n                    for (var r in t) {\n                        if (!(r in this.prefRecords_))\n                            throw new Error(\"Unknown preference: \" + r);\n                        this.prefRecords_[r].addObserver(t[r])\n                    }\n            }\n            ,\n            i.PreferenceManager.prototype.notifyAll = function() {\n                for (var e in this.prefRecords_)\n                    this.notifyChange_(e)\n            }\n            ,\n            i.PreferenceManager.prototype.notifyChange_ = function(e) {\n                var t = this.prefRecords_[e];\n                if (!t)\n                    throw new Error(\"Unknown preference: \" + e);\n                for (var r = t.get(), i = 0; i < this.globalObservers_.length; i++)\n                    this.globalObservers_[i](e, r);\n                for (i = 0; i < t.observers.length; i++)\n                    t.observers[i](r, e, this)\n            }\n            ,\n            i.PreferenceManager.prototype.createChild = function(e, t, r) {\n                var o, s = this.get(e);\n                if (r) {\n                    if (o = r,\n                    -1 != s.indexOf(o))\n                        throw new Error(\"Duplicate child: \" + e + \": \" + o)\n                } else\n                    for (; !o || -1 != s.indexOf(o); )\n                        o = i.f.randomInt(1, 65535).toString(16),\n                            o = i.f.zpad(o, 4),\n                        t && (o = t + \":\" + o);\n                var n = this.childFactories_[e](this, o);\n                return n.trace = this.trace,\n                    n.resetAll(),\n                    this.childLists_[e][o] = n,\n                    s.push(o),\n                    this.set(e, s),\n                    n\n            }\n            ,\n            i.PreferenceManager.prototype.removeChild = function(e, t) {\n                this.getChild(e, t).resetAll();\n                var r = this.get(e)\n                    , i = r.indexOf(t);\n                -1 != i && (r.splice(i, 1),\n                    this.set(e, r)),\n                    delete this.childLists_[e][t]\n            }\n            ,\n            i.PreferenceManager.prototype.getChild = function(e, t, r) {\n                if (!(e in this.childLists_))\n                    throw new Error(\"Unknown child list: \" + e);\n                var i = this.childLists_[e];\n                if (!(t in i)) {\n                    if (void 0 === r)\n                        throw new Error('Unknown \"' + e + '\" child: ' + t);\n                    return r\n                }\n                return i[t]\n            }\n            ,\n            i.PreferenceManager.diffChildLists = function(e, t) {\n                for (var r = {\n                    added: {},\n                    removed: {},\n                    common: {}\n                }, i = 0; i < e.length; i++)\n                    -1 != t.indexOf(e[i]) ? r.common[e[i]] = !0 : r.added[e[i]] = !0;\n                for (i = 0; i < t.length; i++)\n                    t[i]in r.added || t[i]in r.common || (r.removed[t[i]] = !0);\n                return r\n            }\n            ,\n            i.PreferenceManager.prototype.syncChildList = function(e, t) {\n                for (var r = 0, o = this.get(e), s = Object.keys(this.childLists_[e]), n = (i.PreferenceManager.diffChildLists(o, s),\n                    0); n < o.length; n++) {\n                    var a = o[n]\n                        , l = s.indexOf(a);\n                    if (l >= 0 && s.splice(l, 1),\n                        !this.childLists_[e][a]) {\n                        var h = this.childFactories_[e](this, a);\n                        if (!h) {\n                            console.warn(\"Unable to restore child: \" + e + \": \" + a);\n                            continue\n                        }\n                        h.trace = this.trace,\n                            this.childLists_[e][a] = h,\n                            r++,\n                            h.readStorage(function() {\n                                0 == --r && t && t()\n                            })\n                    }\n                }\n                for (n = 0; n < s.length; n++)\n                    delete this.childLists_[e][s[n]];\n                !r && t && setTimeout(t)\n            }\n            ,\n            i.PreferenceManager.prototype.reset = function(e) {\n                var t = this.prefRecords_[e];\n                if (!t)\n                    throw new Error(\"Unknown preference: \" + e);\n                this.storage.removeItem(this.prefix + e),\n                t.currentValue !== this.DEFAULT_VALUE && (t.currentValue = this.DEFAULT_VALUE,\n                    this.notifyChange_(e))\n            }\n            ,\n            i.PreferenceManager.prototype.resetAll = function() {\n                var e = [];\n                for (var t in this.childLists_) {\n                    var r = this.childLists_[t];\n                    for (var i in r)\n                        r[i].resetAll()\n                }\n                for (var o in this.prefRecords_)\n                    this.prefRecords_[o].currentValue !== this.DEFAULT_VALUE && (this.prefRecords_[o].currentValue = this.DEFAULT_VALUE,\n                        e.push(o));\n                var s = Object.keys(this.prefRecords_).map(function(e) {\n                    return this.prefix + e\n                }\n                    .bind(this));\n                this.storage.removeItems(s),\n                    e.forEach(this.notifyChange_.bind(this))\n            }\n            ,\n            i.PreferenceManager.prototype.diff = function(e, t) {\n                return typeof e != typeof t || !/^(undefined|boolean|number|string)$/.test(typeof e) || e !== t\n            }\n            ,\n            i.PreferenceManager.prototype.changeDefault = function(e, t) {\n                var r = this.prefRecords_[e];\n                if (!r)\n                    throw new Error(\"Unknown preference: \" + e);\n                this.diff(r.defaultValue, t) && (r.currentValue === this.DEFAULT_VALUE ? (r.defaultValue = t,\n                    this.notifyChange_(e)) : r.defaultValue = t)\n            }\n            ,\n            i.PreferenceManager.prototype.changeDefaults = function(e) {\n                for (var t in e)\n                    this.changeDefault(t, e[t])\n            }\n            ,\n            i.PreferenceManager.prototype.set = function(e, t) {\n                var r = this.prefRecords_[e];\n                if (!r)\n                    throw new Error(\"Unknown preference: \" + e);\n                var i = r.get();\n                this.diff(i, t) && (this.diff(r.defaultValue, t) ? (r.currentValue = t,\n                    this.storage.setItem(this.prefix + e, t)) : (r.currentValue = this.DEFAULT_VALUE,\n                    this.storage.removeItem(this.prefix + e)),\n                    setTimeout(this.notifyChange_.bind(this, e), 0))\n            }\n            ,\n            i.PreferenceManager.prototype.get = function(e) {\n                var t = this.prefRecords_[e];\n                if (!t)\n                    throw new Error(\"Unknown preference: \" + e);\n                return t.get()\n            }\n            ,\n            i.PreferenceManager.prototype.exportAsJson = function() {\n                var e = {};\n                for (var t in this.prefRecords_)\n                    if (t in this.childLists_) {\n                        e[t] = [];\n                        for (var r = this.get(t), i = 0; i < r.length; i++) {\n                            var o = r[i];\n                            e[t].push({\n                                id: o,\n                                json: this.getChild(t, o).exportAsJson()\n                            })\n                        }\n                    } else {\n                        var s = this.prefRecords_[t];\n                        s.currentValue != this.DEFAULT_VALUE && (e[t] = s.currentValue)\n                    }\n                return e\n            }\n            ,\n            i.PreferenceManager.prototype.importFromJson = function(e) {\n                for (var t in e)\n                    if (t in this.childLists_)\n                        for (var r = e[t], i = 0; i < r.length; i++) {\n                            var o = r[i].id\n                                , s = this.childLists_[t][o];\n                            s || (s = this.createChild(t, null, o)),\n                                s.importFromJson(r[i].json)\n                        }\n                    else\n                        this.set(t, e[t])\n            }\n            ,\n            i.PreferenceManager.prototype.onChildListChange_ = function(e) {\n                this.syncChildList(e)\n            }\n            ,\n            i.PreferenceManager.prototype.onStorageChange_ = function(e) {\n                for (var t in e)\n                    if (!this.prefix || 0 == t.lastIndexOf(this.prefix, 0)) {\n                        var r = t.substr(this.prefix.length);\n                        if (r in this.prefRecords_) {\n                            var i = this.prefRecords_[r]\n                                , o = e[t].newValue\n                                , s = i.currentValue;\n                            s === i.DEFAULT_VALUE && (s = void 0),\n                            this.diff(s, o) && (i.currentValue = void 0 === o || null === o ? i.DEFAULT_VALUE : o,\n                                this.notifyChange_(r))\n                        }\n                    }\n            }\n            ,\n            i.resource = {\n                resources_: {}\n            },\n            i.resource.add = function(e, t, r) {\n                i.resource.resources_[e] = {\n                    type: t,\n                    name: e,\n                    data: r\n                }\n            }\n            ,\n            i.resource.get = function(e, t) {\n                if (!(e in i.resource.resources_)) {\n                    if (void 0 === t)\n                        throw \"Unknown resource: \" + e;\n                    return t\n                }\n                return i.resource.resources_[e]\n            }\n            ,\n            i.resource.getData = function(e, t) {\n                if (!(e in i.resource.resources_)) {\n                    if (void 0 === t)\n                        throw \"Unknown resource: \" + e;\n                    return t\n                }\n                return i.resource.resources_[e].data\n            }\n            ,\n            i.resource.getDataUrl = function(e, t) {\n                var r = i.resource.get(e, t);\n                return \"data:\" + r.type + \",\" + r.data\n            }\n            ,\n            i.Storage = new Object,\n            i.Storage.Chrome = function(e) {\n                this.storage_ = e,\n                    this.observers_ = [],\n                    chrome.storage.onChanged.addListener(this.onChanged_.bind(this))\n            }\n            ,\n            i.Storage.Chrome.prototype.onChanged_ = function(e, t) {\n                if (chrome.storage[t] == this.storage_)\n                    for (var r = 0; r < this.observers_.length; r++)\n                        this.observers_[r](e)\n            }\n            ,\n            i.Storage.Chrome.prototype.addObserver = function(e) {\n                this.observers_.push(e)\n            }\n            ,\n            i.Storage.Chrome.prototype.removeObserver = function(e) {\n                var t = this.observers_.indexOf(e);\n                -1 != t && this.observers_.splice(t, 1)\n            }\n            ,\n            i.Storage.Chrome.prototype.clear = function(e) {\n                this.storage_.clear(),\n                e && setTimeout(e, 0)\n            }\n            ,\n            i.Storage.Chrome.prototype.getItem = function(e, t) {\n                this.storage_.get(e, t)\n            }\n            ,\n            i.Storage.Chrome.prototype.getItems = function(e, t) {\n                this.storage_.get(e, t)\n            }\n            ,\n            i.Storage.Chrome.prototype.setItem = function(e, t, r) {\n                var i = {};\n                i[e] = t,\n                    this.storage_.set(i, r)\n            }\n            ,\n            i.Storage.Chrome.prototype.setItems = function(e, t) {\n                this.storage_.set(e, t)\n            }\n            ,\n            i.Storage.Chrome.prototype.removeItem = function(e, t) {\n                this.storage_.remove(e, t)\n            }\n            ,\n            i.Storage.Chrome.prototype.removeItems = function(e, t) {\n                this.storage_.remove(e, t)\n            }\n            ,\n            i.Storage.Local = function() {\n                this.observers_ = [],\n                    this.storage_ = window.localStorage,\n                    window.addEventListener(\"storage\", this.onStorage_.bind(this))\n            }\n            ,\n            i.Storage.Local.prototype.onStorage_ = function(e) {\n                if (e.storageArea == this.storage_) {\n                    var t = e.oldValue ? JSON.parse(e.oldValue) : e.oldValue\n                        , r = e.newValue ? JSON.parse(e.newValue) : e.newValue\n                        , i = {};\n                    i[e.key] = {\n                        oldValue: t,\n                        newValue: r\n                    };\n                    for (var o = 0; o < this.observers_.length; o++)\n                        this.observers_[o](i)\n                }\n            }\n            ,\n            i.Storage.Local.prototype.addObserver = function(e) {\n                this.observers_.push(e)\n            }\n        ,\n        i.Storage.Local.prototype.removeObserver = function(e) {\n            var t = this.observers_.indexOf(e);\n            -1 != t && this.observers_.splice(t, 1)\n        }\n        ,\n        i.Storage.Local.prototype.clear = function(e) {\n            this.storage_.clear(),\n            e && setTimeout(e, 0)\n        }\n        ,\n        i.Storage.Local.prototype.getItem = function(e, t) {\n            var r = this.storage_.getItem(e);\n            if (\"string\" == typeof r)\n                try {\n                    r = JSON.parse(r)\n                } catch (e) {}\n            setTimeout(t.bind(null, r), 0)\n        }\n        ,\n        i.Storage.Local.prototype.getItems = function(e, t) {\n            for (var r = {}, i = e.length - 1; i >= 0; i--) {\n                var o = e[i]\n                    , s = this.storage_.getItem(o);\n                if (\"string\" == typeof s)\n                    try {\n                        r[o] = JSON.parse(s)\n                    } catch (e) {\n                        r[o] = s\n                    }\n                else\n                    e.splice(i, 1)\n            }\n            setTimeout(t.bind(null, r), 0)\n        }\n        ,\n        i.Storage.Local.prototype.setItem = function(e, t, r) {\n            this.storage_.setItem(e, JSON.stringify(t)),\n            r && setTimeout(r, 0)\n        }\n        ,\n        i.Storage.Local.prototype.setItems = function(e, t) {\n            for (var r in e)\n                this.storage_.setItem(r, JSON.stringify(e[r]));\n            t && setTimeout(t, 0)\n        }\n        ,\n        i.Storage.Local.prototype.removeItem = function(e, t) {\n            this.storage_.removeItem(e),\n            t && setTimeout(t, 0)\n        }\n        ,\n        i.Storage.Local.prototype.removeItems = function(e, t) {\n            for (var r = 0; r < e.length; r++)\n                this.storage_.removeItem(e[r]);\n            t && setTimeout(t, 0)\n        }\n        ,\n        i.Storage.Memory = function() {\n            this.observers_ = [],\n                this.storage_ = {}\n        }\n        ,\n        i.Storage.Memory.prototype.addObserver = function(e) {\n            this.observers_.push(e)\n        }\n        ,\n        i.Storage.Memory.prototype.removeObserver = function(e) {\n            var t = this.observers_.indexOf(e);\n            -1 != t && this.observers_.splice(t, 1)\n        }\n        ,\n        i.Storage.Memory.prototype.clear = function(e) {\n            var t = {};\n            for (var r in this.storage_)\n                t[r] = {\n                    oldValue: this.storage_[r],\n                    newValue: void 0\n                };\n            this.storage_ = {},\n                setTimeout(function() {\n                    for (var e = 0; e < this.observers_.length; e++)\n                        this.observers_[e](t)\n                }\n                    .bind(this), 0),\n            e && setTimeout(e, 0)\n        }\n        ,\n        i.Storage.Memory.prototype.getItem = function(e, t) {\n            var r = this.storage_[e];\n            if (\"string\" == typeof r)\n                try {\n                    r = JSON.parse(r)\n                } catch (e) {}\n            setTimeout(t.bind(null, r), 0)\n        }\n        ,\n        i.Storage.Memory.prototype.getItems = function(e, t) {\n            for (var r = {}, i = e.length - 1; i >= 0; i--) {\n                var o = e[i]\n                    , s = this.storage_[o];\n                if (\"string\" == typeof s)\n                    try {\n                        r[o] = JSON.parse(s)\n                    } catch (e) {\n                        r[o] = s\n                    }\n                else\n                    e.splice(i, 1)\n            }\n            setTimeout(t.bind(null, r), 0)\n        }\n        ,\n        i.Storage.Memory.prototype.setItem = function(e, t, r) {\n            var i = this.storage_[e];\n            this.storage_[e] = JSON.stringify(t);\n            var o = {};\n            o[e] = {\n                oldValue: i,\n                newValue: t\n            },\n                setTimeout(function() {\n                    for (var e = 0; e < this.observers_.length; e++)\n                        this.observers_[e](o)\n                }\n                    .bind(this), 0),\n            r && setTimeout(r, 0)\n        }\n        ,\n        i.Storage.Memory.prototype.setItems = function(e, t) {\n            var r = {};\n            for (var i in e)\n                r[i] = {\n                    oldValue: this.storage_[i],\n                    newValue: e[i]\n                },\n                    this.storage_[i] = JSON.stringify(e[i]);\n            setTimeout(function() {\n                for (var e = 0; e < this.observers_.length; e++)\n                    this.observers_[e](r)\n            }\n                .bind(this)),\n            t && setTimeout(t, 0)\n        }\n        ,\n        i.Storage.Memory.prototype.removeItem = function(e, t) {\n            delete this.storage_[e],\n            t && setTimeout(t, 0)\n        }\n        ,\n        i.Storage.Memory.prototype.removeItems = function(e, t) {\n            for (var r = 0; r < e.length; r++)\n                delete this.storage_[e[r]];\n            t && setTimeout(t, 0)\n        }\n        ,\n        i.TestManager = function(e) {\n            this.log = e || new i.TestManager.Log\n        }\n        ,\n        i.TestManager.prototype.createTestRun = function(e) {\n            return new i.TestManager.TestRun(this,e)\n        }\n        ,\n        i.TestManager.prototype.onTestRunComplete = function(e) {}\n        ,\n        i.TestManager.prototype.testPreamble = function(e, t) {}\n        ,\n        i.TestManager.prototype.testPostamble = function(e, t) {}\n        ,\n        i.TestManager.Log = function(e=console) {\n            this.save = !1,\n                this.data = \"\",\n                this.prefix_ = \"\",\n                this.prefixStack_ = 0,\n                this.console_ = e,\n                [\"log\", \"debug\", \"info\", \"warn\", \"error\"].forEach(e=>{\n                        let t = \"\";\n                        switch (e) {\n                            case \"debug\":\n                            case \"warn\":\n                            case \"error\":\n                                t = e.toUpperCase() + \": \"\n                        }\n                        const r = this.console_[e];\n                        this[e] = this.console_[e] = ((...e)=>{\n                                this.save && (this.data += this.prefix_ + t + e.join(\" \") + \"\\n\"),\n                                    r.apply(this.console_, e)\n                            }\n                        )\n                    }\n                ),\n                [\"group\", \"groupCollapsed\"].forEach(e=>{\n                        const t = this.console_[e];\n                        this[e] = this.console_[e] = ((e=\"\")=>{\n                                t(e),\n                                this.save && (this.data += this.prefix_ + e + \"\\n\"),\n                                    this.prefix_ = \"  \".repeat(++this.prefixStack_)\n                            }\n                        )\n                    }\n                );\n            const t = this.console_.groupEnd;\n            this.groupEnd = this.console_.groupEnd = (()=>{\n                    t(),\n                        this.prefix_ = \"  \".repeat(--this.prefixStack_)\n                }\n            )\n        }\n        ,\n        i.TestManager.Suite = function(e) {\n            function t(t, r) {\n                this.testManager_ = t,\n                    this.suiteName = e,\n                    this.setup(r)\n            }\n            return t.suiteName = e,\n                t.addTest = i.TestManager.Suite.addTest,\n                t.disableTest = i.TestManager.Suite.disableTest,\n                t.getTest = i.TestManager.Suite.getTest,\n                t.getTestList = i.TestManager.Suite.getTestList,\n                t.testList_ = [],\n                t.testMap_ = {},\n                t.prototype = Object.create(i.TestManager.Suite.prototype),\n                t.constructor = i.TestManager.Suite,\n                i.TestManager.Suite.subclasses.push(t),\n                t\n        }\n        ,\n        i.TestManager.Suite.subclasses = [],\n        i.TestManager.Suite.addTest = function(e, t) {\n            if (e in this.testMap_)\n                throw \"Duplicate test name: \" + e;\n            var r = new i.TestManager.Test(this,e,t);\n            this.testMap_[e] = r,\n                this.testList_.push(r)\n        }\n        ,\n        i.TestManager.Suite.disableTest = function(e, t) {\n            if (e in this.testMap_)\n                throw \"Duplicate test name: \" + e;\n            var r = new i.TestManager.Test(this,e,t);\n            console.log(\"Disabled test: \" + r.fullName)\n        }\n        ,\n        i.TestManager.Suite.getTest = function(e) {\n            return this.testMap_[e]\n        }\n        ,\n        i.TestManager.Suite.getTestList = function() {\n            return this.testList_\n        }\n        ,\n        i.TestManager.Suite.prototype.setDefaults = function(e, t) {\n            for (var r in t)\n                this[r] = r in e ? e[r] : t[r]\n        }\n        ,\n        i.TestManager.Suite.prototype.setup = function(e) {}\n        ,\n        i.TestManager.Suite.prototype.preamble = function(e, t) {}\n        ,\n        i.TestManager.Suite.prototype.postamble = function(e, t) {}\n        ,\n        i.TestManager.Test = function(e, t, r) {\n            this.suiteClass = e,\n                this.testName = t,\n                this.fullName = e.suiteName + \"[\" + t + \"]\",\n                this.testFunction_ = r\n        }\n        ,\n        i.TestManager.Test.prototype.run = function(e) {\n            try {\n                this.testFunction_.apply(e.suite, [e, e.testRun.cx])\n            } catch (t) {\n                if (t instanceof i.TestManager.Result.TestComplete)\n                    return;\n                e.println(\"Test raised an exception: \" + t),\n                t.stack && (t.stack instanceof Array ? e.println(t.stack.join(\"\\n\")) : e.println(t.stack)),\n                    e.completeTest_(e.FAILED, !1)\n            }\n        }\n        ,\n        i.TestManager.TestRun = function(e, t) {\n            this.testManager = e,\n                this.log = e.log,\n                this.cx = t || {},\n                this.failures = [],\n                this.passes = [],\n                this.startDate = null,\n                this.duration = null,\n                this.currentResult = null,\n                this.maxFailures = 0,\n                this.panic = !1,\n                this.testQueue_ = []\n        }\n        ,\n        i.TestManager.TestRun.prototype.ALL_TESTS = i.f.createEnum(\"<all-tests>\"),\n        i.TestManager.TestRun.prototype.selectTest = function(e) {\n            this.testQueue_.push(e)\n        }\n        ,\n        i.TestManager.TestRun.prototype.selectSuite = function(e, t) {\n            for (var r = t || this.ALL_TESTS, i = 0, o = e.getTestList(), s = 0; s < o.length; s++) {\n                var n = o[s];\n                if (r !== this.ALL_TESTS)\n                    if (r instanceof RegExp) {\n                        if (!r.test(n.testName))\n                            continue\n                    } else if (n.testName != r)\n                        continue;\n                this.selectTest(n),\n                    i++\n            }\n            return i\n        }\n        ,\n        i.TestManager.TestRun.prototype.selectPattern = function(e) {\n            for (var t = 0, r = 0; r < i.TestManager.Suite.subclasses.length; r++)\n                t += this.selectSuite(i.TestManager.Suite.subclasses[r], e);\n            return t || this.log.warn(\"No tests matched selection criteria: \" + e),\n                t\n        }\n        ,\n        i.TestManager.TestRun.prototype.onUncaughtException_ = function(e, t, r) {\n            if (0 == e.indexOf(\"Uncaught lib.TestManager.Result.TestComplete\") || -1 != e.indexOf(\"status: passed\"))\n                return !0;\n            if (this.currentResult && e != \"Uncaught \" + this.currentResult.expectedErrorMessage_) {\n                var i = \"during\";\n                return this.currentResult.status != this.currentResult.PENDING && (i = \"after\"),\n                    this.log.error(\"Uncaught exception \" + i + \" test case: \" + this.currentResult.test.fullName),\n                    this.log.error(e + \", \" + t + \":\" + r),\n                    this.currentResult.completeTest_(this.currentResult.FAILED, !1),\n                    !1\n            }\n        }\n        ,\n        i.TestManager.TestRun.prototype.onTestRunComplete_ = function(e) {\n            e ? (this.duration = new Date - this.startDate,\n                this.log.groupEnd(),\n                this.log.info(this.passes.length + \" passed, \" + this.failures.length + \" failed, \" + this.msToSeconds_(this.duration)),\n                this.summarize(),\n                window.onerror = null,\n                this.testManager.onTestRunComplete(this)) : setTimeout(this.onTestRunComplete_.bind(this), 0, !0)\n        }\n        ,\n        i.TestManager.TestRun.prototype.onResultComplete = function(e) {\n            try {\n                this.testManager.testPostamble(e, this.cx),\n                    e.suite.postamble(e, this.ctx)\n            } catch (e) {\n                this.log.error(\"Unexpected exception in postamble: \" + (e.stack ? e.stack : e)),\n                    this.panic = !0\n            }\n            if (e.status != e.PASSED ? this.log.error(e.status) : e.duration > 500 && this.log.warn(\"Slow test took \" + this.msToSeconds_(e.duration)),\n                this.log.groupEnd(),\n            e.status == e.FAILED)\n                this.failures.push(e),\n                    this.currentSuite = null;\n            else {\n                if (e.status != e.PASSED)\n                    return this.log.error(\"Unknown result status: \" + e.test.fullName + \": \" + e.status),\n                        this.panic = !0;\n                this.passes.push(e)\n            }\n            this.runNextTest_()\n        }\n        ,\n        i.TestManager.TestRun.prototype.onResultReComplete = function(e, t) {\n            this.log.error(\"Late complete for test: \" + e.test.fullName + \": \" + t);\n            var r = this.passes.indexOf(e);\n            r >= 0 && (this.passes.splice(r, 1),\n                this.failures.push(e))\n        }\n        ,\n        i.TestManager.TestRun.prototype.runNextTest_ = function() {\n            if (this.panic || !this.testQueue_.length)\n                return this.onTestRunComplete_();\n            if (this.maxFailures && this.failures.length >= this.maxFailures)\n                return this.log.error(\"Maximum failure count reached, aborting test run.\"),\n                    this.onTestRunComplete_();\n            var e = this.testQueue_[0]\n                , t = this.currentResult ? this.currentResult.suite : null;\n            try {\n                t && t instanceof e.suiteClass || (t && this.log.groupEnd(),\n                    this.log.group(e.suiteClass.suiteName),\n                    t = new e.suiteClass(this.testManager,this.cx))\n            } catch (e) {\n                return this.log.error(\"Exception during setup: \" + (e.stack ? e.stack : e)),\n                    this.panic = !0,\n                    void this.onTestRunComplete_()\n            }\n            try {\n                this.log.group(e.testName),\n                    this.currentResult = new i.TestManager.Result(this,t,e),\n                    this.testManager.testPreamble(this.currentResult, this.cx),\n                    t.preamble(this.currentResult, this.cx),\n                    this.testQueue_.shift()\n            } catch (e) {\n                return this.log.error(\"Unexpected exception during test preamble: \" + (e.stack ? e.stack : e)),\n                    this.log.groupEnd(),\n                    this.panic = !0,\n                    void this.onTestRunComplete_()\n            }\n            try {\n                this.currentResult.run()\n            } catch (e) {\n                this.log.error(\"Unexpected exception during test run: \" + (e.stack ? e.stack : e)),\n                    this.panic = !0\n            }\n        }\n        ,\n        i.TestManager.TestRun.prototype.run = function() {\n            this.log.info(\"Running \" + this.testQueue_.length + \" test(s)\"),\n                window.onerror = this.onUncaughtException_.bind(this),\n                this.startDate = new Date,\n                this.runNextTest_()\n        }\n        ,\n        i.TestManager.TestRun.prototype.msToSeconds_ = function(e) {\n            return (e / 1e3).toFixed(2) + \"s\"\n        }\n        ,\n        i.TestManager.TestRun.prototype.summarize = function() {\n            if (this.failures.length)\n                for (var e = 0; e < this.failures.length; e++)\n                    this.log.error(\"FAILED: \" + this.failures[e].test.fullName);\n            this.testQueue_.length && this.log.warn(\"Test run incomplete: \" + this.testQueue_.length + \" test(s) were not run.\")\n        }\n        ,\n        i.TestManager.Result = function(e, t, r) {\n            this.testRun = e,\n                this.suite = t,\n                this.test = r,\n                this.startDate = null,\n                this.duration = null,\n                this.status = this.PENDING,\n                this.expectedErrorMessage_ = null\n        }\n        ,\n        i.TestManager.Result.prototype.PENDING = \"pending\",\n        i.TestManager.Result.prototype.FAILED = \"FAILED\",\n        i.TestManager.Result.prototype.PASSED = \"passed\",\n        i.TestManager.Result.TestComplete = function(e) {\n            this.result = e\n        }\n        ,\n        i.TestManager.Result.TestComplete.prototype.toString = function() {\n            return \"lib.TestManager.Result.TestComplete: \" + this.result.test.fullName + \", status: \" + this.result.status\n        }\n        ,\n        i.TestManager.Result.prototype.run = function() {\n            this.startDate = new Date,\n                this.test.run(this),\n            this.status != this.PENDING || this.timeout_ || (this.println(\"Test did not return a value and did not request more time.\"),\n                this.completeTest_(this.FAILED, !1))\n        }\n        ,\n        i.TestManager.Result.prototype.expectErrorMessage = function(e) {\n            this.expectedErrorMessage_ = e\n        }\n        ,\n        i.TestManager.Result.prototype.onTimeout_ = function() {\n            this.timeout_ = null,\n            this.status == this.PENDING && (this.println(\"Test timed out.\"),\n                this.completeTest_(this.FAILED, !1))\n        }\n        ,\n        i.TestManager.Result.prototype.requestTime = function(e) {\n            this.timeout_ && clearTimeout(this.timeout_),\n                this.timeout_ = setTimeout(this.onTimeout_.bind(this), e)\n        }\n        ,\n        i.TestManager.Result.prototype.completeTest_ = function(e, t) {\n            if (this.status == this.PENDING ? (this.duration = new Date - this.startDate,\n                this.status = e,\n                this.testRun.onResultComplete(this)) : this.testRun.onResultReComplete(this, e),\n            arguments.length < 2 || t)\n                throw new i.TestManager.Result.TestComplete(this)\n        }\n        ,\n        i.TestManager.Result.prototype.arrayEQ_ = function(e, t) {\n            if (!e || !t)\n                return !e && !t;\n            if (e.length != t.length)\n                return !1;\n            for (var r = 0; r < e.length; ++r)\n                if (e[r] != t[r])\n                    return !1;\n            return !0\n        }\n        ,\n        i.TestManager.Result.prototype.assertEQ = function(e, t, r) {\n            function i(e) {\n                if (\"number\" == typeof e)\n                    return e;\n                var t = String(e).split(\"\\n\").map(function(e) {\n                    return JSON.stringify(e)\n                });\n                return t.length > 1 ? \"\\n\" + t.join(\"\\n\") : t.join(\"\\n\")\n            }\n            if (e !== t && !(t instanceof Array && this.arrayEQ_(e, t))) {\n                var o = r ? \"[\" + r + \"]\" : \"\";\n                this.fail(\"assertEQ\" + o + \": \" + this.getCallerLocation_(1) + \": \" + i(e) + \" !== \" + i(t))\n            }\n        }\n        ,\n        i.TestManager.Result.prototype.assert = function(e, t) {\n            if (!0 !== e) {\n                var r = t ? \"[\" + t + \"]\" : \"\";\n                this.fail(\"assert\" + r + \": \" + this.getCallerLocation_(1) + \": \" + String(e))\n            }\n        }\n        ,\n        i.TestManager.Result.prototype.getCallerLocation_ = function(e) {\n            try {\n                throw new Error\n            } catch (r) {\n                var t = r.stack.split(\"\\n\")[e + 2].match(/([^/]+:\\d+):\\d+\\)?$/);\n                return t ? t[1] : \"???\"\n            }\n        }\n        ,\n        i.TestManager.Result.prototype.println = function(e) {\n            this.testRun.log.info(e)\n        }\n        ,\n        i.TestManager.Result.prototype.fail = function(e) {\n            arguments.length && this.println(e),\n                this.completeTest_(this.FAILED, !0)\n        }\n        ,\n        i.TestManager.Result.prototype.pass = function() {\n            this.completeTest_(this.PASSED, !0)\n        }\n        ,\n        i.UTF8Decoder = function() {\n            this.bytesLeft = 0,\n                this.codePoint = 0,\n                this.lowerBound = 0\n        }\n        ,\n        i.UTF8Decoder.prototype.decode = function(e) {\n            for (var t = \"\", r = 0; r < e.length; r++) {\n                var i = e.charCodeAt(r);\n                if (0 == this.bytesLeft)\n                    i <= 127 ? t += e.charAt(r) : 192 <= i && i <= 223 ? (this.codePoint = i - 192,\n                        this.bytesLeft = 1,\n                        this.lowerBound = 128) : 224 <= i && i <= 239 ? (this.codePoint = i - 224,\n                        this.bytesLeft = 2,\n                        this.lowerBound = 2048) : 240 <= i && i <= 247 ? (this.codePoint = i - 240,\n                        this.bytesLeft = 3,\n                        this.lowerBound = 65536) : 248 <= i && i <= 251 ? (this.codePoint = i - 248,\n                        this.bytesLeft = 4,\n                        this.lowerBound = 2097152) : 252 <= i && i <= 253 ? (this.codePoint = i - 252,\n                        this.bytesLeft = 5,\n                        this.lowerBound = 67108864) : t += \"\";\n                else if (128 <= i && i <= 191) {\n                    if (this.bytesLeft--,\n                        this.codePoint = (this.codePoint << 6) + (i - 128),\n                    0 == this.bytesLeft) {\n                        var o = this.codePoint;\n                        o < this.lowerBound || 55296 <= o && o <= 57343 || o > 1114111 ? t += \"\" : o < 65536 ? t += String.fromCharCode(o) : (o -= 65536,\n                            t += String.fromCharCode(55296 + (o >>> 10 & 1023), 56320 + (1023 & o)))\n                    }\n                } else\n                    t += \"\",\n                        this.bytesLeft = 0,\n                        r--\n            }\n            return t\n        }\n        ,\n        i.decodeUTF8 = function(e) {\n            return (new i.UTF8Decoder).decode(e)\n        }\n        ,\n        i.encodeUTF8 = function(e) {\n            for (var t = \"\", r = 0; r < e.length; r++) {\n                var i = e.charCodeAt(r);\n                if (56320 <= i && i <= 57343)\n                    i = 65533;\n                else if (55296 <= i && i <= 56319)\n                    if (r + 1 < e.length) {\n                        var o = e.charCodeAt(r + 1);\n                        56320 <= o && o <= 57343 ? (i = 65536 + ((1023 & i) << 10) + (1023 & o),\n                            r++) : i = 65533\n                    } else\n                        i = 65533;\n                var s;\n                if (i <= 127)\n                    t += e.charAt(r);\n                else\n                    for (i <= 2047 ? (t += String.fromCharCode(192 | i >>> 6),\n                        s = 1) : i <= 65535 ? (t += String.fromCharCode(224 | i >>> 12),\n                        s = 2) : (t += String.fromCharCode(240 | i >>> 18),\n                        s = 3); s > 0; )\n                        s--,\n                            t += String.fromCharCode(128 | i >>> 6 * s & 63)\n            }\n            return t\n        }\n        ,\n        i.wc = {},\n        i.wc.nulWidth = 0,\n        i.wc.controlWidth = 0,\n        i.wc.regardCjkAmbiguous = !1,\n        i.wc.cjkAmbiguousWidth = 2,\n        i.wc.combining = [[768, 879], [1155, 1158], [1160, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1539], [1552, 1557], [1611, 1630], [1648, 1648], [1750, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2305, 2306], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2388], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2672, 2673], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2883], [2893, 2893], [2902, 2902], [2946, 2946], [3008, 3008], [3021, 3021], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3393, 3395], [3405, 3405], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3769], [3771, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3984, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4146], [4150, 4151], [4153, 4153], [4184, 4185], [4448, 4607], [4959, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6157], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7616, 7626], [7678, 7679], [8203, 8207], [8234, 8238], [8288, 8291], [8298, 8303], [8400, 8431], [12330, 12335], [12441, 12442], [43014, 43014], [43019, 43019], [43045, 43046], [64286, 64286], [65024, 65039], [65056, 65059], [65279, 65279], [65529, 65531], [68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [917505, 917505], [917536, 917631], [917760, 917999]],\n        i.wc.ambiguous = [[161, 161], [164, 164], [167, 168], [170, 170], [174, 174], [176, 180], [182, 186], [188, 191], [198, 198], [208, 208], [215, 216], [222, 225], [230, 230], [232, 234], [236, 237], [240, 240], [242, 243], [247, 250], [252, 252], [254, 254], [257, 257], [273, 273], [275, 275], [283, 283], [294, 295], [299, 299], [305, 307], [312, 312], [319, 322], [324, 324], [328, 331], [333, 333], [338, 339], [358, 359], [363, 363], [462, 462], [464, 464], [466, 466], [468, 468], [470, 470], [472, 472], [474, 474], [476, 476], [593, 593], [609, 609], [708, 708], [711, 711], [713, 715], [717, 717], [720, 720], [728, 731], [733, 733], [735, 735], [913, 929], [931, 937], [945, 961], [963, 969], [1025, 1025], [1040, 1103], [1105, 1105], [8208, 8208], [8211, 8214], [8216, 8217], [8220, 8221], [8224, 8226], [8228, 8231], [8240, 8240], [8242, 8243], [8245, 8245], [8251, 8251], [8254, 8254], [8308, 8308], [8319, 8319], [8321, 8324], [8364, 8364], [8451, 8451], [8453, 8453], [8457, 8457], [8467, 8467], [8470, 8470], [8481, 8482], [8486, 8486], [8491, 8491], [8531, 8532], [8539, 8542], [8544, 8555], [8560, 8569], [8592, 8601], [8632, 8633], [8658, 8658], [8660, 8660], [8679, 8679], [8704, 8704], [8706, 8707], [8711, 8712], [8715, 8715], [8719, 8719], [8721, 8721], [8725, 8725], [8730, 8730], [8733, 8736], [8739, 8739], [8741, 8741], [8743, 8748], [8750, 8750], [8756, 8759], [8764, 8765], [8776, 8776], [8780, 8780], [8786, 8786], [8800, 8801], [8804, 8807], [8810, 8811], [8814, 8815], [8834, 8835], [8838, 8839], [8853, 8853], [8857, 8857], [8869, 8869], [8895, 8895], [8978, 8978], [9312, 9449], [9451, 9547], [9552, 9587], [9600, 9615], [9618, 9621], [9632, 9633], [9635, 9641], [9650, 9651], [9654, 9655], [9660, 9661], [9664, 9665], [9670, 9672], [9675, 9675], [9678, 9681], [9698, 9701], [9711, 9711], [9733, 9734], [9737, 9737], [9742, 9743], [9748, 9749], [9756, 9756], [9758, 9758], [9792, 9792], [9794, 9794], [9824, 9825], [9827, 9829], [9831, 9834], [9836, 9837], [9839, 9839], [10045, 10045], [10102, 10111], [57344, 63743], [65533, 65533], [983040, 1048573], [1048576, 1114109]],\n        i.wc.isSpace = function(e) {\n            var t, r = 0, o = i.wc.combining.length - 1;\n            if (e < i.wc.combining[0][0] || e > i.wc.combining[o][1])\n                return !1;\n            for (; o >= r; )\n                if (t = Math.floor((r + o) / 2),\n                e > i.wc.combining[t][1])\n                    r = t + 1;\n                else {\n                    if (!(e < i.wc.combining[t][0]))\n                        return !0;\n                    o = t - 1\n                }\n            return !1\n        }\n        ,\n        i.wc.isCjkAmbiguous = function(e) {\n            var t, r = 0, o = i.wc.ambiguous.length - 1;\n            if (e < i.wc.ambiguous[0][0] || e > i.wc.ambiguous[o][1])\n                return !1;\n            for (; o >= r; )\n                if (t = Math.floor((r + o) / 2),\n                e > i.wc.ambiguous[t][1])\n                    r = t + 1;\n                else {\n                    if (!(e < i.wc.ambiguous[t][0]))\n                        return !0;\n                    o = t - 1\n                }\n            return !1\n        }\n        ,\n        i.wc.charWidth = function(e) {\n            return i.wc.regardCjkAmbiguous ? i.wc.charWidthRegardAmbiguous(e) : i.wc.charWidthDisregardAmbiguous(e)\n        }\n        ,\n        i.wc.charWidthDisregardAmbiguous = function(e) {\n            return 0 === e ? i.wc.nulWidth : e < 32 || e >= 127 && e < 160 ? i.wc.controlWidth : e < 127 ? 1 : i.wc.isSpace(e) ? 0 : 1 + (e >= 4352 && (e <= 4447 || 9001 == e || 9002 == e || e >= 11904 && e <= 42191 && 12351 != e || e >= 44032 && e <= 55203 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65135 || e >= 65280 && e <= 65376 || e >= 65504 && e <= 65510 || e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141))\n        }\n        ,\n        i.wc.charWidthRegardAmbiguous = function(e) {\n            return i.wc.isCjkAmbiguous(e) ? i.wc.cjkAmbiguousWidth : i.wc.charWidthDisregardAmbiguous(e)\n        }\n        ,\n        i.wc.strWidth = function(e) {\n            for (var t, r = 0, o = 0; o < e.length; ) {\n                var s = e.codePointAt(o);\n                if ((t = i.wc.charWidth(s)) < 0)\n                    return -1;\n                r += t,\n                    o += s <= 65535 ? 1 : 2\n            }\n            return r\n        }\n        ,\n        i.wc.substr = function(e, t, r) {\n            var o, s, n;\n            for (o = 0,\n                     n = 0; o < e.length && !((n += i.wc.charWidth(e.charCodeAt(o))) > t); o++)\n                ;\n            if (void 0 != r) {\n                for (s = o,\n                         n = 0; s < e.length && n <= r; n += i.wc.charWidth(e.charCodeAt(s)),\n                         s++)\n                    ;\n                return n > r && s--,\n                    e.substring(o, s)\n            }\n            return e.substr(o)\n        }\n        ,\n        i.wc.substring = function(e, t, r) {\n            return i.wc.substr(e, t, r - t)\n        }\n        ,\n        i.resource.add(\"libdot/changelog/version\", \"text/plain\", \"1.16\"),\n        i.resource.add(\"libdot/changelog/date\", \"text/plain\", \"2017-08-16\"),\n        i.rtdep(\"lib.Storage\");\n        var o = {};\n        o.windowType = null,\n            o.zoomWarningMessage = \"ZOOM != 100%\",\n            o.notifyCopyMessage = \"\",\n            o.desktopNotificationTitle = \" %(title) \",\n            o.testDeps = [\"hterm.ScrollPort.Tests\", \"hterm.Screen.Tests\", \"hterm.Terminal.Tests\", \"hterm.VT.Tests\", \"hterm.VT.CannedTests\"],\n            i.registerInit(\"hterm\", function(e) {\n                function t(t) {\n                    o.windowType = t.type,\n                        setTimeout(e, 0)\n                }\n                o.defaultStorage || (window.chrome && chrome.storage && chrome.storage.sync ? o.defaultStorage = new i.Storage.Chrome(chrome.storage.sync) : o.defaultStorage = new i.Storage.Local);\n                var r = !1;\n                if (window.chrome && chrome.runtime && chrome.runtime.getManifest) {\n                    var s = chrome.runtime.getManifest();\n                    r = s.app && s.app.background\n                }\n                r ? setTimeout(t.bind(null, {\n                    type: \"popup\"\n                }), 0) : window.chrome && chrome.tabs ? chrome.tabs.getCurrent(function(r) {\n                    r && window.chrome ? chrome.windows.get(r.windowId, null, t) : (o.windowType = \"normal\",\n                        setTimeout(e, 0))\n                }) : setTimeout(t.bind(null, {\n                    type: \"normal\"\n                }), 0)\n            }),\n            o.getClientSize = function(e) {\n                return e.getBoundingClientRect()\n            }\n            ,\n            o.getClientWidth = function(e) {\n                return e.getBoundingClientRect().width\n            }\n            ,\n            o.getClientHeight = function(e) {\n                return e.getBoundingClientRect().height\n            }\n            ,\n            o.copySelectionToClipboard = function(e) {\n                try {\n                    e.execCommand(\"copy\")\n                } catch (e) {}\n            }\n            ,\n            o.pasteFromClipboard = function(e) {\n                try {\n                    return e.execCommand(\"paste\")\n                } catch (e) {\n                    return !1\n                }\n            }\n            ,\n            o.notify = function(e) {\n                var t = (e,t)=>void 0 !== e ? e : t;\n                void 0 !== e && null !== e || (e = {});\n                var r = {\n                    body: e.body,\n                    icon: t(e.icon, i.resource.getDataUrl(\"hterm/images/icon-96\"))\n                }\n                    , s = t(e.title, window.document.title);\n                s || (s = \"hterm\"),\n                    s = i.f.replaceVars(o.desktopNotificationTitle, {\n                        title: s\n                    });\n                var n = new Notification(s,r);\n                return n.onclick = function() {\n                    window.focus(),\n                        this.close()\n                }\n                    ,\n                    n\n            }\n            ,\n            o.Size = function(e, t) {\n                this.width = e,\n                    this.height = t\n            }\n            ,\n            o.Size.prototype.resize = function(e, t) {\n                this.width = e,\n                    this.height = t\n            }\n            ,\n            o.Size.prototype.clone = function() {\n                return new o.Size(this.width,this.height)\n            }\n            ,\n            o.Size.prototype.setTo = function(e) {\n                this.width = e.width,\n                    this.height = e.height\n            }\n            ,\n            o.Size.prototype.equals = function(e) {\n                return this.width == e.width && this.height == e.height\n            }\n            ,\n            o.Size.prototype.toString = function() {\n                return \"[hterm.Size: \" + this.width + \", \" + this.height + \"]\"\n            }\n            ,\n            o.RowCol = function(e, t, r) {\n                this.row = e,\n                    this.column = t,\n                    this.overflow = !!r\n            }\n            ,\n            o.RowCol.prototype.move = function(e, t, r) {\n                this.row = e,\n                    this.column = t,\n                    this.overflow = !!r\n            }\n            ,\n            o.RowCol.prototype.clone = function() {\n                return new o.RowCol(this.row,this.column,this.overflow)\n            }\n            ,\n            o.RowCol.prototype.setTo = function(e) {\n                this.row = e.row,\n                    this.column = e.column,\n                    this.overflow = e.overflow\n            }\n            ,\n            o.RowCol.prototype.equals = function(e) {\n                return this.row == e.row && this.column == e.column && this.overflow == e.overflow\n            }\n            ,\n            o.RowCol.prototype.toString = function() {\n                return \"[hterm.RowCol: \" + this.row + \", \" + this.column + \", \" + this.overflow + \"]\"\n            }\n            ,\n            i.rtdep(\"lib.f\"),\n            o.Frame = function(e, t, r) {\n                this.terminal_ = e,\n                    this.div_ = e.div_,\n                    this.url = t,\n                    this.options = r || {},\n                    this.iframe_ = null,\n                    this.container_ = null,\n                    this.messageChannel_ = null\n            }\n            ,\n            o.Frame.prototype.onMessage_ = function(e) {\n                switch (e.data.name) {\n                    case \"ipc-init-ok\":\n                        return void this.sendTerminalInfo_();\n                    case \"terminal-info-ok\":\n                        return this.container_.style.display = \"flex\",\n                            this.messageChannel_.port1.onmessage = this.onMessage.bind(this),\n                            void this.onLoad();\n                    default:\n                        return void console.log(\"Unknown message from frame:\", e.data)\n                }\n            }\n            ,\n            o.Frame.prototype.onMessage = function() {}\n            ,\n            o.Frame.prototype.onLoad_ = function() {\n                this.messageChannel_ = new MessageChannel,\n                    this.messageChannel_.port1.onmessage = this.onMessage_.bind(this),\n                    this.messageChannel_.port1.start(),\n                    this.iframe_.contentWindow.postMessage({\n                        name: \"ipc-init\",\n                        argv: [{\n                            messagePort: this.messageChannel_.port2\n                        }]\n                    }, this.url, [this.messageChannel_.port2])\n            }\n            ,\n            o.Frame.prototype.onLoad = function() {}\n            ,\n            o.Frame.prototype.sendTerminalInfo_ = function() {\n                i.f.getAcceptLanguages(function(e) {\n                    this.postMessage(\"terminal-info\", [{\n                        acceptLanguages: e,\n                        foregroundColor: this.terminal_.getForegroundColor(),\n                        backgroundColor: this.terminal_.getBackgroundColor(),\n                        cursorColor: this.terminal_.getCursorColor(),\n                        fontSize: this.terminal_.getFontSize(),\n                        fontFamily: this.terminal_.getFontFamily(),\n                        baseURL: i.f.getURL(\"/\")\n                    }])\n                }\n                    .bind(this))\n            }\n            ,\n            o.Frame.prototype.onCloseClicked_ = function() {\n                this.close()\n            }\n            ,\n            o.Frame.prototype.close = function() {\n                this.container_ && this.container_.parentNode && (this.container_.parentNode.removeChild(this.container_),\n                    this.onClose())\n            }\n            ,\n            o.Frame.prototype.onClose = function() {}\n            ,\n            o.Frame.prototype.postMessage = function(e, t) {\n                if (!this.messageChannel_)\n                    throw new Error(\"Message channel is not set up.\");\n                this.messageChannel_.port1.postMessage({\n                    name: e,\n                    argv: t\n                })\n            }\n            ,\n            o.Frame.prototype.show = function() {\n                function e(e, r) {\n                    return e in t.options ? t.options[e] : r\n                }\n                var t = this\n                    , t = this;\n                if (this.container_ && this.container_.parentNode)\n                    console.error(\"Frame already visible\");\n                else {\n                    var r = o.getClientSize(this.div_)\n                        , i = e(\"width\", 640)\n                        , s = e(\"height\", 480)\n                        , n = (r.width,\n                        r.height,\n                        this.terminal_.document_)\n                        , a = this.container_ = n.createElement(\"div\");\n                    a.style.cssText = \"position: absolute;display: none;flex-direction: column;top: 10%;left: 4%;width: 90%;height: 80%;min-height: 20%;max-height: 80%;box-shadow: 0 0 2px \" + this.terminal_.getForegroundColor() + \";border: 2px \" + this.terminal_.getForegroundColor() + \" solid;\";\n                    var l = this.iframe_ = n.createElement(\"iframe\");\n                    l.onload = this.onLoad_.bind(this),\n                        l.style.cssText = \"display: flex;flex: 1;width: 100%\",\n                        l.setAttribute(\"src\", this.url),\n                        l.setAttribute(\"seamless\", !0),\n                        a.appendChild(l),\n                        this.div_.appendChild(a)\n                }\n            }\n            ,\n            i.rtdep(\"hterm.Keyboard.KeyMap\"),\n            o.Keyboard = function(e) {\n                this.terminal = e,\n                    this.keyboardElement_ = null,\n                    this.handlers_ = [[\"focusout\", this.onFocusOut_.bind(this)], [\"keydown\", this.onKeyDown_.bind(this)], [\"keypress\", this.onKeyPress_.bind(this)], [\"keyup\", this.onKeyUp_.bind(this)], [\"textInput\", this.onTextInput_.bind(this)]],\n                    this.keyMap = new o.Keyboard.KeyMap(this),\n                    this.bindings = new o.Keyboard.Bindings(this),\n                    this.altGrMode = \"none\",\n                    this.shiftInsertPaste = !0,\n                    this.homeKeysScroll = !1,\n                    this.pageKeysScroll = !1,\n                    this.ctrlPlusMinusZeroZoom = !0,\n                    this.ctrlCCopy = !1,\n                    this.ctrlVPaste = !1,\n                    this.applicationKeypad = !1,\n                    this.applicationCursor = !1,\n                    this.backspaceSendsBackspace = !1,\n                    this.characterEncoding = \"utf-8\",\n                    this.metaSendsEscape = !0,\n                    this.passMetaV = !0,\n                    this.altSendsWhat = \"escape\",\n                    this.altIsMeta = !1,\n                    this.altBackspaceIsMetaBackspace = !1,\n                    this.altKeyPressed = 0,\n                    this.mediaKeysAreFKeys = !1,\n                    this.previousAltSendsWhat_ = null\n            }\n            ,\n            o.Keyboard.KeyActions = {\n                CANCEL: i.f.createEnum(\"CANCEL\"),\n                DEFAULT: i.f.createEnum(\"DEFAULT\"),\n                PASS: i.f.createEnum(\"PASS\"),\n                STRIP: i.f.createEnum(\"STRIP\")\n            },\n            o.Keyboard.prototype.encode = function(e) {\n                return \"utf-8\" == this.characterEncoding ? this.terminal.vt.encodeUTF8(e) : e\n            }\n            ,\n            o.Keyboard.prototype.installKeyboard = function(e) {\n                if (e != this.keyboardElement_) {\n                    e && this.keyboardElement_ && this.installKeyboard(null);\n                    for (var t = 0; t < this.handlers_.length; t++) {\n                        var r = this.handlers_[t];\n                        e ? e.addEventListener(r[0], r[1]) : this.keyboardElement_.removeEventListener(r[0], r[1])\n                    }\n                    this.keyboardElement_ = e\n                }\n            }\n            ,\n            o.Keyboard.prototype.uninstallKeyboard = function() {\n                this.installKeyboard(null)\n            }\n            ,\n            o.Keyboard.prototype.onTextInput_ = function(e) {\n                e.data && e.data.split(\"\").forEach(this.terminal.onVTKeystroke.bind(this.terminal))\n            }\n            ,\n            o.Keyboard.prototype.onKeyPress_ = function(e) {\n                var t = String.fromCharCode(e.which).toLowerCase();\n                if (!e.ctrlKey && !e.metaKey || \"c\" != t && \"v\" != t) {\n                    if (e.altKey && \"browser-key\" == this.altSendsWhat && 0 == e.charCode) {\n                        var r = String.fromCharCode(e.keyCode);\n                        e.shiftKey || (r = r.toLowerCase()),\n                        r.charCodeAt(0) + 128\n                    } else\n                        e.charCode >= 32 && (r = e.charCode);\n                    r && this.terminal.onVTKeystroke(String.fromCharCode(r)),\n                        e.preventDefault(),\n                        e.stopPropagation()\n                }\n            }\n            ,\n            o.Keyboard.prototype.preventChromeAppNonCtrlShiftDefault_ = function(e) {\n                window.chrome && window.chrome.app && window.chrome.app.window && (e.ctrlKey && e.shiftKey || e.preventDefault())\n            }\n            ,\n            o.Keyboard.prototype.onFocusOut_ = function(e) {\n                this.altKeyPressed = 0\n            }\n            ,\n            o.Keyboard.prototype.onKeyUp_ = function(e) {\n                18 == e.keyCode && (this.altKeyPressed = this.altKeyPressed & ~(1 << e.location - 1)),\n                27 == e.keyCode && this.preventChromeAppNonCtrlShiftDefault_(e)\n            }\n            ,\n            o.Keyboard.prototype.onKeyDown_ = function(e) {\n                function t(o) {\n                    i = o;\n                    var n = r[o];\n                    return \"function\" == typeof n && (n = n.apply(s.keyMap, [e, r])),\n                    n === a && \"normal\" != o && (n = t(\"normal\")),\n                        n\n                }\n                18 == e.keyCode && (this.altKeyPressed = this.altKeyPressed | 1 << e.location - 1),\n                27 == e.keyCode && this.preventChromeAppNonCtrlShiftDefault_(e);\n                var r = this.keyMap.keyDefs[e.keyCode];\n                if (r) {\n                    var i = null\n                        , s = this\n                        , n = o.Keyboard.KeyActions.CANCEL\n                        , a = o.Keyboard.KeyActions.DEFAULT\n                        , l = o.Keyboard.KeyActions.PASS\n                        , h = o.Keyboard.KeyActions.STRIP\n                        , c = e.ctrlKey\n                        , u = !this.altIsMeta && e.altKey\n                        , d = this.altIsMeta ? e.altKey || e.metaKey : e.metaKey\n                        , p = !/^\\[\\w+\\]$/.test(r.keyCap);\n                    switch (this.altGrMode) {\n                        case \"ctrl-alt\":\n                            p && c && u && (c = !1,\n                                u = !1);\n                            break;\n                        case \"right-alt\":\n                            p && 2 & this.terminal.keyboard.altKeyPressed && (c = !1,\n                                u = !1);\n                            break;\n                        case \"left-alt\":\n                            p && 1 & this.terminal.keyboard.altKeyPressed && (c = !1,\n                                u = !1)\n                    }\n                    var f;\n                    f = t(c ? \"control\" : u ? \"alt\" : d ? \"meta\" : \"normal\");\n                    var g = !e.maskShiftKey && e.shiftKey\n                        , m = {\n                        keyCode: e.keyCode,\n                        shift: e.shiftKey,\n                        ctrl: c,\n                        alt: u,\n                        meta: d\n                    }\n                        , y = this.bindings.getBinding(m);\n                    if (y && (g = c = u = d = !1,\n                        i = \"normal\",\n                    \"function\" == typeof (f = y.action) && (f = f.call(this, this.terminal, m))),\n                    u && \"browser-key\" == this.altSendsWhat && f == a && (f = l),\n                    f !== l && (f !== a || c || u || d) && (f === h && (u = c = !1,\n                    \"function\" == typeof (f = r.normal) && (f = f.apply(this.keyMap, [e, r])),\n                    f == a && 2 == r.keyCap.length && (f = r.keyCap.substr(g ? 1 : 0, 1))),\n                        e.preventDefault(),\n                        e.stopPropagation(),\n                    f !== n))\n                        if (f === a || \"string\" == typeof f) {\n                            if (\"control\" == i ? c = !1 : \"alt\" == i ? u = !1 : \"meta\" == i && (d = !1),\n                            \"\u001B[\" == f.substr(0, 2) && (u || c || g)) {\n                                var b;\n                                !g || u || c ? !u || g || c ? g && u && !c ? b = \";4\" : !c || g || u ? g && c && !u ? b = \";6\" : u && c && !g ? b = \";7\" : g && u && c && (b = \";8\") : b = \";5\" : b = \";3\" : b = \";2\",\n                                    f = 3 == f.length ? \"\u001B[1\" + b + f.substr(2, 1) : f.substr(0, f.length - 1) + b + f.substr(f.length - 1)\n                            } else {\n                                if (f === a && (f = r.keyCap.substr(g ? 1 : 0, 1),\n                                c && (_ = r.keyCap.substr(0, 1).charCodeAt(0)) >= 64 && _ <= 95 && (f = String.fromCharCode(_ - 64))),\n                                u && \"8-bit\" == this.altSendsWhat && 1 == f.length) {\n                                    var _ = f.charCodeAt(0) + 128;\n                                    f = String.fromCharCode(_)\n                                }\n                                (u && \"escape\" == this.altSendsWhat || d && this.metaSendsEscape) && (f = \"\u001B\" + f)\n                            }\n                            this.terminal.onVTKeystroke(f)\n                        } else\n                            console.warn(\"Invalid action: \" + JSON.stringify(f))\n                } else\n                    console.warn(\"No definition for keyCode: \" + e.keyCode)\n            }\n            ,\n            o.Keyboard.Bindings = function() {\n                this.bindings_ = {}\n            }\n            ,\n            o.Keyboard.Bindings.prototype.clear = function() {\n                this.bindings_ = {}\n            }\n            ,\n            o.Keyboard.Bindings.prototype.addBinding_ = function(e, t) {\n                var r = null\n                    , i = this.bindings_[e.keyCode];\n                if (i)\n                    for (var s = 0; s < i.length; s++)\n                        if (i[s].keyPattern.matchKeyPattern(e)) {\n                            r = i[s];\n                            break\n                        }\n                r ? r.action = t : (r = {\n                    keyPattern: e,\n                    action: t\n                },\n                    i ? (this.bindings_[e.keyCode].push(r),\n                        i.sort(function(e, t) {\n                            return o.Keyboard.KeyPattern.sortCompare(e.keyPattern, t.keyPattern)\n                        })) : this.bindings_[e.keyCode] = [r])\n            }\n            ,\n            o.Keyboard.Bindings.prototype.addBinding = function(e, t) {\n                if (\"string\" == typeof e) {\n                    var r = new o.Parser;\n                    r.reset(e);\n                    var i;\n                    try {\n                        i = r.parseKeySequence()\n                    } catch (e) {\n                        return void console.error(e)\n                    }\n                    if (r.isComplete()) {\n                        if (\"string\" == typeof t) {\n                            r.reset(t);\n                            try {\n                                t = r.parseKeyAction()\n                            } catch (e) {\n                                return void console.error(e)\n                            }\n                        }\n                        r.isComplete() ? this.addBinding_(new o.Keyboard.KeyPattern(i), t) : console.error(r.error(\"Expected end of sequence: \" + i))\n                    } else\n                        console.error(r.error(\"Expected end of sequence: \" + i))\n                } else\n                    this.addBinding_(e, t)\n            }\n            ,\n            o.Keyboard.Bindings.prototype.addBindings = function(e) {\n                for (var t in e)\n                    this.addBinding(t, e[t])\n            }\n            ,\n            o.Keyboard.Bindings.prototype.getBinding = function(e) {\n                var t = this.bindings_[e.keyCode];\n                if (!t)\n                    return null;\n                for (var r = 0; r < t.length; r++) {\n                    var i = t[r];\n                    if (i.keyPattern.matchKeyDown(e))\n                        return i\n                }\n                return null\n            }\n            ,\n            i.rtdep(\"hterm.Keyboard.KeyActions\"),\n            o.Keyboard.KeyMap = function(e) {\n                this.keyboard = e,\n                    this.keyDefs = {},\n                    this.reset()\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.addKeyDef = function(e, t) {\n                e in this.keyDefs && console.warn(\"Duplicate keyCode: \" + e),\n                    this.keyDefs[e] = t\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.addKeyDefs = function(e) {\n                for (var t = 0; t < arguments.length; t++)\n                    this.addKeyDef(arguments[t][0], {\n                        keyCap: arguments[t][1],\n                        normal: arguments[t][2],\n                        control: arguments[t][3],\n                        alt: arguments[t][4],\n                        meta: arguments[t][5]\n                    })\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.reset = function() {\n                function e(e, t, r) {\n                    return \"function\" == typeof e ? e.apply(c, [t, r]) : e\n                }\n                function t(t, r) {\n                    return function(i, o) {\n                        return e(i.shiftKey || i.ctrlKey || i.altKey || i.metaKey || !c.keyboard.applicationCursor ? t : r, i, o)\n                    }\n                }\n                function r(t, r) {\n                    return function(i, o) {\n                        return e(c.keyboard.backspaceSendsBackspace ? r : t, i, o)\n                    }\n                }\n                function i(t, r) {\n                    return function(i, o) {\n                        var s = i.shiftKey ? r : t;\n                        return i.maskShiftKey = !0,\n                            e(s, i, o)\n                    }\n                }\n                function s(t, r) {\n                    return function(i, o) {\n                        return e(i.altKey ? r : t, i, o)\n                    }\n                }\n                function n(t, r) {\n                    return function(i, o) {\n                        return e(i.shiftKey || i.ctrlKey || i.altKey || i.metaKey ? r : t, i, o)\n                    }\n                }\n                function a(e) {\n                    return String.fromCharCode(e.charCodeAt(0) - 64)\n                }\n                function l(e) {\n                    return function(t, r) {\n                        return this[e](t, r)\n                    }\n                }\n                function h(t) {\n                    return function(r, i) {\n                        return c.keyboard.mediaKeysAreFKeys ? e(t, r, i) : 166 == r.keyCode || 167 == r.keyCode || 168 == r.keyCode ? o.Keyboard.KeyActions.CANCEL : o.Keyboard.KeyActions.PASS\n                    }\n                }\n                this.keyDefs = {};\n                var c = this\n                    , u = o.Keyboard.KeyActions.CANCEL\n                    , d = o.Keyboard.KeyActions.DEFAULT\n                    , p = o.Keyboard.KeyActions.PASS\n                    , f = o.Keyboard.KeyActions.STRIP;\n                this.addKeyDefs([0, \"[UNKNOWN]\", p, p, p, p], [27, \"[ESC]\", \"\u001B\", d, d, d], [112, \"[F1]\", n(\"\u001BOP\", \"\u001B[P\"), d, \"\u001B[23~\", d], [113, \"[F2]\", n(\"\u001BOQ\", \"\u001B[Q\"), d, \"\u001B[24~\", d], [114, \"[F3]\", n(\"\u001BOR\", \"\u001B[R\"), d, \"\u001B[25~\", d], [115, \"[F4]\", n(\"\u001BOS\", \"\u001B[S\"), d, \"\u001B[26~\", d], [116, \"[F5]\", \"\u001B[15~\", d, \"\u001B[28~\", d], [117, \"[F6]\", \"\u001B[17~\", d, \"\u001B[29~\", d], [118, \"[F7]\", \"\u001B[18~\", d, \"\u001B[31~\", d], [119, \"[F8]\", \"\u001B[19~\", d, \"\u001B[32~\", d], [120, \"[F9]\", \"\u001B[20~\", d, \"\u001B[33~\", d], [121, \"[F10]\", \"\u001B[21~\", d, \"\u001B[34~\", d], [122, \"[F11]\", \"\u001B[23~\", d, \"\u001B[42~\", d], [123, \"[F12]\", \"\u001B[24~\", d, \"\u001B[43~\", d], [192, \"`~\", d, i(a(\"@\"), a(\"^\")), d, p], [49, \"1!\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [50, \"2@\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [51, \"3#\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [52, \"4$\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [53, \"5%\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [54, \"6^\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [55, \"7&\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [56, \"8*\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [57, \"9(\", d, l(\"onCtrlNum_\"), l(\"onAltNum_\"), l(\"onMetaNum_\")], [48, \"0)\", d, l(\"onPlusMinusZero_\"), l(\"onAltNum_\"), l(\"onPlusMinusZero_\")], [189, \"-_\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [187, \"=+\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [173, \"-_\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [61, \"=+\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [171, \"+*\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [8, \"[BKSP]\", r(\"\u007F\", \"\\b\"), r(\"\\b\", \"\u007F\"), d, d], [9, \"[TAB]\", i(\"\\t\", \"\u001B[Z\"), f, p, d], [81, \"qQ\", d, a(\"Q\"), d, d], [87, \"wW\", d, a(\"W\"), d, d], [69, \"eE\", d, a(\"E\"), d, d], [82, \"rR\", d, a(\"R\"), d, d], [84, \"tT\", d, a(\"T\"), d, d], [89, \"yY\", d, a(\"Y\"), d, d], [85, \"uU\", d, a(\"U\"), d, d], [73, \"iI\", d, a(\"I\"), d, d], [79, \"oO\", d, a(\"O\"), d, d], [80, \"pP\", d, a(\"P\"), d, d], [219, \"[{\", d, a(\"[\"), d, d], [221, \"]}\", d, a(\"]\"), d, d], [220, \"\\\\|\", d, a(\"\\\\\"), d, d], [20, \"[CAPS]\", p, p, p, d], [65, \"aA\", d, a(\"A\"), d, d], [83, \"sS\", d, a(\"S\"), d, d], [68, \"dD\", d, a(\"D\"), d, d], [70, \"fF\", d, a(\"F\"), d, d], [71, \"gG\", d, a(\"G\"), d, d], [72, \"hH\", d, a(\"H\"), d, d], [74, \"jJ\", d, i(a(\"J\"), p), d, d], [75, \"kK\", d, i(a(\"K\"), l(\"onClear_\")), d, d], [76, \"lL\", d, i(a(\"L\"), p), d, d], [186, \";:\", d, f, d, d], [222, \"'\\\"\", d, f, d, d], [13, \"[ENTER]\", \"\\r\", u, u, d], [16, \"[SHIFT]\", p, p, p, d], [90, \"zZ\", d, a(\"Z\"), d, d], [88, \"xX\", d, a(\"X\"), d, d], [67, \"cC\", d, l(\"onCtrlC_\"), d, l(\"onMetaC_\")], [86, \"vV\", d, l(\"onCtrlV_\"), d, l(\"onMetaV_\")], [66, \"bB\", d, i(a(\"B\"), p), d, i(d, p)], [78, \"nN\", d, l(\"onCtrlN_\"), d, l(\"onMetaN_\")], [77, \"mM\", d, a(\"M\"), d, d], [188, \",<\", d, s(f, p), d, d], [190, \".>\", d, s(f, p), d, d], [191, \"/?\", d, i(a(\"_\"), a(\"?\")), d, d], [17, \"[CTRL]\", p, p, p, p], [18, \"[ALT]\", p, p, p, p], [91, \"[LAPL]\", p, p, p, p], [32, \" \", d, a(\"@\"), d, d], [92, \"[RAPL]\", p, p, p, p], [93, \"[RMENU]\", p, p, p, p], [42, \"[PRTSCR]\", p, p, p, p], [145, \"[SCRLK]\", p, p, p, p], [19, \"[BREAK]\", p, p, p, p], [45, \"[INSERT]\", l(\"onKeyInsert_\"), d, d, d], [36, \"[HOME]\", l(\"onKeyHome_\"), d, d, d], [33, \"[PGUP]\", l(\"onKeyPageUp_\"), d, d, d], [46, \"[DEL]\", l(\"onKeyDel_\"), d, d, d], [35, \"[END]\", l(\"onKeyEnd_\"), d, d, d], [34, \"[PGDOWN]\", l(\"onKeyPageDown_\"), d, d, d], [38, \"[UP]\", l(\"onKeyArrowUp_\"), d, d, d], [40, \"[DOWN]\", l(\"onKeyArrowDown_\"), d, d, d], [39, \"[RIGHT]\", t(\"\u001B[C\", \"\u001BOC\"), d, d, d], [37, \"[LEFT]\", t(\"\u001B[D\", \"\u001BOD\"), d, d, d], [144, \"[NUMLOCK]\", p, p, p, p], [96, \"[KP0]\", d, d, d, d], [97, \"[KP1]\", d, d, d, d], [98, \"[KP2]\", d, d, d, d], [99, \"[KP3]\", d, d, d, d], [100, \"[KP4]\", d, d, d, d], [101, \"[KP5]\", d, d, d, d], [102, \"[KP6]\", d, d, d, d], [103, \"[KP7]\", d, d, d, d], [104, \"[KP8]\", d, d, d, d], [105, \"[KP9]\", d, d, d, d], [107, \"[KP+]\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [109, \"[KP-]\", d, l(\"onPlusMinusZero_\"), d, l(\"onPlusMinusZero_\")], [106, \"[KP*]\", d, d, d, d], [111, \"[KP/]\", d, d, d, d], [110, \"[KP.]\", d, d, d, d], [166, \"[BACK]\", h(n(\"\u001BOP\", \"\u001B[P\")), d, \"\u001B[23~\", d], [167, \"[FWD]\", h(n(\"\u001BOQ\", \"\u001B[Q\")), d, \"\u001B[24~\", d], [168, \"[RELOAD]\", h(n(\"\u001BOR\", \"\u001B[R\")), d, \"\u001B[25~\", d], [183, \"[FSCR]\", h(n(\"\u001BOS\", \"\u001B[S\")), d, \"\u001B[26~\", d], [182, \"[WINS]\", h(\"\u001B[15~\"), d, \"\u001B[28~\", d], [216, \"[BRIT-]\", h(\"\u001B[17~\"), d, \"\u001B[29~\", d], [217, \"[BRIT+]\", h(\"\u001B[18~\"), d, \"\u001B[31~\", d])\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyInsert_ = function(e) {\n                return this.keyboard.shiftInsertPaste && e.shiftKey ? o.Keyboard.KeyActions.PASS : \"\u001B[2~\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyHome_ = function(e) {\n                return !this.keyboard.homeKeysScroll ^ e.shiftKey ? e.altey || e.ctrlKey || e.shiftKey || !this.keyboard.applicationCursor ? \"\u001B[H\" : \"\u001BOH\" : (this.keyboard.terminal.scrollHome(),\n                    o.Keyboard.KeyActions.CANCEL)\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyEnd_ = function(e) {\n                return !this.keyboard.homeKeysScroll ^ e.shiftKey ? e.altKey || e.ctrlKey || e.shiftKey || !this.keyboard.applicationCursor ? \"\u001B[F\" : \"\u001BOF\" : (this.keyboard.terminal.scrollEnd(),\n                    o.Keyboard.KeyActions.CANCEL)\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyPageUp_ = function(e) {\n                return !this.keyboard.pageKeysScroll ^ e.shiftKey ? \"\u001B[5~\" : (this.keyboard.terminal.scrollPageUp(),\n                    o.Keyboard.KeyActions.CANCEL)\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyDel_ = function(e) {\n                return this.keyboard.altBackspaceIsMetaBackspace && this.keyboard.altKeyPressed && !e.altKey ? \"\u001B\u007F\" : \"\u001B[3~\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyPageDown_ = function(e) {\n                return !this.keyboard.pageKeysScroll ^ e.shiftKey ? \"\u001B[6~\" : (this.keyboard.terminal.scrollPageDown(),\n                    o.Keyboard.KeyActions.CANCEL)\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyArrowUp_ = function(e) {\n                return !this.keyboard.applicationCursor && e.shiftKey ? (this.keyboard.terminal.scrollLineUp(),\n                    o.Keyboard.KeyActions.CANCEL) : e.shiftKey || e.ctrlKey || e.altKey || e.metaKey || !this.keyboard.applicationCursor ? \"\u001B[A\" : \"\u001BOA\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onKeyArrowDown_ = function(e) {\n                return !this.keyboard.applicationCursor && e.shiftKey ? (this.keyboard.terminal.scrollLineDown(),\n                    o.Keyboard.KeyActions.CANCEL) : e.shiftKey || e.ctrlKey || e.altKey || e.metaKey || !this.keyboard.applicationCursor ? \"\u001B[B\" : \"\u001BOB\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onClear_ = function(e, t) {\n                return this.keyboard.terminal.wipeContents(),\n                    o.Keyboard.KeyActions.CANCEL\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onCtrlNum_ = function(e, t) {\n                function r(e) {\n                    return String.fromCharCode(e.charCodeAt(0) - 64)\n                }\n                if (this.keyboard.terminal.passCtrlNumber && !e.shiftKey)\n                    return o.Keyboard.KeyActions.PASS;\n                switch (t.keyCap.substr(0, 1)) {\n                    case \"1\":\n                        return \"1\";\n                    case \"2\":\n                        return r(\"@\");\n                    case \"3\":\n                        return r(\"[\");\n                    case \"4\":\n                        return r(\"\\\\\");\n                    case \"5\":\n                        return r(\"]\");\n                    case \"6\":\n                        return r(\"^\");\n                    case \"7\":\n                        return r(\"_\");\n                    case \"8\":\n                        return \"\u007F\";\n                    case \"9\":\n                        return \"9\"\n                }\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onAltNum_ = function(e, t) {\n                return this.keyboard.terminal.passAltNumber && !e.shiftKey ? o.Keyboard.KeyActions.PASS : o.Keyboard.KeyActions.DEFAULT\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onMetaNum_ = function(e, t) {\n                return this.keyboard.terminal.passMetaNumber && !e.shiftKey ? o.Keyboard.KeyActions.PASS : o.Keyboard.KeyActions.DEFAULT\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onCtrlC_ = function(e, t) {\n                var r = this.keyboard.terminal.getDocument().getSelection();\n                if (!r.isCollapsed) {\n                    if (this.keyboard.ctrlCCopy && !e.shiftKey)\n                        return this.keyboard.terminal.clearSelectionAfterCopy && setTimeout(r.collapseToEnd.bind(r), 50),\n                            o.Keyboard.KeyActions.PASS;\n                    if (!this.keyboard.ctrlCCopy && e.shiftKey)\n                        return this.keyboard.terminal.clearSelectionAfterCopy && setTimeout(r.collapseToEnd.bind(r), 50),\n                            this.keyboard.terminal.copySelectionToClipboard(),\n                            o.Keyboard.KeyActions.CANCEL\n                }\n                return \"\u0003\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onCtrlN_ = function(e, t) {\n                return e.shiftKey ? (window.open(document.location.href, \"\", \"chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width=\" + window.innerWidth + \",height=\" + window.innerHeight),\n                    o.Keyboard.KeyActions.CANCEL) : \"\u000E\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onCtrlV_ = function(e, t) {\n                return !e.shiftKey && this.keyboard.ctrlVPaste || e.shiftKey && !this.keyboard.ctrlVPaste ? this.keyboard.terminal.paste() ? o.Keyboard.KeyActions.CANCEL : o.Keyboard.KeyActions.PASS : \"\u0016\"\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onMetaN_ = function(e, t) {\n                return e.shiftKey ? (window.open(document.location.href, \"\", \"chrome=no,close=yes,resize=yes,scrollbars=yes,minimizable=yes,width=\" + window.outerWidth + \",height=\" + window.outerHeight),\n                    o.Keyboard.KeyActions.CANCEL) : o.Keyboard.KeyActions.DEFAULT\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onMetaC_ = function(e, t) {\n                var r = this.keyboard.terminal.getDocument();\n                return e.shiftKey || r.getSelection().isCollapsed ? t.keyCap.substr(e.shiftKey ? 1 : 0, 1) : (this.keyboard.terminal.clearSelectionAfterCopy && setTimeout(function() {\n                    r.getSelection().collapseToEnd()\n                }, 50),\n                    o.Keyboard.KeyActions.PASS)\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onMetaV_ = function(e, t) {\n                return e.shiftKey ? o.Keyboard.KeyActions.PASS : this.keyboard.passMetaV ? o.Keyboard.KeyActions.PASS : o.Keyboard.KeyActions.DEFAULT\n            }\n            ,\n            o.Keyboard.KeyMap.prototype.onPlusMinusZero_ = function(e, t) {\n                if (!(this.keyboard.ctrlPlusMinusZeroZoom ^ e.shiftKey))\n                    return \"-_\" == t.keyCap ? \"\u001F\" : o.Keyboard.KeyActions.CANCEL;\n                if (1 != this.keyboard.terminal.getZoomFactor())\n                    return o.Keyboard.KeyActions.PASS;\n                var r = t.keyCap.substr(0, 1);\n                if (\"0\" == r)\n                    this.keyboard.terminal.setFontSize(0);\n                else {\n                    var i = this.keyboard.terminal.getFontSize();\n                    \"-\" == r || \"[KP-]\" == t.keyCap ? i -= 1 : i += 1,\n                        this.keyboard.terminal.setFontSize(i)\n                }\n                return o.Keyboard.KeyActions.CANCEL\n            }\n            ,\n            o.Keyboard.KeyPattern = function(e) {\n                this.wildcardCount = 0,\n                    this.keyCode = e.keyCode,\n                    o.Keyboard.KeyPattern.modifiers.forEach(function(t) {\n                        this[t] = e[t] || !1,\n                        \"*\" == this[t] && this.wildcardCount++\n                    }\n                        .bind(this))\n            }\n            ,\n            o.Keyboard.KeyPattern.modifiers = [\"shift\", \"ctrl\", \"alt\", \"meta\"],\n            o.Keyboard.KeyPattern.sortCompare = function(e, t) {\n                return e.wildcardCount < t.wildcardCount ? -1 : e.wildcardCount > t.wildcardCount ? 1 : 0\n            }\n            ,\n            o.Keyboard.KeyPattern.prototype.match_ = function(e, t) {\n                if (this.keyCode != e.keyCode)\n                    return !1;\n                var r = !0;\n                return o.Keyboard.KeyPattern.modifiers.forEach(function(i) {\n                    var o = i in e && e[i];\n                    r && (t || \"*\" != this[i]) && this[i] != o && (r = !1)\n                }\n                    .bind(this)),\n                    r\n            }\n            ,\n            o.Keyboard.KeyPattern.prototype.matchKeyDown = function(e) {\n                return this.match_(e, !1)\n            }\n            ,\n            o.Keyboard.KeyPattern.prototype.matchKeyPattern = function(e) {\n                return this.match_(e, !0)\n            }\n            ,\n            o.Options = function(e) {\n                this.wraparound = !e || e.wraparound,\n                    this.reverseWraparound = !!e && e.reverseWraparound,\n                    this.originMode = !!e && e.originMode,\n                    this.autoCarriageReturn = !!e && e.autoCarriageReturn,\n                    this.cursorVisible = !!e && e.cursorVisible,\n                    this.cursorBlink = !!e && e.cursorBlink,\n                    this.insertMode = !!e && e.insertMode,\n                    this.reverseVideo = !!e && e.reverseVideo,\n                    this.bracketedPaste = !!e && e.bracketedPaste\n            }\n            ,\n            i.rtdep(\"hterm.Keyboard.KeyActions\"),\n            o.Parser = function() {\n                this.source = \"\",\n                    this.pos = 0,\n                    this.ch = null\n            }\n            ,\n            o.Parser.prototype.error = function(e) {\n                return new Error(\"Parse error at \" + this.pos + \": \" + e)\n            }\n            ,\n            o.Parser.prototype.isComplete = function() {\n                return this.pos == this.source.length\n            }\n            ,\n            o.Parser.prototype.reset = function(e, t) {\n                this.source = e,\n                    this.pos = t || 0,\n                    this.ch = e.substr(0, 1)\n            }\n            ,\n            o.Parser.prototype.parseKeySequence = function() {\n                var e = {\n                    keyCode: null\n                };\n                for (var t in o.Parser.identifiers.modifierKeys)\n                    e[o.Parser.identifiers.modifierKeys[t]] = !1;\n                for (; this.pos < this.source.length; ) {\n                    this.skipSpace();\n                    var r = this.parseToken();\n                    if (\"integer\" == r.type)\n                        e.keyCode = r.value;\n                    else if (\"identifier\" == r.type) {\n                        var i = r.value.toUpperCase();\n                        if (i in o.Parser.identifiers.modifierKeys && o.Parser.identifiers.modifierKeys.hasOwnProperty(i)) {\n                            var s = o.Parser.identifiers.modifierKeys[i];\n                            if (e[s] && \"*\" != e[s])\n                                throw this.error(\"Duplicate modifier: \" + r.value);\n                            e[s] = !0\n                        } else {\n                            if (!(i in o.Parser.identifiers.keyCodes && o.Parser.identifiers.keyCodes.hasOwnProperty(i)))\n                                throw this.error(\"Unknown key: \" + r.value);\n                            e.keyCode = o.Parser.identifiers.keyCodes[i]\n                        }\n                    } else {\n                        if (\"symbol\" != r.type)\n                            throw this.error(\"Expected integer or identifier\");\n                        if (\"*\" != r.value)\n                            throw this.error(\"Unexpected symbol: \" + r.value);\n                        for (var n in o.Parser.identifiers.modifierKeys) {\n                            var a = o.Parser.identifiers.modifierKeys[n];\n                            e[a] || (e[a] = \"*\")\n                        }\n                    }\n                    if (this.skipSpace(),\n                    \"-\" != this.ch)\n                        break;\n                    if (null != e.keyCode)\n                        throw this.error(\"Extra definition after target key\");\n                    this.advance(1)\n                }\n                if (null == e.keyCode)\n                    throw this.error(\"Missing target key\");\n                return e\n            }\n            ,\n            o.Parser.prototype.parseKeyAction = function() {\n                this.skipSpace();\n                var e = this.parseToken();\n                if (\"string\" == e.type)\n                    return e.value;\n                if (\"identifier\" == e.type) {\n                    if (e.value in o.Parser.identifiers.actions && o.Parser.identifiers.actions.hasOwnProperty(e.value))\n                        return o.Parser.identifiers.actions[e.value];\n                    throw this.error(\"Unknown key action: \" + e.value)\n                }\n                throw this.error(\"Expected string or identifier\")\n            }\n            ,\n            o.Parser.prototype.peekString = function() {\n                return \"'\" == this.ch || '\"' == this.ch\n            }\n            ,\n            o.Parser.prototype.peekIdentifier = function() {\n                return this.ch.match(/[a-z_]/i)\n            }\n            ,\n            o.Parser.prototype.peekInteger = function() {\n                return this.ch.match(/[0-9]/)\n            }\n            ,\n            o.Parser.prototype.parseToken = function() {\n                if (\"*\" == this.ch) {\n                    var e = {\n                        type: \"symbol\",\n                        value: this.ch\n                    };\n                    return this.advance(1),\n                        e\n                }\n                if (this.peekIdentifier())\n                    return {\n                        type: \"identifier\",\n                        value: this.parseIdentifier()\n                    };\n                if (this.peekString())\n                    return {\n                        type: \"string\",\n                        value: this.parseString()\n                    };\n                if (this.peekInteger())\n                    return {\n                        type: \"integer\",\n                        value: this.parseInteger()\n                    };\n                throw this.error(\"Unexpected token\")\n            }\n            ,\n            o.Parser.prototype.parseIdentifier = function() {\n                if (!this.peekIdentifier())\n                    throw this.error(\"Expected identifier\");\n                return this.parsePattern(/[a-z0-9_]+/gi)\n            }\n            ,\n            o.Parser.prototype.parseInteger = function() {\n                return \"0\" == this.ch && this.pos < this.source.length - 1 && \"x\" == this.source.substr(this.pos + 1, 1) ? parseInt(this.parsePattern(/0x[0-9a-f]+/gi)) : parseInt(this.parsePattern(/\\d+/g))\n            }\n            ,\n            o.Parser.prototype.parseString = function() {\n                var e = \"\"\n                    , t = this.ch;\n                if ('\"' != t && \"'\" != t)\n                    throw this.error(\"String expected\");\n                this.advance(1);\n                for (var r = new RegExp(\"[\\\\\\\\\" + t + \"]\",\"g\"); this.pos < this.source.length; ) {\n                    if (r.lastIndex = this.pos,\n                        !r.exec(this.source))\n                        throw this.error(\"Unterminated string literal\");\n                    if (e += this.source.substring(this.pos, r.lastIndex - 1),\n                        this.advance(r.lastIndex - this.pos - 1),\n                    '\"' != t || \"\\\\\" != this.ch)\n                        if (\"'\" != t || \"\\\\\" != this.ch) {\n                            if (this.ch == t)\n                                return this.advance(1),\n                                    e\n                        } else\n                            e += this.ch,\n                                this.advance(1);\n                    else\n                        this.advance(1),\n                            e += this.parseEscape()\n                }\n                throw this.error(\"Unterminated string literal\")\n            }\n            ,\n            o.Parser.prototype.parseEscape = function() {\n                var e = {\n                    '\"': '\"',\n                    \"'\": \"'\",\n                    \"\\\\\": \"\\\\\",\n                    a: \"\a\",\n                    b: \"\\b\",\n                    e: \"\u001B\",\n                    f: \"\\f\",\n                    n: \"\\n\",\n                    r: \"\\r\",\n                    t: \"\\t\",\n                    v: \"\\v\",\n                    x: function() {\n                        var e = this.parsePattern(/[a-z0-9]{2}/gi);\n                        return String.fromCharCode(parseInt(e, 16))\n                    },\n                    u: function() {\n                        var e = this.parsePattern(/[a-z0-9]{4}/gi);\n                        return String.fromCharCode(parseInt(e, 16))\n                    }\n                };\n                if (!(this.ch in e && e.hasOwnProperty(this.ch)))\n                    throw this.error(\"Unknown escape: \" + this.ch);\n                var t = e[this.ch];\n                return this.advance(1),\n                \"function\" == typeof t && (t = t.call(this)),\n                    t\n            }\n            ,\n            o.Parser.prototype.parsePattern = function(e) {\n                if (!e.global)\n                    throw this.error(\"Internal error: Span patterns must be global\");\n                e.lastIndex = this.pos;\n                var t = e.exec(this.source);\n                if (!t || e.lastIndex - t[0].length != this.pos)\n                    throw this.error(\"Expected match for: \" + e);\n                return this.pos = e.lastIndex - 1,\n                    this.advance(1),\n                    t[0]\n            }\n        ,\n        o.Parser.prototype.advance = function(e) {\n            this.pos += e,\n                this.ch = this.source.substr(this.pos, 1)\n        }\n        ,\n        o.Parser.prototype.skipSpace = function(e) {\n            if (/\\s/.test(this.ch)) {\n                var t = /\\s+/gm;\n                t.lastIndex = this.pos;\n                var r = this.source;\n                if (t.exec(r) && (this.pos = t.lastIndex),\n                    this.ch = this.source.substr(this.pos, 1),\n                e && -1 == this.ch.indexOf(e))\n                    throw this.error(\"Expected one of \" + e + \", found: \" + this.ch)\n            }\n        }\n        ,\n        o.Parser.identifiers = {},\n        o.Parser.identifiers.modifierKeys = {\n            SHIFT: \"shift\",\n            CTRL: \"ctrl\",\n            CONTROL: \"ctrl\",\n            ALT: \"alt\",\n            META: \"meta\"\n        },\n        o.Parser.identifiers.keyCodes = {\n            ESCAPE: 27,\n            ESC: 27,\n            F1: 112,\n            F2: 113,\n            F3: 114,\n            F4: 115,\n            F5: 116,\n            F6: 117,\n            F7: 118,\n            F8: 119,\n            F9: 120,\n            F10: 121,\n            F11: 122,\n            F12: 123,\n            ONE: 49,\n            TWO: 50,\n            THREE: 51,\n            FOUR: 52,\n            FIVE: 53,\n            SIX: 54,\n            SEVEN: 55,\n            EIGHT: 56,\n            NINE: 57,\n            ZERO: 48,\n            BACKSPACE: 8,\n            BKSP: 8,\n            BS: 8,\n            TAB: 9,\n            Q: 81,\n            W: 87,\n            E: 69,\n            R: 82,\n            T: 84,\n            Y: 89,\n            U: 85,\n            I: 73,\n            O: 79,\n            P: 80,\n            CAPS_LOCK: 20,\n            CAPSLOCK: 20,\n            CAPS: 20,\n            A: 65,\n            S: 83,\n            D: 68,\n            F: 70,\n            G: 71,\n            H: 72,\n            J: 74,\n            K: 75,\n            L: 76,\n            ENTER: 13,\n            ENT: 13,\n            RETURN: 13,\n            RET: 13,\n            Z: 90,\n            X: 88,\n            C: 67,\n            V: 86,\n            B: 66,\n            N: 78,\n            M: 77,\n            SPACE: 32,\n            SP: 32,\n            PRINT_SCREEN: 42,\n            PRTSC: 42,\n            SCROLL_LOCK: 145,\n            SCRLK: 145,\n            BREAK: 19,\n            BRK: 19,\n            INSERT: 45,\n            INS: 45,\n            HOME: 36,\n            PAGE_UP: 33,\n            PGUP: 33,\n            DELETE: 46,\n            DEL: 46,\n            END: 35,\n            PAGE_DOWN: 34,\n            PGDOWN: 34,\n            PGDN: 34,\n            UP: 38,\n            DOWN: 40,\n            RIGHT: 39,\n            LEFT: 37,\n            NUMLOCK: 144,\n            KP0: 96,\n            KP1: 97,\n            KP2: 98,\n            KP3: 99,\n            KP4: 100,\n            KP5: 101,\n            KP6: 102,\n            KP7: 103,\n            KP8: 104,\n            KP9: 105,\n            KP_PLUS: 107,\n            KP_ADD: 107,\n            KP_MINUS: 109,\n            KP_SUBTRACT: 109,\n            KP_STAR: 106,\n            KP_MULTIPLY: 106,\n            KP_DIVIDE: 111,\n            KP_DECIMAL: 110,\n            KP_PERIOD: 110,\n            NAVIGATE_BACK: 166,\n            NAVIGATE_FORWARD: 167,\n            RELOAD: 168,\n            FULL_SCREEN: 183,\n            WINDOW_OVERVIEW: 182,\n            BRIGHTNESS_UP: 216,\n            BRIGHTNESS_DOWN: 217\n        },\n        o.Parser.identifiers.actions = {\n            CANCEL: o.Keyboard.KeyActions.CANCEL,\n            DEFAULT: o.Keyboard.KeyActions.DEFAULT,\n            PASS: o.Keyboard.KeyActions.PASS,\n            scrollPageUp: function(e) {\n                return e.scrollPageUp(),\n                    o.Keyboard.KeyActions.CANCEL\n            },\n            scrollPageDown: function(e) {\n                return e.scrollPageDown(),\n                    o.Keyboard.KeyActions.CANCEL\n            },\n            scrollToTop: function(e) {\n                return e.scrollEnd(),\n                    o.Keyboard.KeyActions.CANCEL\n            },\n            scrollToBottom: function(e) {\n                return e.scrollEnd(),\n                    o.Keyboard.KeyActions.CANCEL\n            },\n            clearScrollback: function(e) {\n                return e.wipeContents(),\n                    o.Keyboard.KeyActions.CANCEL\n            }\n        },\n        i.rtdep(\"lib.f\", \"lib.Storage\"),\n        o.PreferenceManager = function(e) {\n            i.PreferenceManager.call(this, o.defaultStorage, \"/hterm/profiles/\" + e);\n            var t = o.PreferenceManager.defaultPreferences;\n            Object.keys(t).forEach(function(e) {\n                this.definePreference(e, t[e][1])\n            }\n                .bind(this))\n        }\n        ,\n        o.PreferenceManager.categories = {},\n        o.PreferenceManager.categories.Keyboard = \"Keyboard\",\n        o.PreferenceManager.categories.Appearance = \"Appearance\",\n        o.PreferenceManager.categories.CopyPaste = \"CopyPaste\",\n        o.PreferenceManager.categories.Sounds = \"Sounds\",\n        o.PreferenceManager.categories.Scrolling = \"Scrolling\",\n        o.PreferenceManager.categories.Encoding = \"Encoding\",\n        o.PreferenceManager.categories.Miscellaneous = \"Miscellaneous\",\n        o.PreferenceManager.categoryDefinitions = [{\n            id: o.PreferenceManager.categories.Appearance,\n            text: \"Appearance (fonts, colors, images)\"\n        }, {\n            id: o.PreferenceManager.categories.CopyPaste,\n            text: \"Copy & Paste\"\n        }, {\n            id: o.PreferenceManager.categories.Encoding,\n            text: \"Encoding\"\n        }, {\n            id: o.PreferenceManager.categories.Keyboard,\n            text: \"Keyboard\"\n        }, {\n            id: o.PreferenceManager.categories.Scrolling,\n            text: \"Scrolling\"\n        }, {\n            id: o.PreferenceManager.categories.Sounds,\n            text: \"Sounds\"\n        }, {\n            id: o.PreferenceManager.categories.Miscellaneous,\n            text: \"Misc.\"\n        }],\n        o.PreferenceManager.defaultPreferences = {\n            \"alt-gr-mode\": [o.PreferenceManager.categories.Keyboard, null, [null, \"none\", \"ctrl-alt\", \"left-alt\", \"right-alt\"], \"Select an AltGr detection hack^Wheuristic.\\n\\n'null': Autodetect based on navigator.language:\\n      'en-us' => 'none', else => 'right-alt'\\n'none': Disable any AltGr related munging.\\n'ctrl-alt': Assume Ctrl+Alt means AltGr.\\n'left-alt': Assume left Alt means AltGr.\\n'right-alt': Assume right Alt means AltGr.\\n\"],\n            \"alt-backspace-is-meta-backspace\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"If set, undoes the Chrome OS Alt-Backspace->DEL remap, so that alt-backspace indeed is alt-backspace.\"],\n            \"alt-is-meta\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"Set whether the alt key acts as a meta key or as a distinct alt key.\"],\n            \"alt-sends-what\": [o.PreferenceManager.categories.Keyboard, \"escape\", [\"escape\", \"8-bit\", \"browser-key\"], \"Controls how the alt key is handled.\\n\\n  escape....... Send an ESC prefix.\\n  8-bit........ Add 128 to the unshifted character as in xterm.\\n  browser-key.. Wait for the keypress event and see what the browser \\n                says.  (This won't work well on platforms where the \\n                browser performs a default action for some alt sequences.)\"],\n            \"audible-bell-sound\": [o.PreferenceManager.categories.Sounds, \"lib-resource:hterm/audio/bell\", \"url\", \"URL of the terminal bell sound.  Empty string for no audible bell.\"],\n            \"desktop-notification-bell\": [o.PreferenceManager.categories.Sounds, !1, \"bool\", 'If true, terminal bells in the background will create a Web Notification. https://www.w3.org/TR/notifications/\\n\\nDisplaying notifications requires permission from the user. When this option is set to true, hterm will attempt to ask the user for permission if necessary. Note browsers may not show this permission request if it did not originate from a user action.\\n\\nChrome extensions with the \"notifications\" permission have permission to display notifications.'],\n            \"background-color\": [o.PreferenceManager.categories.Appearance, \"rgb(16, 16, 16)\", \"color\", \"The background color for text with no other color attributes.\"],\n            \"background-image\": [o.PreferenceManager.categories.Appearance, \"\", \"string\", \"CSS value of the background image.  Empty string for no image.\\n\\nFor example:\\n  url(https://goo.gl/anedTK)\\n  linear-gradient(top bottom, blue, red)\"],\n            \"background-size\": [o.PreferenceManager.categories.Appearance, \"\", \"string\", \"CSS value of the background image size.  Defaults to none.\"],\n            \"background-position\": [o.PreferenceManager.categories.Appearance, \"\", \"string\", \"CSS value of the background image position.\\n\\nFor example:\\n  10% 10%\\n  center\"],\n            \"backspace-sends-backspace\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"If true, the backspace should send BS ('\\\\x08', aka ^H).  Otherwise the backspace key should send '\\\\x7f'.\"],\n            \"character-map-overrides\": [o.PreferenceManager.categories.Appearance, null, \"value\", 'This is specified as an object. It is a sparse array, where each property is the character set code and the value is an object that is a sparse array itself. In that sparse array, each property is the received character and the value is the displayed character.\\n\\nFor example:\\n  {\"0\":{\"+\":\"\\\\u2192\",\",\":\"\\\\u2190\",\"-\":\"\\\\u2191\",\".\":\"\\\\u2193\", \"0\":\"\\\\u2588\"}}'],\n            \"close-on-exit\": [o.PreferenceManager.categories.Miscellaneous, !0, \"bool\", \"Whether or not to close the window when the command exits.\"],\n            \"cursor-blink\": [o.PreferenceManager.categories.Appearance, !1, \"bool\", \"Whether or not to blink the cursor by default.\"],\n            \"cursor-blink-cycle\": [o.PreferenceManager.categories.Appearance, [1e3, 500], \"value\", \"The cursor blink rate in milliseconds.\\n\\nA two element array, the first of which is how long the cursor should be on, second is how long it should be off.\"],\n            \"cursor-color\": [o.PreferenceManager.categories.Appearance, \"rgba(255, 0, 0, 0.5)\", \"color\", \"The color of the visible cursor.\"],\n            \"color-palette-overrides\": [o.PreferenceManager.categories.Appearance, null, \"value\", \"Override colors in the default palette.\\n\\nThis can be specified as an array or an object.  If specified as an object it is assumed to be a sparse array, where each property is a numeric index into the color palette.\\n\\nValues can be specified as almost any css color value.  This includes #RGB, #RRGGBB, rgb(...), rgba(...), and any color names that are also part of the stock X11 rgb.txt file.\\n\\nYou can use 'null' to specify that the default value should be not be changed.  This is useful for skipping a small number of indices when the value is specified as an array.\"],\n            \"copy-on-select\": [o.PreferenceManager.categories.CopyPaste, !0, \"bool\", \"Automatically copy mouse selection to the clipboard.\"],\n            \"use-default-window-copy\": [o.PreferenceManager.categories.CopyPaste, !1, \"bool\", \"Whether to use the default window copy behavior\"],\n            \"clear-selection-after-copy\": [o.PreferenceManager.categories.CopyPaste, !0, \"bool\", \"Whether to clear the selection after copying.\"],\n            \"ctrl-plus-minus-zero-zoom\": [o.PreferenceManager.categories.Keyboard, !0, \"bool\", \"If true, Ctrl-Plus/Minus/Zero controls zoom.\\nIf false, Ctrl-Shift-Plus/Minus/Zero controls zoom, Ctrl-Minus sends ^_, Ctrl-Plus/Zero do nothing.\"],\n            \"ctrl-c-copy\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"Ctrl+C copies if true, send ^C to host if false.\\nCtrl+Shift+C sends ^C to host if true, copies if false.\"],\n            \"ctrl-v-paste\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"Ctrl+V pastes if true, send ^V to host if false.\\nCtrl+Shift+V sends ^V to host if true, pastes if false.\"],\n            \"east-asian-ambiguous-as-two-column\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"Set whether East Asian Ambiguous characters have two column width.\"],\n            \"enable-8-bit-control\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"True to enable 8-bit control characters, false to ignore them.\\n\\nWe'll respect the two-byte versions of these control characters regardless of this setting.\"],\n            \"enable-bold\": [o.PreferenceManager.categories.Appearance, null, \"tristate\", \"True if we should use bold weight font for text with the bold/bright attribute.  False to use the normal weight font.  Null to autodetect.\"],\n            \"enable-bold-as-bright\": [o.PreferenceManager.categories.Appearance, !0, \"bool\", \"True if we should use bright colors (8-15 on a 16 color palette) for any text with the bold attribute.  False otherwise.\"],\n            \"enable-blink\": [o.PreferenceManager.categories.Appearance, !0, \"bool\", \"True if we should respect the blink attribute.  False to ignore it.  \"],\n            \"enable-clipboard-notice\": [o.PreferenceManager.categories.CopyPaste, !0, \"bool\", \"Show a message in the terminal when the host writes to the clipboard.\"],\n            \"enable-clipboard-write\": [o.PreferenceManager.categories.CopyPaste, !0, \"bool\", \"Allow the host to write directly to the system clipboard.\"],\n            \"enable-dec12\": [o.PreferenceManager.categories.Miscellaneous, !1, \"bool\", \"Respect the host's attempt to change the cursor blink status using DEC Private Mode 12.\"],\n            environment: [o.PreferenceManager.categories.Miscellaneous, {\n                TERM: \"xterm-256color\"\n            }, \"value\", \"The default environment variables, as an object.\"],\n            \"font-family\": [o.PreferenceManager.categories.Appearance, '\"DejaVu Sans Mono\", \"Everson Mono\", FreeMono, \"Menlo\", \"Terminal\", monospace', \"string\", \"Default font family for the terminal text.\"],\n            \"font-size\": [o.PreferenceManager.categories.Appearance, 15, \"int\", \"The default font size in pixels.\"],\n            \"font-smoothing\": [o.PreferenceManager.categories.Appearance, \"antialiased\", \"string\", \"CSS font-smoothing property.\"],\n            \"foreground-color\": [o.PreferenceManager.categories.Appearance, \"rgb(240, 240, 240)\", \"color\", \"The foreground color for text with no other color attributes.\"],\n            \"home-keys-scroll\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"If true, home/end will control the terminal scrollbar and shift home/end will send the VT keycodes.  If false then home/end sends VT codes and shift home/end scrolls.\"],\n            keybindings: [o.PreferenceManager.categories.Keyboard, null, \"value\", 'A map of key sequence to key actions.  Key sequences include zero or more modifier keys followed by a key code.  Key codes can be decimal or hexadecimal numbers, or a key identifier.  Key actions can be specified a string to send to the host, or an action identifier.  For a full explanation of the format, see https://goo.gl/LWRndr.\\n\\nSample keybindings:\\n{\\n  \"Ctrl-Alt-K\": \"clearScrollback\",\\n  \"Ctrl-Shift-L\": \"PASS\",\\n  \"Ctrl-H\": \"\\'HELLO\\\\n\\'\"\\n}'],\n            \"max-string-sequence\": [o.PreferenceManager.categories.Encoding, 1e5, \"int\", \"Max length of a DCS, OSC, PM, or APS sequence before we give up and ignore the code.\"],\n            \"media-keys-are-fkeys\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"If true, convert media keys to their Fkey equivalent. If false, let the browser handle the keys.\"],\n            \"meta-sends-escape\": [o.PreferenceManager.categories.Keyboard, !0, \"bool\", \"Set whether the meta key sends a leading escape or not.\"],\n            \"mouse-right-click-paste\": [o.PreferenceManager.categories.CopyPaste, !0, \"bool\", 'Paste on right mouse button clicks.\\n\\nThis option is activate independent of the \"mouse-paste-button\" setting.\\n\\nNote: This will handle left & right handed mice correctly.'],\n            \"mouse-paste-button\": [o.PreferenceManager.categories.CopyPaste, null, [null, 0, 1, 2, 3, 4, 5, 6], \"Mouse paste button, or null to autodetect.\\n\\nFor autodetect, we'll use the middle mouse button for non-X11 platforms (including Chrome OS).  On X11, we'll use the right mouse button (since the native window manager should paste via the middle mouse button).\\n\\n0 == left (primary) button.\\n1 == middle (auxiliary) button.\\n2 == right (secondary) button.\\n\\nThis option is activate independent of the \\\"mouse-right-click-paste\\\" setting.\\n\\nNote: This will handle left & right handed mice correctly.\"],\n            \"word-break-match-left\": [o.PreferenceManager.categories.CopyPaste, \"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^!@#$%&*,;:`]\", \"string\", 'Regular expression to halt matching to the left (start) of a selection.\\n\\nNormally this is a character class to reject specific characters.\\nWe allow \"~\" and \".\" by default as paths frequently start with those.'],\n            \"word-break-match-right\": [o.PreferenceManager.categories.CopyPaste, \"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^!@#$%&*,;:~.`]\", \"string\", \"Regular expression to halt matching to the right (end) of a selection.\\n\\nNormally this is a character class to reject specific characters.\"],\n            \"word-break-match-middle\": [o.PreferenceManager.categories.CopyPaste, \"[^\\\\s\\\\[\\\\](){}<>\\\"'\\\\^]*\", \"string\", \"Regular expression to match all the characters in the middle.\\n\\nNormally this is a character class to reject specific characters.\\n\\nUsed to expand the selection surrounding the starting point.\"],\n            \"page-keys-scroll\": [o.PreferenceManager.categories.Keyboard, !1, \"bool\", \"If true, page up/down will control the terminal scrollbar and shift page up/down will send the VT keycodes.  If false then page up/down sends VT codes and shift page up/down scrolls.\"],\n            \"pass-alt-number\": [o.PreferenceManager.categories.Keyboard, null, \"tristate\", \"Set whether we should pass Alt-1..9 to the browser.\\n\\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \\\"switch to tab\\\" keyboard accelerators.  When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\\n\\nIf true, Alt-1..9 will be handled by the browser.  If false, Alt-1..9 will be sent to the host.  If null, autodetect based on browser platform and window type.\"],\n            \"pass-ctrl-number\": [o.PreferenceManager.categories.Keyboard, null, \"tristate\", \"Set whether we should pass Ctrl-1..9 to the browser.\\n\\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \\\"switch to tab\\\" keyboard accelerators.  When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\\n\\nIf true, Ctrl-1..9 will be handled by the browser.  If false, Ctrl-1..9 will be sent to the host.  If null, autodetect based on browser platform and window type.\"],\n            \"pass-meta-number\": [o.PreferenceManager.categories.Keyboard, null, \"tristate\", \"Set whether we should pass Meta-1..9 to the browser.\\n\\nThis is handy when running hterm in a browser tab, so that you don't lose Chrome's \\\"switch to tab\\\" keyboard accelerators.  When not running in a tab it's better to send these keys to the host so they can be used in vim or emacs.\\n\\nIf true, Meta-1..9 will be handled by the browser.  If false, Meta-1..9 will be sent to the host.  If null, autodetect based on browser platform and window type.\"],\n            \"pass-meta-v\": [o.PreferenceManager.categories.Keyboard, !0, \"bool\", \"Set whether meta-V gets passed to host.\"],\n            \"receive-encoding\": [o.PreferenceManager.categories.Encoding, \"utf-8\", [\"utf-8\", \"raw\"], \"Set the expected encoding for data received from the host.\\n\\nValid values are 'utf-8' and 'raw'.\"],\n            \"scroll-on-keystroke\": [o.PreferenceManager.categories.Scrolling, !0, \"bool\", \"If true, scroll to the bottom on any keystroke.\"],\n            \"scroll-on-output\": [o.PreferenceManager.categories.Scrolling, !1, \"bool\", \"If true, scroll to the bottom on terminal output.\"],\n            \"scrollbar-visible\": [o.PreferenceManager.categories.Scrolling, !0, \"bool\", \"The vertical scrollbar mode.\"],\n            \"scroll-wheel-may-send-arrow-keys\": [o.PreferenceManager.categories.Scrolling, !1, \"bool\", \"When using the alternative screen buffer, and DECCKM (Application Cursor Keys) is active, mouse wheel scroll events will emulate arrow keys.\\n\\nIt can be temporarily disabled by holding the shift key.\\n\\nThis frequently comes up when using pagers (less) or reading man pages or text editors (vi/nano) or using screen/tmux.\"],\n            \"scroll-wheel-move-multiplier\": [o.PreferenceManager.categories.Scrolling, 1, \"int\", \"The multiplier for the pixel delta in wheel events caused by the scroll wheel. Alters how fast the page scrolls.\"],\n            \"send-encoding\": [o.PreferenceManager.categories.Encoding, \"utf-8\", [\"utf-8\", \"raw\"], \"Set the encoding for data sent to host.\"],\n            \"terminal-encoding\": [o.PreferenceManager.categories.Encoding, \"iso-2022\", [\"iso-2022\", \"utf-8\", \"utf-8-locked\"], \"The default terminal encoding (DOCS).\\n\\nISO-2022 enables character map translations (like graphics maps).\\nUTF-8 disables support for those.\\n\\nThe locked variant means the encoding cannot be changed at runtime via terminal escape sequences.\\n\\nYou should stick with UTF-8 unless you notice broken rendering with legacy applications.\"],\n            \"shift-insert-paste\": [o.PreferenceManager.categories.Keyboard, !0, \"bool\", \"Shift + Insert pastes if true, sent to host if false.\"],\n            \"user-css\": [o.PreferenceManager.categories.Appearance, \"\", \"url\", \"URL of user stylesheet to include in the terminal document.\"],\n            \"user-css-text\": [o.PreferenceManager.categories.Appearance, \"\", \"multiline-string\", \"Custom CSS text for styling the terminal.\"]\n        },\n        o.PreferenceManager.prototype = Object.create(i.PreferenceManager.prototype),\n        o.PreferenceManager.constructor = o.PreferenceManager,\n        o.PubSub = function() {\n            this.observers_ = {}\n        }\n        ,\n        o.PubSub.addBehavior = function(e) {\n            var t = new o.PubSub;\n            for (var r in o.PubSub.prototype)\n                e[r] = o.PubSub.prototype[r].bind(t)\n        }\n        ,\n        o.PubSub.prototype.subscribe = function(e, t) {\n            e in this.observers_ || (this.observers_[e] = []),\n                this.observers_[e].push(t)\n        }\n        ,\n        o.PubSub.prototype.unsubscribe = function(e, t) {\n            var r = this.observers_[e];\n            if (!r)\n                throw \"Invalid subject: \" + e;\n            var i = r.indexOf(t);\n            if (i < 0)\n                throw \"Not subscribed: \" + e;\n            r.splice(i, 1)\n        }\n        ,\n        o.PubSub.prototype.publish = function(e, t, r) {\n            function i(e) {\n                e < o.length - 1 && setTimeout(i, 0, e + 1),\n                    o[e](t)\n            }\n            var o = this.observers_[e];\n            o && (o = [].concat(o)),\n            r && (o ? o.push(r) : o = [r]),\n            o && setTimeout(i, 0, 0)\n        }\n        ,\n        i.rtdep(\"lib.f\", \"lib.wc\", \"hterm.RowCol\", \"hterm.Size\", \"hterm.TextAttributes\"),\n        o.Screen = function(e) {\n            this.rowsArray = [],\n                this.columnCount_ = e || 80,\n                this.textAttributes = new o.TextAttributes(window.document),\n                this.cursorPosition = new o.RowCol(0,0),\n                this.cursorRowNode_ = null,\n                this.cursorNode_ = null,\n                this.cursorOffset_ = null,\n                this.wordBreakMatchLeft = null,\n                this.wordBreakMatchRight = null,\n                this.wordBreakMatchMiddle = null\n        }\n        ,\n        o.Screen.prototype.getSize = function() {\n            return new o.Size(this.columnCount_,this.rowsArray.length)\n        }\n        ,\n        o.Screen.prototype.getHeight = function() {\n            return this.rowsArray.length\n        }\n        ,\n        o.Screen.prototype.getWidth = function() {\n            return this.columnCount_\n        }\n        ,\n        o.Screen.prototype.setColumnCount = function(e) {\n            this.columnCount_ = e,\n            this.cursorPosition.column >= e && this.setCursorPosition(this.cursorPosition.row, e - 1)\n        }\n        ,\n        o.Screen.prototype.shiftRow = function() {\n            return this.shiftRows(1)[0]\n        }\n        ,\n        o.Screen.prototype.shiftRows = function(e) {\n            return this.rowsArray.splice(0, e)\n        }\n        ,\n        o.Screen.prototype.unshiftRow = function(e) {\n            this.rowsArray.splice(0, 0, e)\n        }\n        ,\n        o.Screen.prototype.unshiftRows = function(e) {\n            this.rowsArray.unshift.apply(this.rowsArray, e)\n        }\n        ,\n        o.Screen.prototype.popRow = function() {\n            return this.popRows(1)[0]\n        }\n        ,\n        o.Screen.prototype.popRows = function(e) {\n            return this.rowsArray.splice(this.rowsArray.length - e, e)\n        }\n        ,\n        o.Screen.prototype.pushRow = function(e) {\n            this.rowsArray.push(e)\n        }\n        ,\n        o.Screen.prototype.pushRows = function(e) {\n            e.push.apply(this.rowsArray, e)\n        }\n        ,\n        o.Screen.prototype.insertRow = function(e, t) {\n            this.rowsArray.splice(e, 0, t)\n        }\n        ,\n        o.Screen.prototype.insertRows = function(e, t) {\n            for (var r = 0; r < t.length; r++)\n                this.rowsArray.splice(e + r, 0, t[r])\n        }\n        ,\n        o.Screen.prototype.removeRow = function(e) {\n            return this.rowsArray.splice(e, 1)[0]\n        }\n        ,\n        o.Screen.prototype.removeRows = function(e, t) {\n            return this.rowsArray.splice(e, t)\n        }\n        ,\n        o.Screen.prototype.invalidateCursorPosition = function() {\n            this.cursorPosition.move(0, 0),\n                this.cursorRowNode_ = null,\n                this.cursorNode_ = null,\n                this.cursorOffset_ = null\n        }\n        ,\n        o.Screen.prototype.clearCursorRow = function() {\n            this.cursorRowNode_.innerHTML = \"\",\n                this.cursorRowNode_.removeAttribute(\"line-overflow\"),\n                this.cursorOffset_ = 0,\n                this.cursorPosition.column = 0,\n                this.cursorPosition.overflow = !1;\n            var e;\n            e = this.textAttributes.isDefault() ? \"\" : i.f.getWhitespace(this.columnCount_);\n            var t = this.textAttributes.inverse;\n            this.textAttributes.inverse = !1,\n                this.textAttributes.syncColors();\n            var r = this.textAttributes.createContainer(e);\n            this.cursorRowNode_.appendChild(r),\n                this.cursorNode_ = r,\n                this.textAttributes.inverse = t,\n                this.textAttributes.syncColors()\n        }\n        ,\n        o.Screen.prototype.commitLineOverflow = function() {\n            this.cursorRowNode_.setAttribute(\"line-overflow\", !0)\n        }\n        ,\n        o.Screen.prototype.setCursorPosition = function(e, t) {\n            if (this.rowsArray.length) {\n                e >= this.rowsArray.length ? (console.error(\"Row out of bounds: \" + e),\n                    e = this.rowsArray.length - 1) : e < 0 && (console.error(\"Row out of bounds: \" + e),\n                    e = 0),\n                    t >= this.columnCount_ ? (console.error(\"Column out of bounds: \" + t),\n                        t = this.columnCount_ - 1) : t < 0 && (console.error(\"Column out of bounds: \" + t),\n                        t = 0),\n                    this.cursorPosition.overflow = !1;\n                var r = this.rowsArray[e]\n                    , i = r.firstChild;\n                i || (i = r.ownerDocument.createTextNode(\"\"),\n                    r.appendChild(i));\n                var s = 0;\n                for (r == this.cursorRowNode_ ? t >= this.cursorPosition.column - this.cursorOffset_ && (i = this.cursorNode_,\n                    s = this.cursorPosition.column - this.cursorOffset_) : this.cursorRowNode_ = r,\n                         this.cursorPosition.move(e, t); i; ) {\n                    var n = t - s\n                        , a = o.TextAttributes.nodeWidth(i);\n                    if (!i.nextSibling || a > n)\n                        return this.cursorNode_ = i,\n                            void (this.cursorOffset_ = n);\n                    s += a,\n                        i = i.nextSibling\n                }\n            } else\n                console.warn(\"Attempt to set cursor position on empty screen.\")\n        }\n        ,\n        o.Screen.prototype.syncSelectionCaret = function(e) {\n            try {\n                e.collapse(this.cursorNode_, this.cursorOffset_)\n            } catch (e) {}\n        }\n        ,\n        o.Screen.prototype.splitNode_ = function(e, t) {\n            var r = e.cloneNode(!1)\n                , s = e.textContent;\n            e.textContent = o.TextAttributes.nodeSubstr(e, 0, t),\n                r.textContent = i.wc.substr(s, t),\n            r.textContent && e.parentNode.insertBefore(r, e.nextSibling),\n            e.textContent || e.parentNode.removeChild(e)\n        }\n        ,\n        o.Screen.prototype.maybeClipCurrentRow = function() {\n            var e = o.TextAttributes.nodeWidth(this.cursorRowNode_);\n            if (e <= this.columnCount_)\n                this.cursorPosition.column >= this.columnCount_ && (this.setCursorPosition(this.cursorPosition.row, this.columnCount_ - 1),\n                    this.cursorPosition.overflow = !0);\n            else {\n                var t = this.cursorPosition.column;\n                this.setCursorPosition(this.cursorPosition.row, this.columnCount_ - 1),\n                    e = o.TextAttributes.nodeWidth(this.cursorNode_),\n                this.cursorOffset_ < e - 1 && (this.cursorNode_.textContent = o.TextAttributes.nodeSubstr(this.cursorNode_, 0, this.cursorOffset_ + 1));\n                for (var r = this.cursorRowNode_, i = this.cursorNode_.nextSibling; i; )\n                    r.removeChild(i),\n                        i = this.cursorNode_.nextSibling;\n                t < this.columnCount_ ? this.setCursorPosition(this.cursorPosition.row, t) : this.cursorPosition.overflow = !0\n            }\n        }\n        ,\n        o.Screen.prototype.insertString = function(e) {\n            var t = this.cursorNode_\n                , r = t.textContent;\n            this.cursorRowNode_.removeAttribute(\"line-overflow\");\n            var s = i.wc.strWidth(e);\n            this.cursorPosition.column += s;\n            var n = this.cursorOffset_\n                , a = o.TextAttributes.nodeWidth(t) - n;\n            if (a < 0) {\n                var l = i.f.getWhitespace(-a);\n                if (this.textAttributes.underline || this.textAttributes.strikethrough || this.textAttributes.background || this.textAttributes.wcNode || !this.textAttributes.asciiNode || null != this.textAttributes.tileData)\n                    if (3 != t.nodeType && (t.wcNode || !t.asciiNode || t.tileNode || t.style.textDecoration || t.style.backgroundColor)) {\n                        var h = t.ownerDocument.createTextNode(l);\n                        this.cursorRowNode_.insertBefore(h, t.nextSibling),\n                            this.cursorNode_ = t = h,\n                            this.cursorOffset_ = n = -a,\n                            r = l\n                    } else\n                        t.textContent = r += l;\n                else\n                    e = l + e;\n                a = 0\n            }\n            if (this.textAttributes.matchesContainer(t))\n                return t.textContent = 0 == a ? r + e : 0 == n ? e + r : o.TextAttributes.nodeSubstr(t, 0, n) + e + o.TextAttributes.nodeSubstr(t, n),\n                    void (this.cursorOffset_ += s);\n            if (0 == n) {\n                var c = t.previousSibling;\n                if (c && this.textAttributes.matchesContainer(c))\n                    return c.textContent += e,\n                        this.cursorNode_ = c,\n                        void (this.cursorOffset_ = i.wc.strWidth(c.textContent));\n                d = this.textAttributes.createContainer(e);\n                return this.cursorRowNode_.insertBefore(d, t),\n                    this.cursorNode_ = d,\n                    void (this.cursorOffset_ = s)\n            }\n            if (0 == a) {\n                var u = t.nextSibling;\n                if (u && this.textAttributes.matchesContainer(u))\n                    return u.textContent = e + u.textContent,\n                        this.cursorNode_ = u,\n                        void (this.cursorOffset_ = i.wc.strWidth(e));\n                d = this.textAttributes.createContainer(e);\n                return this.cursorRowNode_.insertBefore(d, u),\n                    this.cursorNode_ = d,\n                    void (this.cursorOffset_ = o.TextAttributes.nodeWidth(d))\n            }\n            this.splitNode_(t, n);\n            var d = this.textAttributes.createContainer(e);\n            this.cursorRowNode_.insertBefore(d, t.nextSibling),\n                this.cursorNode_ = d,\n                this.cursorOffset_ = s\n        }\n        ,\n        o.Screen.prototype.overwriteString = function(e) {\n            var t = this.columnCount_ - this.cursorPosition.column;\n            if (!t)\n                return [e];\n            var r = i.wc.strWidth(e);\n            if (this.textAttributes.matchesContainer(this.cursorNode_) && this.cursorNode_.textContent.substr(this.cursorOffset_) == e)\n                return this.cursorOffset_ += r,\n                    void (this.cursorPosition.column += r);\n            this.deleteChars(Math.min(r, t)),\n                this.insertString(e)\n        }\n        ,\n        o.Screen.prototype.deleteChars = function(e) {\n            var t = this.cursorNode_\n                , r = this.cursorOffset_\n                , i = this.cursorPosition.column;\n            if (!(e = Math.min(e, this.columnCount_ - i)))\n                return 0;\n            for (var s, n, a = e; t && e; ) {\n                if (s = o.TextAttributes.nodeWidth(t),\n                    t.textContent = o.TextAttributes.nodeSubstr(t, 0, r) + o.TextAttributes.nodeSubstr(t, r + e),\n                    n = o.TextAttributes.nodeWidth(t),\n                    e -= s - n,\n                r < s && n && s == n) {\n                    var l = this.textAttributes.createContainer(\" \");\n                    t.parentNode.insertBefore(l, t.nextSibling),\n                        t.textContent = \"\",\n                        n = 0,\n                        e -= 1\n                }\n                var h = t.nextSibling;\n                0 == n && t != this.cursorNode_ && t.parentNode.removeChild(t),\n                    t = h,\n                    r = 0\n            }\n            if (3 != this.cursorNode_.nodeType && !this.cursorNode_.textContent) {\n                var c = this.cursorNode_;\n                if (c.previousSibling)\n                    this.cursorNode_ = c.previousSibling,\n                        this.cursorOffset_ = o.TextAttributes.nodeWidth(c.previousSibling);\n                else if (c.nextSibling)\n                    this.cursorNode_ = c.nextSibling,\n                        this.cursorOffset_ = 0;\n                else {\n                    var u = this.cursorRowNode_.ownerDocument.createTextNode(\"\");\n                    this.cursorRowNode_.appendChild(u),\n                        this.cursorNode_ = u,\n                        this.cursorOffset_ = 0\n                }\n                this.cursorRowNode_.removeChild(c)\n            }\n            return a\n        }\n        ,\n        o.Screen.prototype.getLineStartRow_ = function(e) {\n            for (; e.previousSibling && e.previousSibling.hasAttribute(\"line-overflow\"); )\n                e = e.previousSibling;\n            return e\n        }\n        ,\n        o.Screen.prototype.getLineText_ = function(e) {\n            for (var t = \"\"; e && (t += e.textContent,\n                e.hasAttribute(\"line-overflow\")); )\n                e = e.nextSibling;\n            return t\n        }\n        ,\n        o.Screen.prototype.getXRowAncestor_ = function(e) {\n            for (; e && \"X-ROW\" !== e.nodeName; )\n                e = e.parentNode;\n            return e\n        }\n        ,\n        o.Screen.prototype.getPositionWithOverflow_ = function(e, t, r) {\n            if (!t)\n                return -1;\n            var i = this.getXRowAncestor_(t);\n            if (!i)\n                return -1;\n            for (var s = 0; i != e; ) {\n                if (s += o.TextAttributes.nodeWidth(e),\n                !e.hasAttribute(\"line-overflow\") || !e.nextSibling)\n                    return -1;\n                e = e.nextSibling\n            }\n            return s + this.getPositionWithinRow_(e, t, r)\n        }\n        ,\n        o.Screen.prototype.getPositionWithinRow_ = function(e, t, r) {\n            if (t.parentNode != e)\n                return null == t.parentNode ? -1 : this.getPositionWithinRow_(t.parentNode, t, r) + this.getPositionWithinRow_(e, t.parentNode, 0);\n            for (var i = 0, s = 0; s < e.childNodes.length; s++) {\n                var n = e.childNodes[s];\n                if (n == t)\n                    return i + r;\n                i += o.TextAttributes.nodeWidth(n)\n            }\n            return -1\n        }\n        ,\n        o.Screen.prototype.getNodeAndOffsetWithOverflow_ = function(e, t) {\n            for (; e && t > o.TextAttributes.nodeWidth(e); ) {\n                if (!e.hasAttribute(\"line-overflow\") || !e.nextSibling)\n                    return -1;\n                t -= o.TextAttributes.nodeWidth(e),\n                    e = e.nextSibling\n            }\n            return this.getNodeAndOffsetWithinRow_(e, t)\n        }\n        ,\n        o.Screen.prototype.getNodeAndOffsetWithinRow_ = function(e, t) {\n            for (var r = 0; r < e.childNodes.length; r++) {\n                var i = e.childNodes[r]\n                    , s = o.TextAttributes.nodeWidth(i);\n                if (t <= s)\n                    return \"SPAN\" === i.nodeName ? this.getNodeAndOffsetWithinRow_(i, t) : [i, t];\n                t -= s\n            }\n            return null\n        }\n        ,\n        o.Screen.prototype.setRange_ = function(e, t, r, i) {\n            var o = this.getNodeAndOffsetWithOverflow_(e, t);\n            if (null != o) {\n                var s = this.getNodeAndOffsetWithOverflow_(e, r);\n                null != s && (i.setStart(o[0], o[1]),\n                    i.setEnd(s[0], s[1]))\n            }\n        }\n        ,\n        o.Screen.prototype.expandSelection = function(e) {\n            if (e) {\n                var t = e.getRangeAt(0);\n                if (t && !t.toString().match(/\\s/)) {\n                    var r = this.getLineStartRow_(this.getXRowAncestor_(t.startContainer));\n                    if (r) {\n                        var o = this.getPositionWithOverflow_(r, t.startContainer, t.startOffset);\n                        if (-1 != o) {\n                            var s = this.getPositionWithOverflow_(r, t.endContainer, t.endOffset);\n                            if (-1 != s) {\n                                var n = this.wordBreakMatchLeft\n                                    , a = this.wordBreakMatchRight\n                                    , l = this.wordBreakMatchMiddle\n                                    , h = this.getLineText_(r)\n                                    , c = i.wc.substring(h, 0, s)\n                                    , u = new RegExp(n + l + \"$\")\n                                    , d = c.search(u);\n                                if (!(-1 == d || d > o)) {\n                                    var p = i.wc.substring(h, o, i.wc.strWidth(h))\n                                        , f = new RegExp(\"^\" + l + a)\n                                        , g = p.match(f);\n                                    if (g) {\n                                        var m = o + i.wc.strWidth(g[0]);\n                                        -1 == m || m < s || (this.setRange_(r, d, m, t),\n                                            e.addRange(t))\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        ,\n        i.rtdep(\"lib.f\", \"hterm.PubSub\", \"hterm.Size\"),\n        o.ScrollPort = function(e) {\n            o.PubSub.addBehavior(this),\n                this.rowProvider_ = e,\n                this.characterSize = new o.Size(10,10),\n                this.ruler_ = null,\n                this.selection = new o.ScrollPort.Selection(this),\n                this.currentRowNodeCache_ = null,\n                this.previousRowNodeCache_ = {},\n                this.lastScreenWidth_ = null,\n                this.lastScreenHeight_ = null,\n                this.selectionEnabled_ = !0,\n                this.lastRowCount_ = 0,\n                this.scrollWheelMultiplier_ = 1,\n                this.lastTouch_ = {},\n                this.isScrolledEnd = !0,\n                this.currentScrollbarWidthPx = 16,\n                this.ctrlVPaste = !1,\n                this.div_ = null,\n                this.document_ = null,\n                this.timeouts_ = {},\n                this.observers_ = {},\n                this.DEBUG_ = !1\n        }\n        ,\n        o.ScrollPort.Selection = function(e) {\n            this.scrollPort_ = e,\n                this.startRow = null,\n                this.endRow = null,\n                this.isMultiline = null,\n                this.isCollapsed = null\n        }\n        ,\n        o.ScrollPort.Selection.prototype.findFirstChild = function(e, t) {\n            for (var r = e.firstChild; r; ) {\n                if (-1 != t.indexOf(r))\n                    return r;\n                if (r.childNodes.length) {\n                    var i = this.findFirstChild(r, t);\n                    if (i)\n                        return i\n                }\n                r = r.nextSibling\n            }\n            return null\n        }\n        ,\n        o.ScrollPort.Selection.prototype.sync = function() {\n            function e() {\n                r.startRow = o,\n                    r.startNode = i.anchorNode,\n                    r.startOffset = i.anchorOffset,\n                    r.endRow = s,\n                    r.endNode = i.focusNode,\n                    r.endOffset = i.focusOffset\n            }\n            function t() {\n                r.startRow = s,\n                    r.startNode = i.focusNode,\n                    r.startOffset = i.focusOffset,\n                    r.endRow = o,\n                    r.endNode = i.anchorNode,\n                    r.endOffset = i.anchorOffset\n            }\n            var r = this\n                , i = this.scrollPort_.getDocument().getSelection();\n            if (this.startRow = null,\n                this.endRow = null,\n                this.isMultiline = null,\n                this.isCollapsed = !i || i.isCollapsed,\n                !this.isCollapsed) {\n                for (var o = i.anchorNode; o && !(\"rowIndex\"in o); )\n                    o = o.parentNode;\n                if (o) {\n                    for (var s = i.focusNode; s && !(\"rowIndex\"in s); )\n                        s = s.parentNode;\n                    if (s) {\n                        if (o.rowIndex < s.rowIndex)\n                            e();\n                        else if (o.rowIndex > s.rowIndex)\n                            t();\n                        else if (i.focusNode == i.anchorNode)\n                            i.anchorOffset < i.focusOffset ? e() : t();\n                        else {\n                            var n = this.findFirstChild(o, [i.anchorNode, i.focusNode]);\n                            if (!n)\n                                throw new Error(\"Unexpected error syncing selection.\");\n                            n == i.anchorNode ? e() : t()\n                        }\n                        this.isMultiline = o.rowIndex != s.rowIndex\n                    } else\n                        console.error(\"Selection focus is not rooted in a row node: \" + i.focusNode.nodeName)\n                } else\n                    console.error(\"Selection anchor is not rooted in a row node: \" + i.anchorNode.nodeName)\n            }\n        }\n        ,\n        o.ScrollPort.prototype.decorate = function(e) {\n            this.div_ = e,\n                this.iframe_ = e.ownerDocument.createElement(\"iframe\"),\n                this.iframe_.style.cssText = \"border: 0;height: 100%;position: absolute;width: 100%\",\n            \"mozInnerScreenX\"in window && (this.iframe_.src = \"#\"),\n                e.appendChild(this.iframe_),\n                this.iframe_.contentWindow.addEventListener(\"resize\", this.onResize_.bind(this));\n            var t = this.document_ = this.iframe_.contentDocument;\n            t.body.style.cssText = \"margin: 0px;padding: 0px;height: 100%;width: 100%;overflow: hidden;cursor: var(--hterm-mouse-cursor-style);-webkit-user-select: none;-moz-user-select: none;\",\n            this.DEBUG_ && (this.document_.body.style.paddingTop = this.document_.body.style.paddingBottom = \"calc(var(--hterm-charsize-height) * 3)\");\n            var r = t.createElement(\"style\");\n            r.textContent = \"x-row {  display: block;  height: var(--hterm-charsize-height);  line-height: var(--hterm-charsize-height);}\",\n                t.head.appendChild(r),\n                this.userCssLink_ = t.createElement(\"link\"),\n                this.userCssLink_.setAttribute(\"rel\", \"stylesheet\"),\n                this.userCssText_ = t.createElement(\"style\"),\n                t.head.appendChild(this.userCssText_),\n                this.screen_ = t.createElement(\"x-screen\"),\n                this.screen_.setAttribute(\"contenteditable\", \"true\"),\n                this.screen_.setAttribute(\"spellcheck\", \"false\"),\n                this.screen_.setAttribute(\"autocomplete\", \"off\"),\n                this.screen_.setAttribute(\"autocorrect\", \"off\"),\n                this.screen_.setAttribute(\"autocaptalize\", \"none\"),\n                this.screen_.setAttribute(\"role\", \"textbox\"),\n                this.screen_.setAttribute(\"tabindex\", \"-1\"),\n                this.screen_.style.cssText = \"caret-color: transparent;display: block;font-family: monospace;font-size: 15px;font-variant-ligatures: none;height: 100%;overflow-y: scroll; overflow-x: hidden;white-space: pre;width: 100%;outline: none !important\",\n                t.body.appendChild(this.screen_),\n                this.screen_.addEventListener(\"scroll\", this.onScroll_.bind(this)),\n                this.screen_.addEventListener(\"wheel\", this.onScrollWheel_.bind(this)),\n                this.screen_.addEventListener(\"touchstart\", this.onTouch_.bind(this)),\n                this.screen_.addEventListener(\"touchmove\", this.onTouch_.bind(this)),\n                this.screen_.addEventListener(\"touchend\", this.onTouch_.bind(this)),\n                this.screen_.addEventListener(\"touchcancel\", this.onTouch_.bind(this)),\n                this.screen_.addEventListener(\"copy\", this.onCopy_.bind(this)),\n                this.screen_.addEventListener(\"paste\", this.onPaste_.bind(this)),\n                this.screen_.addEventListener(\"drop\", function(e) {\n                    return e.preventDefault(),\n                        !1\n                }),\n                t.body.addEventListener(\"keydown\", this.onBodyKeyDown_.bind(this)),\n                this.rowNodes_ = t.createElement(\"div\"),\n                this.rowNodes_.id = \"hterm:row-nodes\",\n                this.rowNodes_.style.cssText = \"display: block;position: fixed;overflow: hidden;-webkit-user-select: text;-moz-user-select: text;\",\n                this.screen_.appendChild(this.rowNodes_),\n                this.topSelectBag_ = t.createElement(\"x-select-bag\"),\n                this.topSelectBag_.style.cssText = \"display: block;overflow: hidden;height: var(--hterm-charsize-height);white-space: pre;\",\n                this.bottomSelectBag_ = this.topSelectBag_.cloneNode(),\n                this.topFold_ = t.createElement(\"x-fold\"),\n                this.topFold_.id = \"hterm:top-fold-for-row-selection\",\n                this.topFold_.style.cssText = \"display: block;\",\n                this.rowNodes_.appendChild(this.topFold_),\n                this.bottomFold_ = this.topFold_.cloneNode(),\n                this.bottomFold_.id = \"hterm:bottom-fold-for-row-selection\",\n                this.rowNodes_.appendChild(this.bottomFold_),\n                this.scrollArea_ = t.createElement(\"div\"),\n                this.scrollArea_.id = \"hterm:scrollarea\",\n                this.scrollArea_.style.cssText = \"visibility: hidden\",\n                this.screen_.appendChild(this.scrollArea_);\n            var i = \"http://www.w3.org/2000/svg\";\n            this.svg_ = this.div_.ownerDocument.createElementNS(i, \"svg\"),\n                this.svg_.id = \"hterm:zoom-detector\",\n                this.svg_.setAttribute(\"xmlns\", i),\n                this.svg_.setAttribute(\"version\", \"1.1\"),\n                this.svg_.style.cssText = \"position: absolute;top: 0;left: 0;visibility: hidden\",\n                this.pasteTarget_ = t.createElement(\"textarea\"),\n                this.pasteTarget_.id = \"hterm:ctrl-v-paste-target\",\n                this.pasteTarget_.setAttribute(\"tabindex\", \"-1\"),\n                this.pasteTarget_.style.cssText = \"position: absolute;height: 1px;width: 1px;left: 0px; bottom: 0px;opacity: 0\",\n                this.pasteTarget_.contentEditable = !0,\n                this.screen_.appendChild(this.pasteTarget_),\n                this.pasteTarget_.addEventListener(\"textInput\", this.handlePasteTargetTextInput_.bind(this)),\n                this.resize()\n        }\n        ,\n        o.ScrollPort.prototype.setFontFamily = function(e, t) {\n            this.screen_.style.fontFamily = e,\n                this.screen_.style.webkitFontSmoothing = t || \"\",\n                this.syncCharacterSize()\n        }\n        ,\n        o.ScrollPort.prototype.getFontFamily = function() {\n            return this.screen_.style.fontFamily\n        }\n        ,\n        o.ScrollPort.prototype.setUserCssUrl = function(e) {\n            e ? (this.userCssLink_.setAttribute(\"href\", e),\n            this.userCssLink_.parentNode || this.document_.head.appendChild(this.userCssLink_)) : this.userCssLink_.parentNode && this.document_.head.removeChild(this.userCssLink_)\n        }\n        ,\n        o.ScrollPort.prototype.setUserCssText = function(e) {\n            this.userCssText_.textContent = e\n        }\n        ,\n        o.ScrollPort.prototype.focus = function() {\n            this.iframe_.focus(),\n                this.screen_.focus()\n        }\n        ,\n        o.ScrollPort.prototype.getForegroundColor = function() {\n            return this.screen_.style.color\n        }\n        ,\n        o.ScrollPort.prototype.setForegroundColor = function(e) {\n            this.screen_.style.color = e\n        }\n        ,\n        o.ScrollPort.prototype.getBackgroundColor = function() {\n            return this.screen_.style.backgroundColor\n        }\n        ,\n        o.ScrollPort.prototype.setBackgroundColor = function(e) {\n            this.screen_.style.backgroundColor = e\n        }\n        ,\n        o.ScrollPort.prototype.setBackgroundImage = function(e) {\n            this.screen_.style.backgroundImage = e\n        }\n        ,\n        o.ScrollPort.prototype.setBackgroundSize = function(e) {\n            this.screen_.style.backgroundSize = e\n        }\n        ,\n        o.ScrollPort.prototype.setBackgroundPosition = function(e) {\n            this.screen_.style.backgroundPosition = e\n        }\n        ,\n        o.ScrollPort.prototype.setCtrlVPaste = function(e) {\n            this.ctrlVPaste = e\n        }\n        ,\n        o.ScrollPort.prototype.getScreenSize = function() {\n            var e = o.getClientSize(this.screen_);\n            return {\n                height: e.height,\n                width: e.width - this.currentScrollbarWidthPx\n            }\n        }\n        ,\n        o.ScrollPort.prototype.getScreenWidth = function() {\n            return this.getScreenSize().width\n        }\n        ,\n        o.ScrollPort.prototype.getScreenHeight = function() {\n            return this.getScreenSize().height\n        }\n        ,\n        o.ScrollPort.prototype.getDocument = function() {\n            return this.document_\n        }\n        ,\n        o.ScrollPort.prototype.getScreenNode = function() {\n            return this.screen_\n        }\n        ,\n        o.ScrollPort.prototype.resetCache = function() {\n            this.currentRowNodeCache_ = null,\n                this.previousRowNodeCache_ = {}\n        }\n        ,\n        o.ScrollPort.prototype.setRowProvider = function(e) {\n            this.resetCache(),\n                this.rowProvider_ = e,\n                this.scheduleRedraw()\n        }\n        ,\n        o.ScrollPort.prototype.invalidate = function() {\n            for (var e = this.topFold_.nextSibling; e != this.bottomFold_; ) {\n                var t = e.nextSibling;\n                e.parentElement.removeChild(e),\n                    e = t\n            }\n            this.previousRowNodeCache_ = null;\n            var r = this.getTopRowIndex()\n                , i = this.getBottomRowIndex(r);\n            this.drawVisibleRows_(r, i)\n        }\n        ,\n        o.ScrollPort.prototype.scheduleInvalidate = function() {\n            if (!this.timeouts_.invalidate) {\n                var e = this;\n                this.timeouts_.invalidate = setTimeout(function() {\n                    delete e.timeouts_.invalidate,\n                        e.invalidate()\n                }, 0)\n            }\n        }\n        ,\n        o.ScrollPort.prototype.setFontSize = function(e) {\n            this.screen_.style.fontSize = e + \"px\",\n                this.syncCharacterSize()\n        }\n        ,\n        o.ScrollPort.prototype.getFontSize = function() {\n            return parseInt(this.screen_.style.fontSize)\n        }\n        ,\n        o.ScrollPort.prototype.measureCharacterSize = function(e) {\n            this.ruler_ || (this.ruler_ = this.document_.createElement(\"div\"),\n                this.ruler_.id = \"hterm:ruler-character-size\",\n                this.ruler_.style.cssText = \"position: absolute;top: 0;left: 0;visibility: hidden;height: auto !important;width: auto !important;\",\n                this.rulerSpan_ = this.document_.createElement(\"span\"),\n                this.rulerSpan_.id = \"hterm:ruler-span-workaround\",\n                this.rulerSpan_.innerHTML = (\"X\".repeat(100) + \"\\r\").repeat(100),\n                this.ruler_.appendChild(this.rulerSpan_),\n                this.rulerBaseline_ = this.document_.createElement(\"span\"),\n                this.rulerSpan_.id = \"hterm:ruler-baseline\",\n                this.rulerBaseline_.style.fontSize = \"0px\",\n                this.rulerBaseline_.textContent = \"X\"),\n                this.rulerSpan_.style.fontWeight = e || \"\",\n                this.rowNodes_.appendChild(this.ruler_);\n            var t = o.getClientSize(this.rulerSpan_)\n                , r = new o.Size(t.width / 100,t.height / 100);\n            return this.ruler_.appendChild(this.rulerBaseline_),\n                r.baseline = this.rulerBaseline_.offsetTop,\n                this.ruler_.removeChild(this.rulerBaseline_),\n                this.rowNodes_.removeChild(this.ruler_),\n                this.div_.ownerDocument.body.appendChild(this.svg_),\n                r.zoomFactor = this.svg_.currentScale,\n                this.div_.ownerDocument.body.removeChild(this.svg_),\n                r\n        }\n        ,\n        o.ScrollPort.prototype.syncCharacterSize = function() {\n            this.characterSize = this.measureCharacterSize(),\n                this.resize()\n        }\n        ,\n        o.ScrollPort.prototype.resize = function() {\n            this.currentScrollbarWidthPx = o.getClientWidth(this.screen_) - this.screen_.clientWidth,\n                this.syncScrollHeight(),\n                this.syncRowNodesDimensions_();\n            var e = this;\n            this.publish(\"resize\", {\n                scrollPort: this\n            }, function() {\n                e.scrollRowToBottom(e.rowProvider_.getRowCount()),\n                    e.scheduleRedraw()\n            })\n        }\n        ,\n        o.ScrollPort.prototype.syncRowNodesDimensions_ = function() {\n            var e = this.getScreenSize();\n            this.lastScreenWidth_ = e.width,\n                this.lastScreenHeight_ = e.height,\n                this.visibleRowCount = i.f.smartFloorDivide(e.height, this.characterSize.height);\n            var t = this.visibleRowCount * this.characterSize.height;\n            this.visibleRowTopMargin = 0,\n                this.visibleRowBottomMargin = e.height - t,\n                this.topFold_.style.marginBottom = this.visibleRowTopMargin + \"px\";\n            for (var r = 0, s = this.topFold_.previousSibling; s; )\n                r += o.getClientHeight(s),\n                    s = s.previousSibling;\n            this.rowNodes_.style.width = e.width + \"px\",\n                this.rowNodes_.style.height = t + r + \"px\",\n                this.rowNodes_.style.left = this.screen_.offsetLeft + \"px\",\n                this.rowNodes_.style.top = this.screen_.offsetTop - r + \"px\"\n        }\n        ,\n        o.ScrollPort.prototype.syncScrollHeight = function() {\n            this.lastRowCount_ = this.rowProvider_.getRowCount(),\n                this.scrollArea_.style.height = this.characterSize.height * this.lastRowCount_ + this.visibleRowTopMargin + this.visibleRowBottomMargin + \"px\"\n        }\n        ,\n        o.ScrollPort.prototype.scheduleRedraw = function() {\n            if (!this.timeouts_.redraw) {\n                var e = this;\n                this.timeouts_.redraw = setTimeout(function() {\n                    delete e.timeouts_.redraw,\n                        e.redraw_()\n                }, 0)\n            }\n        }\n        ,\n        o.ScrollPort.prototype.redraw_ = function() {\n            this.resetSelectBags_(),\n                this.selection.sync(),\n                this.syncScrollHeight(),\n                this.currentRowNodeCache_ = {};\n            var e = this.getTopRowIndex()\n                , t = this.getBottomRowIndex(e);\n            this.drawTopFold_(e),\n                this.drawBottomFold_(t),\n                this.drawVisibleRows_(e, t),\n                this.syncRowNodesDimensions_(),\n                this.previousRowNodeCache_ = this.currentRowNodeCache_,\n                this.currentRowNodeCache_ = null,\n                this.isScrolledEnd = this.getTopRowIndex() + this.visibleRowCount >= this.lastRowCount_\n        }\n        ,\n        o.ScrollPort.prototype.drawTopFold_ = function(e) {\n            if (!this.selection.startRow || this.selection.startRow.rowIndex >= e)\n                this.rowNodes_.firstChild != this.topFold_ && this.rowNodes_.insertBefore(this.topFold_, this.rowNodes_.firstChild);\n            else {\n                if (!this.selection.isMultiline || this.selection.endRow.rowIndex >= e)\n                    this.selection.startRow.nextSibling != this.topFold_ && this.rowNodes_.insertBefore(this.topFold_, this.selection.startRow.nextSibling);\n                else\n                    for (this.selection.endRow.nextSibling != this.topFold_ && this.rowNodes_.insertBefore(this.topFold_, this.selection.endRow.nextSibling); this.selection.startRow.nextSibling != this.selection.endRow; )\n                        this.rowNodes_.removeChild(this.selection.startRow.nextSibling);\n                for (; this.rowNodes_.firstChild != this.selection.startRow; )\n                    this.rowNodes_.removeChild(this.rowNodes_.firstChild)\n            }\n        }\n        ,\n        o.ScrollPort.prototype.drawBottomFold_ = function(e) {\n            if (!this.selection.endRow || this.selection.endRow.rowIndex <= e)\n                this.rowNodes_.lastChild != this.bottomFold_ && this.rowNodes_.appendChild(this.bottomFold_);\n            else {\n                if (!this.selection.isMultiline || this.selection.startRow.rowIndex <= e)\n                    this.bottomFold_.nextSibling != this.selection.endRow && this.rowNodes_.insertBefore(this.bottomFold_, this.selection.endRow);\n                else\n                    for (this.bottomFold_.nextSibling != this.selection.startRow && this.rowNodes_.insertBefore(this.bottomFold_, this.selection.startRow); this.selection.startRow.nextSibling != this.selection.endRow; )\n                        this.rowNodes_.removeChild(this.selection.startRow.nextSibling);\n                for (; this.rowNodes_.lastChild != this.selection.endRow; )\n                    this.rowNodes_.removeChild(this.rowNodes_.lastChild)\n            }\n        }\n        ,\n        o.ScrollPort.prototype.drawVisibleRows_ = function(e, t) {\n            function r(e, t) {\n                for (; e != t; ) {\n                    if (!e)\n                        throw \"Did not encounter target node\";\n                    if (e == i.bottomFold_)\n                        throw \"Encountered bottom fold before target node\";\n                    var r = e;\n                    e = e.nextSibling,\n                        r.parentNode.removeChild(r)\n                }\n            }\n            for (var i = this, o = this.selection.startRow, s = this.selection.endRow, n = this.bottomFold_, a = this.topFold_.nextSibling, l = Math.min(this.visibleRowCount, this.rowProvider_.getRowCount()), h = 0; h < l; h++) {\n                var c = e + h;\n                if (a != n)\n                    if (a.rowIndex != c)\n                        if (o && o.rowIndex == c)\n                            r(a, o),\n                                a = o.nextSibling;\n                        else if (s && s.rowIndex == c)\n                            r(a, s),\n                                a = s.nextSibling;\n                        else if (a != o && a != s) {\n                            var u = this.fetchRowNode_(c);\n                            if (!u) {\n                                console.log(\"Couldn't fetch row index: \" + c);\n                                break\n                            }\n                            a != u ? (this.rowNodes_.insertBefore(u, a),\n                                u.nextSibling,\n                                this.rowNodes_.removeChild(a),\n                                a = u.nextSibling) : a = a.nextSibling\n                        } else {\n                            if (!(u = this.fetchRowNode_(c))) {\n                                console.log(\"Couldn't fetch row index: \" + c);\n                                break\n                            }\n                            this.rowNodes_.insertBefore(u, a)\n                        }\n                    else\n                        a = a.nextSibling;\n                else {\n                    if (!(u = this.fetchRowNode_(c))) {\n                        console.log(\"Couldn't fetch row index: \" + c);\n                        break\n                    }\n                    this.rowNodes_.insertBefore(u, a)\n                }\n            }\n            a != this.bottomFold_ && r(a, n)\n        }\n        ,\n        o.ScrollPort.prototype.resetSelectBags_ = function() {\n            this.topSelectBag_.parentNode && (this.topSelectBag_.textContent = \"\",\n                this.topSelectBag_.parentNode.removeChild(this.topSelectBag_)),\n            this.bottomSelectBag_.parentNode && (this.bottomSelectBag_.textContent = \"\",\n                this.bottomSelectBag_.parentNode.removeChild(this.bottomSelectBag_))\n        }\n        ,\n        o.ScrollPort.prototype.cacheRowNode_ = function(e) {\n            this.currentRowNodeCache_[e.rowIndex] = e\n        }\n        ,\n        o.ScrollPort.prototype.fetchRowNode_ = function(e) {\n            var t;\n            return t = this.previousRowNodeCache_ && e in this.previousRowNodeCache_ ? this.previousRowNodeCache_[e] : this.rowProvider_.getRowNode(e),\n            this.currentRowNodeCache_ && this.cacheRowNode_(t),\n                t\n        }\n        ,\n        o.ScrollPort.prototype.selectAll = function() {\n            var e;\n            if (0 != this.topFold_.nextSibling.rowIndex) {\n                for (; this.topFold_.previousSibling; )\n                    this.rowNodes_.removeChild(this.topFold_.previousSibling);\n                e = this.fetchRowNode_(0),\n                    this.rowNodes_.insertBefore(e, this.topFold_),\n                    this.syncRowNodesDimensions_()\n            } else\n                e = this.topFold_.nextSibling;\n            var t, r = this.rowProvider_.getRowCount() - 1;\n            if (this.bottomFold_.previousSibling.rowIndex != r) {\n                for (; this.bottomFold_.nextSibling; )\n                    this.rowNodes_.removeChild(this.bottomFold_.nextSibling);\n                t = this.fetchRowNode_(r),\n                    this.rowNodes_.appendChild(t)\n            } else\n                t = this.bottomFold_.previousSibling.rowIndex;\n            var i = this.document_.getSelection();\n            i.collapse(e, 0),\n                i.extend(t, t.childNodes.length),\n                this.selection.sync()\n        }\n        ,\n        o.ScrollPort.prototype.getScrollMax_ = function(e) {\n            return o.getClientHeight(this.scrollArea_) + this.visibleRowTopMargin + this.visibleRowBottomMargin - o.getClientHeight(this.screen_)\n        }\n        ,\n        o.ScrollPort.prototype.scrollRowToTop = function(e) {\n            this.syncScrollHeight(),\n                this.isScrolledEnd = e + this.visibleRowCount >= this.lastRowCount_;\n            var t = e * this.characterSize.height + this.visibleRowTopMargin\n                , r = this.getScrollMax_();\n            t > r && (t = r),\n            this.screen_.scrollTop != t && (this.screen_.scrollTop = t,\n                this.scheduleRedraw())\n        }\n        ,\n        o.ScrollPort.prototype.scrollRowToBottom = function(e) {\n            this.syncScrollHeight(),\n                this.isScrolledEnd = e + this.visibleRowCount >= this.lastRowCount_;\n            var t = e * this.characterSize.height + this.visibleRowTopMargin + this.visibleRowBottomMargin;\n            (t -= this.visibleRowCount * this.characterSize.height) < 0 && (t = 0),\n            this.screen_.scrollTop != t && (this.screen_.scrollTop = t)\n        }\n        ,\n        o.ScrollPort.prototype.getTopRowIndex = function() {\n            return Math.round(this.screen_.scrollTop / this.characterSize.height)\n        }\n        ,\n        o.ScrollPort.prototype.getBottomRowIndex = function(e) {\n            return e + this.visibleRowCount - 1\n        }\n        ,\n        o.ScrollPort.prototype.onScroll_ = function(e) {\n            var t = this.getScreenSize();\n            t.width == this.lastScreenWidth_ && t.height == this.lastScreenHeight_ ? (this.redraw_(),\n                this.publish(\"scroll\", {\n                    scrollPort: this\n                })) : this.resize()\n        }\n        ,\n        o.ScrollPort.prototype.onScrollWheel = function(e) {}\n        ,\n        o.ScrollPort.prototype.onScrollWheel_ = function(e) {\n            if (this.onScrollWheel(e),\n                !e.defaultPrevented) {\n                var t = this.scrollWheelDelta(e)\n                    , r = this.screen_.scrollTop - t;\n                r < 0 && (r = 0);\n                var i = this.getScrollMax_();\n                r > i && (r = i),\n                r != this.screen_.scrollTop && (this.screen_.scrollTop = r,\n                    e.preventDefault())\n            }\n        }\n        ,\n        o.ScrollPort.prototype.scrollWheelDelta = function(e) {\n            var t;\n            switch (e.deltaMode) {\n                case WheelEvent.DOM_DELTA_PIXEL:\n                    t = e.deltaY * this.scrollWheelMultiplier_;\n                    break;\n                case WheelEvent.DOM_DELTA_LINE:\n                    t = e.deltaY * this.characterSize.height;\n                    break;\n                case WheelEvent.DOM_DELTA_PAGE:\n                    t = e.deltaY * this.characterSize.height * this.screen_.getHeight()\n            }\n            return -1 * t\n        }\n        ,\n        o.ScrollPort.prototype.onTouch = function(e) {}\n        ,\n        o.ScrollPort.prototype.onTouch_ = function(e) {\n            if (this.onTouch(e),\n                !e.defaultPrevented) {\n                var t, r, i = function(e) {\n                    return {\n                        id: e.identifier,\n                        y: e.clientY,\n                        x: e.clientX\n                    }\n                };\n                switch (e.type) {\n                    case \"touchstart\":\n                        for (t = 0; t < e.changedTouches.length; ++t)\n                            r = i(e.changedTouches[t]),\n                                this.lastTouch_[r.id] = r;\n                        break;\n                    case \"touchcancel\":\n                    case \"touchend\":\n                        for (t = 0; t < e.changedTouches.length; ++t)\n                            delete this.lastTouch_[e.changedTouches[t].identifier];\n                        break;\n                    case \"touchmove\":\n                        var o = 0;\n                        for (t = 0; t < e.changedTouches.length; ++t)\n                            r = i(e.changedTouches[t]),\n                                o += this.lastTouch_[r.id].y - r.y,\n                                this.lastTouch_[r.id] = r;\n                        o *= -1;\n                        var s = this.screen_.scrollTop - o;\n                        s < 0 && (s = 0);\n                        var n = this.getScrollMax_();\n                        s > n && (s = n),\n                        s != this.screen_.scrollTop && (this.screen_.scrollTop = s)\n                }\n                e.preventDefault()\n            }\n        }\n        ,\n        o.ScrollPort.prototype.onResize_ = function(e) {\n            this.syncCharacterSize(),\n                this.resize()\n        }\n        ,\n        o.ScrollPort.prototype.onCopy = function(e) {}\n        ,\n        o.ScrollPort.prototype.onCopy_ = function(e) {\n            if (this.onCopy(e),\n            !e.defaultPrevented && (this.resetSelectBags_(),\n                this.selection.sync(),\n            this.selection.startRow && !(this.selection.endRow.rowIndex - this.selection.startRow.rowIndex < 2))) {\n                var t = this.getTopRowIndex()\n                    , r = this.getBottomRowIndex(t);\n                if (this.selection.startRow.rowIndex < t) {\n                    var i;\n                    i = this.selection.endRow.rowIndex < t ? this.selection.endRow.rowIndex : this.topFold_.nextSibling.rowIndex,\n                        this.topSelectBag_.textContent = this.rowProvider_.getRowsText(this.selection.startRow.rowIndex + 1, i),\n                        this.rowNodes_.insertBefore(this.topSelectBag_, this.selection.startRow.nextSibling),\n                        this.syncRowNodesDimensions_()\n                }\n                if (this.selection.endRow.rowIndex > r) {\n                    var o;\n                    o = this.selection.startRow.rowIndex > r ? this.selection.startRow.rowIndex + 1 : this.bottomFold_.previousSibling.rowIndex + 1,\n                        this.bottomSelectBag_.textContent = this.rowProvider_.getRowsText(o, this.selection.endRow.rowIndex),\n                        this.rowNodes_.insertBefore(this.bottomSelectBag_, this.selection.endRow)\n                }\n            }\n        }\n        ,\n        o.ScrollPort.prototype.onBodyKeyDown_ = function(e) {\n            if (this.ctrlVPaste) {\n                var t = String.fromCharCode(e.which).toLowerCase();\n                (e.ctrlKey || e.metaKey) && \"v\" == t && this.pasteTarget_.focus()\n            }\n        }\n        ,\n        o.ScrollPort.prototype.onPaste_ = function(e) {\n            this.pasteTarget_.focus();\n            var t = this;\n            setTimeout(function() {\n                t.publish(\"paste\", {\n                    text: t.pasteTarget_.value\n                }),\n                    t.pasteTarget_.value = \"\",\n                    t.screen_.focus()\n            }, 0)\n        }\n        ,\n        o.ScrollPort.prototype.handlePasteTargetTextInput_ = function(e) {\n            e.stopPropagation()\n        }\n        ,\n        o.ScrollPort.prototype.setScrollbarVisible = function(e) {\n            this.screen_.style.overflowY = e ? \"scroll\" : \"hidden\"\n        }\n        ,\n        o.ScrollPort.prototype.setScrollWheelMoveMultipler = function(e) {\n            this.scrollWheelMultiplier_ = e\n        }\n        ,\n        i.rtdep(\"lib.colors\", \"lib.PreferenceManager\", \"lib.resource\", \"lib.wc\", \"lib.f\", \"hterm.Keyboard\", \"hterm.Options\", \"hterm.PreferenceManager\", \"hterm.Screen\", \"hterm.ScrollPort\", \"hterm.Size\", \"hterm.TextAttributes\", \"hterm.VT\"),\n        o.Terminal = function(e) {\n            this.profileId_ = null,\n                this.primaryScreen_ = new o.Screen,\n                this.alternateScreen_ = new o.Screen,\n                this.screen_ = this.primaryScreen_,\n                this.screenSize = new o.Size(0,0),\n                this.scrollPort_ = new o.ScrollPort(this),\n                this.scrollPort_.subscribe(\"resize\", this.onResize_.bind(this)),\n                this.scrollPort_.subscribe(\"scroll\", this.onScroll_.bind(this)),\n                this.scrollPort_.subscribe(\"paste\", this.onPaste_.bind(this)),\n                this.scrollPort_.onCopy = this.onCopy_.bind(this),\n                this.div_ = null,\n                this.document_ = window.document,\n                this.scrollbackRows_ = [],\n                this.tabStops_ = [],\n                this.defaultTabStops = !0,\n                this.vtScrollTop_ = null,\n                this.vtScrollBottom_ = null,\n                this.cursorNode_ = null,\n                this.cursorShape_ = o.Terminal.cursorShape.BLOCK,\n                this.cursorColor_ = null,\n                this.cursorBlinkCycle_ = [100, 100],\n                this.myOnCursorBlink_ = this.onCursorBlink_.bind(this),\n                this.backgroundColor_ = null,\n                this.foregroundColor_ = null,\n                this.scrollOnOutput_ = null,\n                this.scrollOnKeystroke_ = null,\n                this.scrollWheelArrowKeys_ = null,\n                this.defeatMouseReports_ = !1,\n                this.bellAudio_ = this.document_.createElement(\"audio\"),\n                this.bellAudio_.id = \"hterm:bell-audio\",\n                this.bellAudio_.setAttribute(\"preload\", \"auto\"),\n                this.bellNotificationList_ = [],\n                this.desktopNotificationBell_ = !1,\n                this.savedOptions_ = {},\n                this.options_ = new o.Options,\n                this.timeouts_ = {},\n                this.vt = new o.VT(this),\n                this.keyboard = new o.Keyboard(this),\n                this.io = new o.Terminal.IO(this),\n                this.enableMouseDragScroll = !0,\n                this.copyOnSelect = null,\n                this.mouseRightClickPaste = null,\n                this.mousePasteButton = null,\n                this.useDefaultWindowCopy = !1,\n                this.clearSelectionAfterCopy = !0,\n                this.realizeSize_(80, 24),\n                this.setDefaultTabStops(),\n                this.setProfile(e || \"default\", function() {\n                    this.onTerminalReady()\n                }\n                    .bind(this))\n        }\n        ,\n        o.Terminal.cursorShape = {\n            BLOCK: \"BLOCK\",\n            BEAM: \"BEAM\",\n            UNDERLINE: \"UNDERLINE\"\n        },\n        o.Terminal.prototype.onTerminalReady = function() {}\n        ,\n        o.Terminal.prototype.tabWidth = 8,\n        o.Terminal.prototype.setProfile = function(e, t) {\n            this.profileId_ = e.replace(/\\//g, \"\");\n            var r = this;\n            this.prefs_ && this.prefs_.deactivate(),\n                this.prefs_ = new o.PreferenceManager(this.profileId_),\n                this.prefs_.addObservers(null, {\n                    \"alt-gr-mode\": function(e) {\n                        e = null == e ? \"en-us\" == navigator.language.toLowerCase() ? \"none\" : \"right-alt\" : \"string\" == typeof e ? e.toLowerCase() : \"none\",\n                        /^(none|ctrl-alt|left-alt|right-alt)$/.test(e) || (e = \"none\"),\n                            r.keyboard.altGrMode = e\n                    },\n                    \"alt-backspace-is-meta-backspace\": function(e) {\n                        r.keyboard.altBackspaceIsMetaBackspace = e\n                    },\n                    \"alt-is-meta\": function(e) {\n                        r.keyboard.altIsMeta = e\n                    },\n                    \"alt-sends-what\": function(e) {\n                        /^(escape|8-bit|browser-key)$/.test(e) || (e = \"escape\"),\n                            r.keyboard.altSendsWhat = e\n                    },\n                    \"audible-bell-sound\": function(e) {\n                        var t = e.match(/^lib-resource:(\\S+)/);\n                        t ? r.bellAudio_.setAttribute(\"src\", i.resource.getDataUrl(t[1])) : r.bellAudio_.setAttribute(\"src\", e)\n                    },\n                    \"desktop-notification-bell\": function(e) {\n                        e && Notification ? (r.desktopNotificationBell_ = \"granted\" === Notification.permission,\n                        r.desktopNotificationBell_ || console.warn(\"desktop-notification-bell is true but we do not have permission to display notifications.\")) : r.desktopNotificationBell_ = !1\n                    },\n                    \"background-color\": function(e) {\n                        r.setBackgroundColor(e)\n                    },\n                    \"background-image\": function(e) {\n                        r.scrollPort_.setBackgroundImage(e)\n                    },\n                    \"background-size\": function(e) {\n                        r.scrollPort_.setBackgroundSize(e)\n                    },\n                    \"background-position\": function(e) {\n                        r.scrollPort_.setBackgroundPosition(e)\n                    },\n                    \"backspace-sends-backspace\": function(e) {\n                        r.keyboard.backspaceSendsBackspace = e\n                    },\n                    \"character-map-overrides\": function(e) {\n                        null == e || e instanceof Object ? (r.vt.characterMaps.reset(),\n                            r.vt.characterMaps.setOverrides(e)) : console.warn(\"Preference character-map-modifications is not an object: \" + e)\n                    },\n                    \"cursor-blink\": function(e) {\n                        r.setCursorBlink(!!e)\n                    },\n                    \"cursor-blink-cycle\": function(e) {\n                        e instanceof Array && \"number\" == typeof e[0] && \"number\" == typeof e[1] ? r.cursorBlinkCycle_ = e : r.cursorBlinkCycle_ = \"number\" == typeof e ? [e, e] : [100, 100]\n                    },\n                    \"cursor-color\": function(e) {\n                        r.setCursorColor(e)\n                    },\n                    \"color-palette-overrides\": function(e) {\n                        if (null == e || e instanceof Object || e instanceof Array) {\n                            if (i.colors.colorPalette = i.colors.stockColorPalette.concat(),\n                                e)\n                                for (var t in e) {\n                                    var o = parseInt(t);\n                                    if (isNaN(o) || o < 0 || o > 255)\n                                        console.log(\"Invalid value in palette: \" + t + \": \" + e[t]);\n                                    else if (e[o]) {\n                                        var s = i.colors.normalizeCSS(e[o]);\n                                        s && (i.colors.colorPalette[o] = s)\n                                    }\n                                }\n                            r.primaryScreen_.textAttributes.resetColorPalette(),\n                                r.alternateScreen_.textAttributes.resetColorPalette()\n                        } else\n                            console.warn(\"Preference color-palette-overrides is not an array or object: \" + e)\n                    },\n                    \"copy-on-select\": function(e) {\n                        r.copyOnSelect = !!e\n                    },\n                    \"use-default-window-copy\": function(e) {\n                        r.useDefaultWindowCopy = !!e\n                    },\n                    \"clear-selection-after-copy\": function(e) {\n                        r.clearSelectionAfterCopy = !!e\n                    },\n                    \"ctrl-plus-minus-zero-zoom\": function(e) {\n                        r.keyboard.ctrlPlusMinusZeroZoom = e\n                    },\n                    \"ctrl-c-copy\": function(e) {\n                        r.keyboard.ctrlCCopy = e\n                    },\n                    \"ctrl-v-paste\": function(e) {\n                        r.keyboard.ctrlVPaste = e,\n                            r.scrollPort_.setCtrlVPaste(e)\n                    },\n                    \"east-asian-ambiguous-as-two-column\": function(e) {\n                        i.wc.regardCjkAmbiguous = e\n                    },\n                    \"enable-8-bit-control\": function(e) {\n                        r.vt.enable8BitControl = !!e\n                    },\n                    \"enable-bold\": function(e) {\n                        r.syncBoldSafeState()\n                    },\n                    \"enable-bold-as-bright\": function(e) {\n                        r.primaryScreen_.textAttributes.enableBoldAsBright = !!e,\n                            r.alternateScreen_.textAttributes.enableBoldAsBright = !!e\n                    },\n                    \"enable-blink\": function(e) {\n                        r.syncBlinkState()\n                    },\n                    \"enable-clipboard-write\": function(e) {\n                        r.vt.enableClipboardWrite = !!e\n                    },\n                    \"enable-dec12\": function(e) {\n                        r.vt.enableDec12 = !!e\n                    },\n                    \"font-family\": function(e) {\n                        r.syncFontFamily()\n                    },\n                    \"font-size\": function(e) {\n                        r.setFontSize(e)\n                    },\n                    \"font-smoothing\": function(e) {\n                        r.syncFontFamily()\n                    },\n                    \"foreground-color\": function(e) {\n                        r.setForegroundColor(e)\n                    },\n                    \"home-keys-scroll\": function(e) {\n                        r.keyboard.homeKeysScroll = e\n                    },\n                    keybindings: function(e) {\n                        if (r.keyboard.bindings.clear(),\n                            e)\n                            if (e instanceof Object)\n                                try {\n                                    r.keyboard.bindings.addBindings(e)\n                                } catch (e) {\n                                    console.error(\"Error in keybindings preference: \" + e)\n                                }\n                            else\n                                console.error(\"Error in keybindings preference: Expected object\")\n                    },\n                    \"max-string-sequence\": function(e) {\n                        r.vt.maxStringSequence = e\n                    },\n                    \"media-keys-are-fkeys\": function(e) {\n                        r.keyboard.mediaKeysAreFKeys = e\n                    },\n                    \"meta-sends-escape\": function(e) {\n                        r.keyboard.metaSendsEscape = e\n                    },\n                    \"mouse-right-click-paste\": function(e) {\n                        r.mouseRightClickPaste = e\n                    },\n                    \"mouse-paste-button\": function(e) {\n                        r.syncMousePasteButton()\n                    },\n                    \"page-keys-scroll\": function(e) {\n                        r.keyboard.pageKeysScroll = e\n                    },\n                    \"pass-alt-number\": function(e) {\n                        null == e && (e = !window.navigator.userAgent.match(/Mac OS X/) && \"popup\" != o.windowType),\n                            r.passAltNumber = e\n                    },\n                    \"pass-ctrl-number\": function(e) {\n                        null == e && (e = !window.navigator.userAgent.match(/Mac OS X/) && \"popup\" != o.windowType),\n                            r.passCtrlNumber = e\n                    },\n                    \"pass-meta-number\": function(e) {\n                        null == e && (e = window.navigator.userAgent.match(/Mac OS X/) && \"popup\" != o.windowType),\n                            r.passMetaNumber = e\n                    },\n                    \"pass-meta-v\": function(e) {\n                        r.keyboard.passMetaV = e\n                    },\n                    \"receive-encoding\": function(e) {\n                        /^(utf-8|raw)$/.test(e) || (console.warn('Invalid value for \"receive-encoding\": ' + e),\n                            e = \"utf-8\"),\n                            r.vt.characterEncoding = e\n                    },\n                    \"scroll-on-keystroke\": function(e) {\n                        r.scrollOnKeystroke_ = e\n                    },\n                    \"scroll-on-output\": function(e) {\n                        r.scrollOnOutput_ = e\n                    },\n                    \"scrollbar-visible\": function(e) {\n                        r.setScrollbarVisible(e)\n                    },\n                    \"scroll-wheel-may-send-arrow-keys\": function(e) {\n                        r.scrollWheelArrowKeys_ = e\n                    },\n                    \"scroll-wheel-move-multiplier\": function(e) {\n                        r.setScrollWheelMoveMultipler(e)\n                    },\n                    \"send-encoding\": function(e) {\n                        /^(utf-8|raw)$/.test(e) || (console.warn('Invalid value for \"send-encoding\": ' + e),\n                            e = \"utf-8\"),\n                            r.keyboard.characterEncoding = e\n                    },\n                    \"shift-insert-paste\": function(e) {\n                        r.keyboard.shiftInsertPaste = e\n                    },\n                    \"terminal-encoding\": function(e) {\n                        r.vt.setEncoding(e)\n                    },\n                    \"user-css\": function(e) {\n                        r.scrollPort_.setUserCssUrl(e)\n                    },\n                    \"user-css-text\": function(e) {\n                        r.scrollPort_.setUserCssText(e)\n                    },\n                    \"word-break-match-left\": function(e) {\n                        r.primaryScreen_.wordBreakMatchLeft = e,\n                            r.alternateScreen_.wordBreakMatchLeft = e\n                    },\n                    \"word-break-match-right\": function(e) {\n                        r.primaryScreen_.wordBreakMatchRight = e,\n                            r.alternateScreen_.wordBreakMatchRight = e\n                    },\n                    \"word-break-match-middle\": function(e) {\n                        r.primaryScreen_.wordBreakMatchMiddle = e,\n                            r.alternateScreen_.wordBreakMatchMiddle = e\n                    }\n                }),\n                this.prefs_.readStorage(function() {\n                    this.prefs_.notifyAll(),\n                    t && t()\n                }\n                    .bind(this))\n        }\n        ,\n        o.Terminal.prototype.getPrefs = function() {\n            return this.prefs_\n        }\n        ,\n        o.Terminal.prototype.setBracketedPaste = function(e) {\n            this.options_.bracketedPaste = e\n        }\n        ,\n        o.Terminal.prototype.setCursorColor = function(e) {\n            this.cursorColor_ = e,\n                this.cursorNode_.style.backgroundColor = e,\n                this.cursorNode_.style.borderColor = e\n        }\n        ,\n        o.Terminal.prototype.getCursorColor = function() {\n            return this.cursorColor_\n        }\n        ,\n        o.Terminal.prototype.setSelectionEnabled = function(e) {\n            this.enableMouseDragScroll = e\n        }\n        ,\n        o.Terminal.prototype.setBackgroundColor = function(e) {\n            this.backgroundColor_ = i.colors.normalizeCSS(e),\n                this.primaryScreen_.textAttributes.setDefaults(this.foregroundColor_, this.backgroundColor_),\n                this.alternateScreen_.textAttributes.setDefaults(this.foregroundColor_, this.backgroundColor_),\n                this.scrollPort_.setBackgroundColor(e)\n        }\n        ,\n        o.Terminal.prototype.getBackgroundColor = function() {\n            return this.backgroundColor_\n        }\n        ,\n        o.Terminal.prototype.setForegroundColor = function(e) {\n            this.foregroundColor_ = i.colors.normalizeCSS(e),\n                this.primaryScreen_.textAttributes.setDefaults(this.foregroundColor_, this.backgroundColor_),\n                this.alternateScreen_.textAttributes.setDefaults(this.foregroundColor_, this.backgroundColor_),\n                this.scrollPort_.setForegroundColor(e)\n        }\n        ,\n        o.Terminal.prototype.getForegroundColor = function() {\n            return this.foregroundColor_\n        }\n        ,\n        o.Terminal.prototype.runCommandClass = function(e, t) {\n            var r = this.prefs_.get(\"environment\");\n            \"object\" == typeof r && null != r || (r = {});\n            var i = this;\n            this.command = new e({\n                argString: t || \"\",\n                io: this.io.push(),\n                environment: r,\n                onExit: function(e) {\n                    i.io.pop(),\n                        i.uninstallKeyboard(),\n                    i.prefs_.get(\"close-on-exit\") && window.close()\n                }\n            }),\n                this.installKeyboard(),\n                this.command.run()\n        }\n        ,\n        o.Terminal.prototype.isPrimaryScreen = function() {\n            return this.screen_ == this.primaryScreen_\n        }\n        ,\n        o.Terminal.prototype.installKeyboard = function() {\n            this.keyboard.installKeyboard(this.scrollPort_.getDocument().body)\n        }\n        ,\n        o.Terminal.prototype.uninstallKeyboard = function() {\n            this.keyboard.installKeyboard(null)\n        }\n        ,\n        o.Terminal.prototype.setCssVar = function(e, t, r=\"--hterm-\") {\n            this.document_.documentElement.style.setProperty(`${r}${e}`, t)\n        }\n        ,\n        o.Terminal.prototype.setFontSize = function(e) {\n            0 === e && (e = this.prefs_.get(\"font-size\")),\n                this.scrollPort_.setFontSize(e),\n                this.setCssVar(\"charsize-width\", this.scrollPort_.characterSize.width + \"px\"),\n                this.setCssVar(\"charsize-height\", this.scrollPort_.characterSize.height + \"px\")\n        }\n        ,\n        o.Terminal.prototype.getFontSize = function() {\n            return this.scrollPort_.getFontSize()\n        }\n        ,\n        o.Terminal.prototype.getFontFamily = function() {\n            return this.scrollPort_.getFontFamily()\n        }\n        ,\n        o.Terminal.prototype.syncFontFamily = function() {\n            this.scrollPort_.setFontFamily(this.prefs_.get(\"font-family\"), this.prefs_.get(\"font-smoothing\")),\n                this.syncBoldSafeState()\n        }\n        ,\n        o.Terminal.prototype.syncMousePasteButton = function() {\n            var e = this.prefs_.get(\"mouse-paste-button\");\n            if (\"number\" != typeof e) {\n                var t = navigator.userAgent.match(/\\(X11;\\s+(\\S+)/);\n                t && \"CrOS\" != t[1] ? this.mousePasteButton = 2 : this.mousePasteButton = 1\n            } else\n                this.mousePasteButton = e\n        }\n        ,\n        o.Terminal.prototype.syncBoldSafeState = function() {\n            var e = this.prefs_.get(\"enable-bold\");\n            if (null !== e)\n                return this.primaryScreen_.textAttributes.enableBold = e,\n                    void (this.alternateScreen_.textAttributes.enableBold = e);\n            var t = this.scrollPort_.measureCharacterSize()\n                , r = this.scrollPort_.measureCharacterSize(\"bold\")\n                , i = t.equals(r);\n            i || console.warn(\"Bold characters disabled: Size of bold weight differs from normal.  Font family is: \" + this.scrollPort_.getFontFamily()),\n                this.primaryScreen_.textAttributes.enableBold = i,\n                this.alternateScreen_.textAttributes.enableBold = i\n        }\n        ,\n        o.Terminal.prototype.syncBlinkState = function() {\n            this.setCssVar(\"node-duration\", this.prefs_.get(\"enable-blink\") ? \"0.7s\" : \"0\")\n        }\n        ,\n        o.Terminal.prototype.syncMouseStyle = function() {\n            this.setCssVar(\"mouse-cursor-style\", this.vt.mouseReport == this.vt.MOUSE_REPORT_DISABLED ? \"var(--hterm-mouse-cursor-text)\" : \"var(--hterm-mouse-cursor-pointer)\")\n        }\n        ,\n        o.Terminal.prototype.saveCursor = function() {\n            return this.screen_.cursorPosition.clone()\n        }\n        ,\n        o.Terminal.prototype.getTextAttributes = function() {\n            return this.screen_.textAttributes\n        }\n        ,\n        o.Terminal.prototype.setTextAttributes = function(e) {\n            this.screen_.textAttributes = e\n        }\n        ,\n        o.Terminal.prototype.getZoomFactor = function() {\n            return this.scrollPort_.characterSize.zoomFactor\n        }\n        ,\n        o.Terminal.prototype.setWindowTitle = function(e) {\n            window.document.title = e\n        }\n        ,\n        o.Terminal.prototype.restoreCursor = function(e) {\n            var t = i.f.clamp(e.row, 0, this.screenSize.height - 1)\n                , r = i.f.clamp(e.column, 0, this.screenSize.width - 1);\n            this.screen_.setCursorPosition(t, r),\n            (e.column > r || e.column == r && e.overflow) && (this.screen_.cursorPosition.overflow = !0)\n        }\n        ,\n        o.Terminal.prototype.clearCursorOverflow = function() {\n            this.screen_.cursorPosition.overflow = !1\n        }\n        ,\n        o.Terminal.prototype.setCursorShape = function(e) {\n            this.cursorShape_ = e,\n                this.restyleCursor_()\n        }\n        ,\n        o.Terminal.prototype.getCursorShape = function() {\n            return this.cursorShape_\n        }\n        ,\n        o.Terminal.prototype.setWidth = function(e) {\n            null != e ? (this.div_.style.width = Math.ceil(this.scrollPort_.characterSize.width * e + this.scrollPort_.currentScrollbarWidthPx) + \"px\",\n                this.realizeSize_(e, this.screenSize.height),\n                this.scheduleSyncCursorPosition_()) : this.div_.style.width = \"100%\"\n        }\n        ,\n        o.Terminal.prototype.setHeight = function(e) {\n            null != e ? (this.div_.style.height = this.scrollPort_.characterSize.height * e + \"px\",\n                this.realizeSize_(this.screenSize.width, e),\n                this.scheduleSyncCursorPosition_()) : this.div_.style.height = \"100%\"\n        }\n        ,\n        o.Terminal.prototype.realizeSize_ = function(e, t) {\n            e != this.screenSize.width && this.realizeWidth_(e),\n            t != this.screenSize.height && this.realizeHeight_(t),\n                this.io.onTerminalResize_(e, t)\n        }\n        ,\n        o.Terminal.prototype.realizeWidth_ = function(e) {\n            if (e <= 0)\n                throw new Error(\"Attempt to realize bad width: \" + e);\n            var t = e - this.screen_.getWidth();\n            if (this.screenSize.width = e,\n                this.screen_.setColumnCount(e),\n            t > 0)\n                this.defaultTabStops && this.setDefaultTabStops(this.screenSize.width - t);\n            else\n                for (var r = this.tabStops_.length - 1; r >= 0 && !(this.tabStops_[r] < e); r--)\n                    this.tabStops_.pop();\n            this.screen_.setColumnCount(this.screenSize.width)\n        }\n        ,\n        o.Terminal.prototype.realizeHeight_ = function(e) {\n            if (e <= 0)\n                throw new Error(\"Attempt to realize bad height: \" + e);\n            var t = e - this.screen_.getHeight();\n            this.screenSize.height = e;\n            var r = this.saveCursor();\n            if (t < 0) {\n                for (t *= -1; t; ) {\n                    var i = this.getRowCount() - 1;\n                    if (i - this.scrollbackRows_.length == r.row)\n                        break;\n                    if (this.getRowText(i))\n                        break;\n                    this.screen_.popRow(),\n                        t--\n                }\n                var o = this.screen_.shiftRows(t);\n                this.scrollbackRows_.push.apply(this.scrollbackRows_, o),\n                    r.row = Math.max(r.row - t, 0)\n            } else if (t > 0) {\n                if (t <= this.scrollbackRows_.length) {\n                    var s = Math.min(t, this.scrollbackRows_.length)\n                        , n = this.scrollbackRows_.splice(this.scrollbackRows_.length - s, s);\n                    this.screen_.unshiftRows(n),\n                        t -= s,\n                        r.row += s\n                }\n                t && this.appendRows_(t)\n            }\n            this.setVTScrollRegion(null, null),\n                this.restoreCursor(r)\n        }\n        ,\n        o.Terminal.prototype.scrollHome = function() {\n            this.scrollPort_.scrollRowToTop(0)\n        }\n        ,\n        o.Terminal.prototype.scrollEnd = function() {\n            this.scrollPort_.scrollRowToBottom(this.getRowCount())\n        }\n        ,\n        o.Terminal.prototype.scrollPageUp = function() {\n            var e = this.scrollPort_.getTopRowIndex();\n            this.scrollPort_.scrollRowToTop(e - this.screenSize.height + 1)\n        }\n        ,\n        o.Terminal.prototype.scrollPageDown = function() {\n            var e = this.scrollPort_.getTopRowIndex();\n            this.scrollPort_.scrollRowToTop(e + this.screenSize.height - 1)\n        }\n        ,\n        o.Terminal.prototype.scrollLineUp = function() {\n            var e = this.scrollPort_.getTopRowIndex();\n            this.scrollPort_.scrollRowToTop(e - 1)\n        }\n        ,\n        o.Terminal.prototype.scrollLineDown = function() {\n            var e = this.scrollPort_.getTopRowIndex();\n            this.scrollPort_.scrollRowToTop(e + 1)\n        }\n        ,\n        o.Terminal.prototype.wipeContents = function() {\n            this.scrollbackRows_.length = 0,\n                this.scrollPort_.resetCache(),\n                [this.primaryScreen_, this.alternateScreen_].forEach(function(e) {\n                    var t = e.getHeight();\n                    t > 0 && (this.renumberRows_(0, t),\n                        this.clearHome(e))\n                }\n                    .bind(this)),\n                this.syncCursorPosition_(),\n                this.scrollPort_.invalidate()\n        }\n        ,\n        o.Terminal.prototype.reset = function() {\n            this.clearAllTabStops(),\n                this.setDefaultTabStops(),\n                this.clearHome(this.primaryScreen_),\n                this.primaryScreen_.textAttributes.reset(),\n                this.clearHome(this.alternateScreen_),\n                this.alternateScreen_.textAttributes.reset(),\n                this.setCursorBlink(!!this.prefs_.get(\"cursor-blink\")),\n                this.vt.reset(),\n                this.softReset()\n        }\n        ,\n        o.Terminal.prototype.softReset = function() {\n            this.options_ = new o.Options,\n                this.options_.cursorBlink = !!this.timeouts_.cursorBlink,\n                this.primaryScreen_.textAttributes.resetColorPalette(),\n                this.alternateScreen_.textAttributes.resetColorPalette(),\n                this.setVTScrollRegion(null, null),\n                this.setCursorVisible(!0)\n        }\n        ,\n        o.Terminal.prototype.forwardTabStop = function() {\n            for (var e = this.screen_.cursorPosition.column, t = 0; t < this.tabStops_.length; t++)\n                if (this.tabStops_[t] > e)\n                    return void this.setCursorColumn(this.tabStops_[t]);\n            var r = this.screen_.cursorPosition.overflow;\n            this.setCursorColumn(this.screenSize.width - 1),\n                this.screen_.cursorPosition.overflow = r\n        }\n        ,\n        o.Terminal.prototype.backwardTabStop = function() {\n            for (var e = this.screen_.cursorPosition.column, t = this.tabStops_.length - 1; t >= 0; t--)\n                if (this.tabStops_[t] < e)\n                    return void this.setCursorColumn(this.tabStops_[t]);\n            this.setCursorColumn(1)\n        }\n        ,\n        o.Terminal.prototype.setTabStop = function(e) {\n            for (var t = this.tabStops_.length - 1; t >= 0; t--) {\n                if (this.tabStops_[t] == e)\n                    return;\n                if (this.tabStops_[t] < e)\n                    return void this.tabStops_.splice(t + 1, 0, e)\n            }\n            this.tabStops_.splice(0, 0, e)\n        }\n        ,\n        o.Terminal.prototype.clearTabStopAtCursor = function() {\n            var e = this.screen_.cursorPosition.column\n                , t = this.tabStops_.indexOf(e);\n            -1 != t && this.tabStops_.splice(t, 1)\n        }\n        ,\n        o.Terminal.prototype.clearAllTabStops = function() {\n            this.tabStops_.length = 0,\n                this.defaultTabStops = !1\n        }\n        ,\n        o.Terminal.prototype.setDefaultTabStops = function(e) {\n            for (var t = e || 0, r = this.tabWidth, i = t = t - 1 - (t - 1) % r + r; i < this.screenSize.width; i += r)\n                this.setTabStop(i);\n            this.defaultTabStops = !0\n        }\n        ,\n        o.Terminal.prototype.interpret = function(e) {\n            this.vt.interpret(e),\n                this.scheduleSyncCursorPosition_()\n        }\n        ,\n        o.Terminal.prototype.decorate = function(e) {\n            this.div_ = e,\n                this.scrollPort_.decorate(e),\n                this.scrollPort_.setBackgroundImage(this.prefs_.get(\"background-image\")),\n                this.scrollPort_.setBackgroundSize(this.prefs_.get(\"background-size\")),\n                this.scrollPort_.setBackgroundPosition(this.prefs_.get(\"background-position\")),\n                this.scrollPort_.setUserCssUrl(this.prefs_.get(\"user-css\")),\n                this.scrollPort_.setUserCssText(this.prefs_.get(\"user-css-text\")),\n                this.div_.focus = this.focus.bind(this),\n                this.setFontSize(this.prefs_.get(\"font-size\")),\n                this.syncFontFamily(),\n                this.setScrollbarVisible(this.prefs_.get(\"scrollbar-visible\")),\n                this.setScrollWheelMoveMultipler(this.prefs_.get(\"scroll-wheel-move-multiplier\")),\n                this.document_ = this.scrollPort_.getDocument(),\n                this.document_.body.oncontextmenu = function() {\n                    return !1\n                }\n            ;\n            var t = this.onMouse_.bind(this)\n                , r = this.scrollPort_.getScreenNode();\n            r.addEventListener(\"mousedown\", t),\n                r.addEventListener(\"mouseup\", t),\n                r.addEventListener(\"mousemove\", t),\n                this.scrollPort_.onScrollWheel = t,\n                r.addEventListener(\"focus\", this.onFocusChange_.bind(this, !0)),\n                r.addEventListener(\"mousedown\", function() {\n                    setTimeout(this.onFocusChange_.bind(this, !0))\n                }\n                    .bind(this)),\n                r.addEventListener(\"blur\", this.onFocusChange_.bind(this, !1));\n            var i = this.document_.createElement(\"style\");\n            i.textContent = '.cursor-node[focus=\"false\"] {  box-sizing: border-box;  background-color: transparent !important;  border-width: 2px;  border-style: solid;}.wc-node {  display: inline-block;  text-align: center;  width: calc(var(--hterm-charsize-width) * 2);  line-height: var(--hterm-charsize-height);}:root {  --hterm-charsize-width: ' + this.scrollPort_.characterSize.width + \"px;  --hterm-charsize-height: \" + this.scrollPort_.characterSize.height + \"px;  --hterm-cursor-offset-col: 0;  --hterm-cursor-offset-row: 0;  --hterm-blink-node-duration: 0.7s;  --hterm-mouse-cursor-text: text;  --hterm-mouse-cursor-pointer: default;  --hterm-mouse-cursor-style: var(--hterm-mouse-cursor-text);}@keyframes blink {  from { opacity: 1.0; }  to { opacity: 0.0; }}.blink-node {  animation-name: blink;  animation-duration: var(--hterm-blink-node-duration);  animation-iteration-count: infinite;  animation-timing-function: ease-in-out;  animation-direction: alternate;}\",\n                this.document_.head.appendChild(i),\n                this.cursorNode_ = this.document_.createElement(\"div\"),\n                this.cursorNode_.id = \"hterm:terminal-cursor\",\n                this.cursorNode_.className = \"cursor-node\",\n                this.cursorNode_.style.cssText = \"position: absolute;left: calc(var(--hterm-charsize-width) * var(--hterm-cursor-offset-col));top: calc(var(--hterm-charsize-height) * var(--hterm-cursor-offset-row));display: block;width: var(--hterm-charsize-width);height: var(--hterm-charsize-height);-webkit-transition: opacity, background-color 100ms linear;-moz-transition: opacity, background-color 100ms linear;\",\n                this.setCursorColor(this.prefs_.get(\"cursor-color\")),\n                this.setCursorBlink(!!this.prefs_.get(\"cursor-blink\")),\n                this.restyleCursor_(),\n                this.document_.body.appendChild(this.cursorNode_),\n                this.scrollBlockerNode_ = this.document_.createElement(\"div\"),\n                this.scrollBlockerNode_.id = \"hterm:mouse-drag-scroll-blocker\",\n                this.scrollBlockerNode_.style.cssText = \"position: absolute;top: -99px;display: block;width: 10px;height: 10px;\",\n                this.document_.body.appendChild(this.scrollBlockerNode_),\n                this.scrollPort_.onScrollWheel = t,\n                [\"mousedown\", \"mouseup\", \"mousemove\", \"click\", \"dblclick\"].forEach(function(e) {\n                    this.scrollBlockerNode_.addEventListener(e, t),\n                        this.cursorNode_.addEventListener(e, t),\n                        this.document_.addEventListener(e, t)\n                }\n                    .bind(this)),\n                this.cursorNode_.addEventListener(\"mousedown\", function() {\n                    setTimeout(this.focus.bind(this))\n                }\n                    .bind(this)),\n                this.setReverseVideo(!1),\n                this.scrollPort_.focus(),\n                this.scrollPort_.scheduleRedraw()\n        }\n        ,\n        o.Terminal.prototype.getDocument = function() {\n            return this.document_\n        }\n        ,\n        o.Terminal.prototype.focus = function() {\n            this.scrollPort_.focus()\n        }\n        ,\n        o.Terminal.prototype.getRowNode = function(e) {\n            if (e < this.scrollbackRows_.length)\n                return this.scrollbackRows_[e];\n            var t = e - this.scrollbackRows_.length;\n            return this.screen_.rowsArray[t]\n        }\n        ,\n        o.Terminal.prototype.getRowsText = function(e, t) {\n            for (var r = [], i = e; i < t; i++) {\n                var o = this.getRowNode(i);\n                r.push(o.textContent),\n                i < t - 1 && !o.getAttribute(\"line-overflow\") && r.push(\"\\n\")\n            }\n            return r.join(\"\")\n        }\n        ,\n        o.Terminal.prototype.getRowText = function(e) {\n            return this.getRowNode(e).textContent\n        }\n        ,\n        o.Terminal.prototype.getRowCount = function() {\n            return this.scrollbackRows_.length + this.screen_.rowsArray.length\n        }\n        ,\n        o.Terminal.prototype.appendRows_ = function(e) {\n            for (var t = this.screen_.rowsArray.length, r = this.scrollbackRows_.length + t, i = 0; i < e; i++) {\n                var o = this.document_.createElement(\"x-row\");\n                o.appendChild(this.document_.createTextNode(\"\")),\n                    o.rowIndex = r + i,\n                    this.screen_.pushRow(o)\n            }\n            var s = this.screen_.rowsArray.length - this.screenSize.height;\n            if (s > 0) {\n                var n = this.screen_.shiftRows(s);\n                Array.prototype.push.apply(this.scrollbackRows_, n),\n                this.scrollPort_.isScrolledEnd && this.scheduleScrollDown_()\n            }\n            t >= this.screen_.rowsArray.length && (t = this.screen_.rowsArray.length - 1),\n                this.setAbsoluteCursorPosition(t, 0)\n        }\n        ,\n        o.Terminal.prototype.moveRows_ = function(e, t, r) {\n            var i = this.screen_.removeRows(e, t);\n            this.screen_.insertRows(r, i);\n            var o, s;\n            e < r ? (o = e,\n                s = r + t) : (o = r,\n                s = e + t),\n                this.renumberRows_(o, s),\n                this.scrollPort_.scheduleInvalidate()\n        }\n        ,\n        o.Terminal.prototype.renumberRows_ = function(e, t, r) {\n            for (var i = r || this.screen_, o = this.scrollbackRows_.length, s = e; s < t; s++)\n                i.rowsArray[s].rowIndex = o + s\n        }\n        ,\n        o.Terminal.prototype.print = function(e) {\n            for (var t = 0, r = i.wc.strWidth(e); t < r; ) {\n                this.options_.wraparound && this.screen_.cursorPosition.overflow && (this.screen_.commitLineOverflow(),\n                    this.newLine());\n                var s, n = r - t, a = !1;\n                this.screen_.cursorPosition.column + n >= this.screenSize.width && (a = !0,\n                    n = this.screenSize.width - this.screen_.cursorPosition.column),\n                    a && !this.options_.wraparound ? (s = i.wc.substr(e, t, n - 1) + i.wc.substr(e, r - 1),\n                        n = r) : s = i.wc.substr(e, t, n);\n                for (var l = o.TextAttributes.splitWidecharString(s), h = 0; h < l.length; h++)\n                    this.screen_.textAttributes.wcNode = l[h].wcNode,\n                        this.screen_.textAttributes.asciiNode = l[h].asciiNode,\n                        this.options_.insertMode ? this.screen_.insertString(l[h].str) : this.screen_.overwriteString(l[h].str),\n                        this.screen_.textAttributes.wcNode = !1,\n                        this.screen_.textAttributes.asciiNode = !0;\n                this.screen_.maybeClipCurrentRow(),\n                    t += n\n            }\n            this.scheduleSyncCursorPosition_(),\n            this.scrollOnOutput_ && this.scrollPort_.scrollRowToBottom(this.getRowCount())\n        }\n        ,\n        o.Terminal.prototype.setVTScrollRegion = function(e, t) {\n            0 == e && t == this.screenSize.height - 1 ? (this.vtScrollTop_ = null,\n                this.vtScrollBottom_ = null) : (this.vtScrollTop_ = e,\n                this.vtScrollBottom_ = t)\n        }\n        ,\n        o.Terminal.prototype.getVTScrollTop = function() {\n            return null != this.vtScrollTop_ ? this.vtScrollTop_ : 0\n        }\n        ,\n        o.Terminal.prototype.getVTScrollBottom = function() {\n            return null != this.vtScrollBottom_ ? this.vtScrollBottom_ : this.screenSize.height - 1\n        }\n        ,\n        o.Terminal.prototype.newLine = function() {\n            var e = this.screen_.cursorPosition.row == this.screen_.rowsArray.length - 1;\n            null != this.vtScrollBottom_ ? this.screen_.cursorPosition.row == this.vtScrollBottom_ ? (this.vtScrollUp(1),\n                this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row, 0)) : e ? this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row, 0) : this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row + 1, 0) : e ? this.appendRows_(1) : this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row + 1, 0)\n        }\n        ,\n        o.Terminal.prototype.lineFeed = function() {\n            var e = this.screen_.cursorPosition.column;\n            this.newLine(),\n                this.setCursorColumn(e)\n        }\n        ,\n        o.Terminal.prototype.formFeed = function() {\n            this.options_.autoCarriageReturn ? this.newLine() : this.lineFeed()\n        }\n        ,\n        o.Terminal.prototype.reverseLineFeed = function() {\n            var e = this.getVTScrollTop()\n                , t = this.screen_.cursorPosition.row;\n            t == e ? this.insertLines(1) : this.setAbsoluteCursorRow(t - 1)\n        }\n        ,\n        o.Terminal.prototype.eraseToLeft = function() {\n            var e = this.saveCursor();\n            this.setCursorColumn(0),\n                this.screen_.overwriteString(i.f.getWhitespace(e.column + 1)),\n                this.restoreCursor(e)\n        }\n        ,\n        o.Terminal.prototype.eraseToRight = function(e) {\n            if (!this.screen_.cursorPosition.overflow) {\n                var t = this.screenSize.width - this.screen_.cursorPosition.column\n                    , r = e ? Math.min(e, t) : t;\n                if (this.screen_.textAttributes.background === this.screen_.textAttributes.DEFAULT_COLOR) {\n                    var s = this.screen_.rowsArray[this.screen_.cursorPosition.row];\n                    if (o.TextAttributes.nodeWidth(s) <= this.screen_.cursorPosition.column + r)\n                        return this.screen_.deleteChars(r),\n                            void this.clearCursorOverflow()\n                }\n                var n = this.saveCursor();\n                this.screen_.overwriteString(i.f.getWhitespace(r)),\n                    this.restoreCursor(n),\n                    this.clearCursorOverflow()\n            }\n        }\n        ,\n        o.Terminal.prototype.eraseLine = function() {\n            var e = this.saveCursor();\n            this.screen_.clearCursorRow(),\n                this.restoreCursor(e),\n                this.clearCursorOverflow()\n        }\n        ,\n        o.Terminal.prototype.eraseAbove = function() {\n            var e = this.saveCursor();\n            this.eraseToLeft();\n            for (var t = 0; t < e.row; t++)\n                this.setAbsoluteCursorPosition(t, 0),\n                    this.screen_.clearCursorRow();\n            this.restoreCursor(e),\n                this.clearCursorOverflow()\n        }\n        ,\n        o.Terminal.prototype.eraseBelow = function() {\n            var e = this.saveCursor();\n            this.eraseToRight();\n            for (var t = this.screenSize.height - 1, r = e.row + 1; r <= t; r++)\n                this.setAbsoluteCursorPosition(r, 0),\n                    this.screen_.clearCursorRow();\n            this.restoreCursor(e),\n                this.clearCursorOverflow()\n        }\n        ,\n        o.Terminal.prototype.fill = function(e) {\n            var t = this.saveCursor();\n            this.setAbsoluteCursorPosition(0, 0);\n            for (var r = 0; r < this.screenSize.height; r++)\n                for (var i = 0; i < this.screenSize.width; i++)\n                    this.setAbsoluteCursorPosition(r, i),\n                        this.screen_.overwriteString(e);\n            this.restoreCursor(t)\n        }\n        ,\n        o.Terminal.prototype.clearHome = function(e) {\n            var t = e || this.screen_\n                , r = t.getHeight();\n            if (0 != r) {\n                for (var i = 0; i < r; i++)\n                    t.setCursorPosition(i, 0),\n                        t.clearCursorRow();\n                t.setCursorPosition(0, 0)\n            }\n        }\n        ,\n        o.Terminal.prototype.clear = function(e) {\n            var t = e || this.screen_\n                , r = t.cursorPosition.clone();\n            this.clearHome(t),\n                t.setCursorPosition(r.row, r.column)\n        }\n        ,\n        o.Terminal.prototype.insertLines = function(e) {\n            var t = this.screen_.cursorPosition.row\n                , r = this.getVTScrollBottom()\n                , i = r - t - (e = Math.min(e, r - t)) + 1;\n            i && this.moveRows_(t, i, t + e);\n            for (var o = e - 1; o >= 0; o--)\n                this.setAbsoluteCursorPosition(t + o, 0),\n                    this.screen_.clearCursorRow()\n        }\n        ,\n        o.Terminal.prototype.deleteLines = function(e) {\n            var t = this.saveCursor()\n                , r = t.row\n                , i = this.getVTScrollBottom()\n                , o = i - r + 1\n                , s = i - (e = Math.min(e, o)) + 1;\n            e != o && this.moveRows_(r, e, s);\n            for (var n = 0; n < e; n++)\n                this.setAbsoluteCursorPosition(s + n, 0),\n                    this.screen_.clearCursorRow();\n            this.restoreCursor(t),\n                this.clearCursorOverflow()\n        }\n        ,\n        o.Terminal.prototype.insertSpace = function(e) {\n            var t = this.saveCursor()\n                , r = i.f.getWhitespace(e || 1);\n            this.screen_.insertString(r),\n                this.screen_.maybeClipCurrentRow(),\n                this.restoreCursor(t),\n                this.clearCursorOverflow()\n        }\n        ,\n        o.Terminal.prototype.deleteChars = function(e) {\n            var t = this.screen_.deleteChars(e);\n            if (t && !this.screen_.textAttributes.isDefault()) {\n                var r = this.saveCursor();\n                this.setCursorColumn(this.screenSize.width - t),\n                    this.screen_.insertString(i.f.getWhitespace(t)),\n                    this.restoreCursor(r)\n            }\n            this.clearCursorOverflow()\n        }\n        ,\n        o.Terminal.prototype.vtScrollUp = function(e) {\n            var t = this.saveCursor();\n            this.setAbsoluteCursorRow(this.getVTScrollTop()),\n                this.deleteLines(e),\n                this.restoreCursor(t)\n        }\n        ,\n        o.Terminal.prototype.vtScrollDown = function(e) {\n            var t = this.saveCursor();\n            this.setAbsoluteCursorPosition(this.getVTScrollTop(), 0),\n                this.insertLines(e),\n                this.restoreCursor(t)\n        }\n        ,\n        o.Terminal.prototype.setCursorPosition = function(e, t) {\n            this.options_.originMode ? this.setRelativeCursorPosition(e, t) : this.setAbsoluteCursorPosition(e, t)\n        }\n        ,\n        o.Terminal.prototype.setRelativeCursorPosition = function(e, t) {\n            var r = this.getVTScrollTop();\n            e = i.f.clamp(e + r, r, this.getVTScrollBottom()),\n                t = i.f.clamp(t, 0, this.screenSize.width - 1),\n                this.screen_.setCursorPosition(e, t)\n        }\n        ,\n        o.Terminal.prototype.setAbsoluteCursorPosition = function(e, t) {\n            e = i.f.clamp(e, 0, this.screenSize.height - 1),\n                t = i.f.clamp(t, 0, this.screenSize.width - 1),\n                this.screen_.setCursorPosition(e, t)\n        }\n        ,\n        o.Terminal.prototype.setCursorColumn = function(e) {\n            this.setAbsoluteCursorPosition(this.screen_.cursorPosition.row, e)\n        }\n        ,\n        o.Terminal.prototype.getCursorColumn = function() {\n            return this.screen_.cursorPosition.column\n        }\n        ,\n        o.Terminal.prototype.setAbsoluteCursorRow = function(e) {\n            this.setAbsoluteCursorPosition(e, this.screen_.cursorPosition.column)\n        }\n        ,\n        o.Terminal.prototype.getCursorRow = function() {\n            return this.screen_.cursorPosition.row\n        }\n        ,\n        o.Terminal.prototype.scheduleRedraw_ = function() {\n            if (!this.timeouts_.redraw) {\n                var e = this;\n                this.timeouts_.redraw = setTimeout(function() {\n                    delete e.timeouts_.redraw,\n                        e.scrollPort_.redraw_()\n                }, 0)\n            }\n        }\n        ,\n        o.Terminal.prototype.scheduleScrollDown_ = function() {\n            if (!this.timeouts_.scrollDown) {\n                var e = this;\n                this.timeouts_.scrollDown = setTimeout(function() {\n                    delete e.timeouts_.scrollDown,\n                        e.scrollPort_.scrollRowToBottom(e.getRowCount())\n                }, 10)\n            }\n        }\n        ,\n        o.Terminal.prototype.cursorUp = function(e) {\n            return this.cursorDown(-(e || 1))\n        }\n        ,\n        o.Terminal.prototype.cursorDown = function(e) {\n            e = e || 1;\n            var t = this.options_.originMode ? this.getVTScrollTop() : 0\n                , r = this.options_.originMode ? this.getVTScrollBottom() : this.screenSize.height - 1\n                , o = i.f.clamp(this.screen_.cursorPosition.row + e, t, r);\n            this.setAbsoluteCursorRow(o)\n        }\n        ,\n        o.Terminal.prototype.cursorLeft = function(e) {\n            if (!((e = e || 1) < 1)) {\n                var t = this.screen_.cursorPosition.column;\n                if (this.options_.reverseWraparound) {\n                    if (this.screen_.cursorPosition.overflow && (e--,\n                        this.clearCursorOverflow(),\n                        !e))\n                        return;\n                    var r = this.screen_.cursorPosition.row;\n                    (i = t - e) < 0 && ((r = r - Math.floor(e / this.screenSize.width) - 1) < 0 && (r = this.screenSize.height + r % this.screenSize.height),\n                        i = this.screenSize.width + i % this.screenSize.width),\n                        this.setCursorPosition(Math.max(r, 0), i)\n                } else {\n                    var i = Math.max(t - e, 0);\n                    this.setCursorColumn(i)\n                }\n            }\n        }\n        ,\n        o.Terminal.prototype.cursorRight = function(e) {\n            if (!((e = e || 1) < 1)) {\n                var t = i.f.clamp(this.screen_.cursorPosition.column + e, 0, this.screenSize.width - 1);\n                this.setCursorColumn(t)\n            }\n        }\n        ,\n        o.Terminal.prototype.setReverseVideo = function(e) {\n            this.options_.reverseVideo = e,\n                e ? (this.scrollPort_.setForegroundColor(this.prefs_.get(\"background-color\")),\n                    this.scrollPort_.setBackgroundColor(this.prefs_.get(\"foreground-color\"))) : (this.scrollPort_.setForegroundColor(this.prefs_.get(\"foreground-color\")),\n                    this.scrollPort_.setBackgroundColor(this.prefs_.get(\"background-color\")))\n        }\n        ,\n        o.Terminal.prototype.ringBell = function() {\n            this.cursorNode_.style.backgroundColor = this.scrollPort_.getForegroundColor();\n            var e = this;\n            if (setTimeout(function() {\n                e.cursorNode_.style.backgroundColor = e.prefs_.get(\"cursor-color\")\n            }, 200),\n            !this.bellSquelchTimeout_ && (this.bellAudio_.getAttribute(\"src\") ? (this.bellAudio_.play(),\n                this.bellSequelchTimeout_ = setTimeout(function() {\n                    delete this.bellSquelchTimeout_\n                }\n                    .bind(this), 500)) : delete this.bellSquelchTimeout_,\n            this.desktopNotificationBell_ && !this.document_.hasFocus())) {\n                var t = o.notify();\n                this.bellNotificationList_.push(t),\n                    t.onclick = function() {\n                        e.closeBellNotifications_()\n                    }\n            }\n        }\n        ,\n        o.Terminal.prototype.setOriginMode = function(e) {\n            this.options_.originMode = e,\n                this.setCursorPosition(0, 0)\n        }\n        ,\n        o.Terminal.prototype.setInsertMode = function(e) {\n            this.options_.insertMode = e\n        }\n        ,\n        o.Terminal.prototype.setAutoCarriageReturn = function(e) {\n            this.options_.autoCarriageReturn = e\n        }\n        ,\n        o.Terminal.prototype.setWraparound = function(e) {\n            this.options_.wraparound = e\n        }\n        ,\n        o.Terminal.prototype.setReverseWraparound = function(e) {\n            this.options_.reverseWraparound = e\n        }\n        ,\n        o.Terminal.prototype.setAlternateMode = function(e) {\n            var t = this.saveCursor();\n            if (this.screen_ = e ? this.alternateScreen_ : this.primaryScreen_,\n            this.screen_.rowsArray.length && this.screen_.rowsArray[0].rowIndex != this.scrollbackRows_.length)\n                for (var r = this.scrollbackRows_.length, i = this.screen_.rowsArray, o = 0; o < i.length; o++)\n                    i[o].rowIndex = r + o;\n            this.realizeWidth_(this.screenSize.width),\n                this.realizeHeight_(this.screenSize.height),\n                this.scrollPort_.syncScrollHeight(),\n                this.scrollPort_.invalidate(),\n                this.restoreCursor(t),\n                this.scrollPort_.resize()\n        }\n        ,\n        o.Terminal.prototype.setCursorBlink = function(e) {\n            this.options_.cursorBlink = e,\n            !e && this.timeouts_.cursorBlink && (clearTimeout(this.timeouts_.cursorBlink),\n                delete this.timeouts_.cursorBlink),\n            this.options_.cursorVisible && this.setCursorVisible(!0)\n        }\n        ,\n        o.Terminal.prototype.setCursorVisible = function(e) {\n            if (this.options_.cursorVisible = e,\n                !e)\n                return this.timeouts_.cursorBlink && (clearTimeout(this.timeouts_.cursorBlink),\n                    delete this.timeouts_.cursorBlink),\n                    void (this.cursorNode_.style.opacity = \"0\");\n            if (this.syncCursorPosition_(),\n                this.cursorNode_.style.opacity = \"1\",\n                this.options_.cursorBlink) {\n                if (this.timeouts_.cursorBlink)\n                    return;\n                this.onCursorBlink_()\n            } else\n                this.timeouts_.cursorBlink && (clearTimeout(this.timeouts_.cursorBlink),\n                    delete this.timeouts_.cursorBlink)\n        }\n        ,\n        o.Terminal.prototype.syncCursorPosition_ = function() {\n            var e = this.scrollPort_.getTopRowIndex()\n                , t = this.scrollPort_.getBottomRowIndex(e)\n                , r = this.scrollbackRows_.length + this.screen_.cursorPosition.row;\n            if (r > t)\n                this.setCssVar(\"cursor-offset-row\", \"-1\");\n            else {\n                this.options_.cursorVisible && \"none\" == this.cursorNode_.style.display && (this.cursorNode_.style.display = \"\"),\n                    this.setCssVar(\"cursor-offset-row\", `${r - e} + ` + `${this.scrollPort_.visibleRowTopMargin}px`),\n                    this.setCssVar(\"cursor-offset-col\", this.screen_.cursorPosition.column),\n                    this.cursorNode_.setAttribute(\"title\", \"(\" + this.screen_.cursorPosition.column + \", \" + this.screen_.cursorPosition.row + \")\");\n                var i = this.document_.getSelection();\n                i && i.isCollapsed && this.screen_.syncSelectionCaret(i)\n            }\n        }\n        ,\n        o.Terminal.prototype.restyleCursor_ = function() {\n            var e = this.cursorShape_;\n            \"false\" == this.cursorNode_.getAttribute(\"focus\") && (e = o.Terminal.cursorShape.BLOCK);\n            var t = this.cursorNode_.style;\n            switch (e) {\n                case o.Terminal.cursorShape.BEAM:\n                    t.height = \"var(--hterm-charsize-height)\",\n                        t.backgroundColor = \"transparent\",\n                        t.borderBottomStyle = null,\n                        t.borderLeftStyle = \"solid\";\n                    break;\n                case o.Terminal.cursorShape.UNDERLINE:\n                    t.height = this.scrollPort_.characterSize.baseline + \"px\",\n                        t.backgroundColor = \"transparent\",\n                        t.borderBottomStyle = \"solid\",\n                        t.borderLeftStyle = null;\n                    break;\n                default:\n                    t.height = \"var(--hterm-charsize-height)\",\n                        t.backgroundColor = this.cursorColor_,\n                        t.borderBottomStyle = null,\n                        t.borderLeftStyle = null\n            }\n        }\n        ,\n        o.Terminal.prototype.scheduleSyncCursorPosition_ = function() {\n            if (!this.timeouts_.syncCursor) {\n                var e = this;\n                this.timeouts_.syncCursor = setTimeout(function() {\n                    e.syncCursorPosition_(),\n                        delete e.timeouts_.syncCursor\n                }, 0)\n            }\n        }\n        ,\n        o.Terminal.prototype.showZoomWarning_ = function(e) {\n            if (!this.zoomWarningNode_) {\n                if (!e)\n                    return;\n                this.zoomWarningNode_ = this.document_.createElement(\"div\"),\n                    this.zoomWarningNode_.id = \"hterm:zoom-warning\",\n                    this.zoomWarningNode_.style.cssText = \"color: black;background-color: #ff2222;font-size: large;border-radius: 8px;opacity: 0.75;padding: 0.2em 0.5em 0.2em 0.5em;top: 0.5em;right: 1.2em;position: absolute;-webkit-text-size-adjust: none;-webkit-user-select: none;-moz-text-size-adjust: none;-moz-user-select: none;\",\n                    this.zoomWarningNode_.addEventListener(\"click\", function(e) {\n                        this.parentNode.removeChild(this)\n                    })\n            }\n            this.zoomWarningNode_.textContent = i.MessageManager.replaceReferences(o.zoomWarningMessage, [parseInt(100 * this.scrollPort_.characterSize.zoomFactor)]),\n                this.zoomWarningNode_.style.fontFamily = this.prefs_.get(\"font-family\"),\n                e ? this.zoomWarningNode_.parentNode || this.div_.parentNode.appendChild(this.zoomWarningNode_) : this.zoomWarningNode_.parentNode && this.zoomWarningNode_.parentNode.removeChild(this.zoomWarningNode_)\n        }\n        ,\n        o.Terminal.prototype.showOverlay = function(e, t) {\n            if (!this.overlayNode_) {\n                if (!this.div_)\n                    return;\n                this.overlayNode_ = this.document_.createElement(\"div\"),\n                    this.overlayNode_.style.cssText = \"border-radius: 15px;font-size: xx-large;opacity: 0.75;padding: 0.2em 0.5em 0.2em 0.5em;position: absolute;-webkit-user-select: none;-webkit-transition: opacity 180ms ease-in;-moz-user-select: none;-moz-transition: opacity 180ms ease-in;\",\n                    this.overlayNode_.addEventListener(\"mousedown\", function(e) {\n                        e.preventDefault(),\n                            e.stopPropagation()\n                    }, !0)\n            }\n            this.overlayNode_.style.color = this.prefs_.get(\"background-color\"),\n                this.overlayNode_.style.backgroundColor = this.prefs_.get(\"foreground-color\"),\n                this.overlayNode_.style.fontFamily = this.prefs_.get(\"font-family\"),\n                this.overlayNode_.textContent = e,\n                this.overlayNode_.style.opacity = \"0.75\",\n            this.overlayNode_.parentNode || this.div_.appendChild(this.overlayNode_);\n            var r = o.getClientSize(this.div_)\n                , i = o.getClientSize(this.overlayNode_);\n            this.overlayNode_.style.top = (r.height - i.height) / 2 + \"px\",\n                this.overlayNode_.style.left = (r.width - i.width - this.scrollPort_.currentScrollbarWidthPx) / 2 + \"px\";\n            var s = this;\n            this.overlayTimeout_ && clearTimeout(this.overlayTimeout_),\n            null !== t && (this.overlayTimeout_ = setTimeout(function() {\n                s.overlayNode_.style.opacity = \"0\",\n                    s.overlayTimeout_ = setTimeout(function() {\n                        s.overlayNode_.parentNode && s.overlayNode_.parentNode.removeChild(s.overlayNode_),\n                            s.overlayTimeout_ = null,\n                            s.overlayNode_.style.opacity = \"0.75\"\n                    }, 200)\n            }, t || 1500))\n        }\n        ,\n        o.Terminal.prototype.paste = function() {\n            return o.pasteFromClipboard(this.document_)\n        }\n        ,\n        o.Terminal.prototype.copyStringToClipboard = function(e) {\n            this.prefs_.get(\"enable-clipboard-notice\") && setTimeout(this.showOverlay.bind(this, o.notifyCopyMessage, 500), 200);\n            var t = this.document_.createElement(\"pre\");\n            t.id = \"hterm:copy-to-clipboard-source\",\n                t.textContent = e,\n                t.style.cssText = \"-webkit-user-select: text;-moz-user-select: text;position: absolute;top: -99px\",\n                this.document_.body.appendChild(t);\n            var r = this.document_.getSelection()\n                , i = r.anchorNode\n                , s = r.anchorOffset\n                , n = r.focusNode\n                , a = r.focusOffset;\n            r.selectAllChildren(t),\n                o.copySelectionToClipboard(this.document_),\n            r.extend && (r.collapse(i, s),\n                r.extend(n, a)),\n                t.parentNode.removeChild(t)\n        }\n        ,\n        o.Terminal.prototype.getSelectionText = function() {\n            var e = this.scrollPort_.selection;\n            if (e.sync(),\n                e.isCollapsed)\n                return null;\n            var t = e.startOffset\n                , r = e.startNode;\n            if (\"X-ROW\" != r.nodeName)\n                for (\"#text\" == r.nodeName && \"SPAN\" == r.parentNode.nodeName && (r = r.parentNode); r.previousSibling; )\n                    r = r.previousSibling,\n                        t += o.TextAttributes.nodeWidth(r);\n            var s = o.TextAttributes.nodeWidth(e.endNode) - e.endOffset;\n            if (\"X-ROW\" != (r = e.endNode).nodeName)\n                for (\"#text\" == r.nodeName && \"SPAN\" == r.parentNode.nodeName && (r = r.parentNode); r.nextSibling; )\n                    r = r.nextSibling,\n                        s += o.TextAttributes.nodeWidth(r);\n            var n = this.getRowsText(e.startRow.rowIndex, e.endRow.rowIndex + 1);\n            return i.wc.substring(n, t, i.wc.strWidth(n) - s)\n        }\n        ,\n        o.Terminal.prototype.copySelectionToClipboard = function() {\n            var e = this.getSelectionText();\n            null != e && this.copyStringToClipboard(e)\n        }\n        ,\n        o.Terminal.prototype.overlaySize = function() {\n            this.showOverlay(this.screenSize.width + \"x\" + this.screenSize.height)\n        }\n        ,\n        o.Terminal.prototype.onVTKeystroke = function(e) {\n            this.scrollOnKeystroke_ && this.scrollPort_.scrollRowToBottom(this.getRowCount()),\n                this.io.onVTKeystroke(this.keyboard.encode(e))\n        }\n        ,\n        o.Terminal.prototype.openUrl = function(e) {\n            window.chrome && window.chrome.browser ? chrome.browser.openTab({\n                url: e\n            }) : window.open(e, \"_blank\").focus()\n        }\n        ,\n        o.Terminal.prototype.openSelectedUrl_ = function() {\n            var e = this.getSelectionText();\n            if ((null != e || (this.screen_.expandSelection(this.document_.getSelection()),\n            null != (e = this.getSelectionText()))) && !(e.length > 2048 || e.search(/[\\s\\[\\](){}<>\"'\\\\^`]/) >= 0)) {\n                if (e.search(\"^[a-zA-Z][a-zA-Z0-9+.-]*://\") < 0)\n                    switch (e.split(\":\", 1)[0]) {\n                        case \"mailto\":\n                            break;\n                        default:\n                            e = \"http://\" + e\n                    }\n                this.openUrl(e)\n            }\n        }\n        ,\n        o.Terminal.prototype.onMouse_ = function(e) {\n            if (!e.processedByTerminalHandler_) {\n                var t = !this.defeatMouseReports_ && this.vt.mouseReport != this.vt.MOUSE_REPORT_DISABLED;\n                if (e.processedByTerminalHandler_ = !0,\n                    e.terminalRow = parseInt((e.clientY - this.scrollPort_.visibleRowTopMargin) / this.scrollPort_.characterSize.height) + 1,\n                    e.terminalColumn = parseInt(e.clientX / this.scrollPort_.characterSize.width) + 1,\n                    !(\"mousedown\" == e.type && e.terminalColumn > this.screenSize.width)) {\n                    if (this.options_.cursorVisible && !t && (e.terminalRow - 1 == this.screen_.cursorPosition.row && e.terminalColumn - 1 == this.screen_.cursorPosition.column ? this.cursorNode_.style.display = \"none\" : \"none\" == this.cursorNode_.style.display && (this.cursorNode_.style.display = \"\")),\n                    \"mousedown\" == e.type && (e.altKey || !t ? (this.defeatMouseReports_ = !0,\n                        this.setSelectionEnabled(!0)) : (this.defeatMouseReports_ = !1,\n                        this.document_.getSelection().collapseToEnd(),\n                        this.setSelectionEnabled(!1),\n                        e.preventDefault())),\n                        t)\n                        this.scrollBlockerNode_.engaged || (\"mousedown\" == e.type ? (this.scrollBlockerNode_.engaged = !0,\n                            this.scrollBlockerNode_.style.top = e.clientY - 5 + \"px\",\n                            this.scrollBlockerNode_.style.left = e.clientX - 5 + \"px\") : \"mousemove\" == e.type && (this.document_.getSelection().collapseToEnd(),\n                            e.preventDefault())),\n                            this.onMouse(e);\n                    else {\n                        if (\"dblclick\" == e.type && this.copyOnSelect && (this.screen_.expandSelection(this.document_.getSelection()),\n                            this.copySelectionToClipboard(this.document_)),\n                        \"click\" == e.type && !e.shiftKey && (e.ctrlKey || e.metaKey))\n                            return clearTimeout(this.timeouts_.openUrl),\n                                void (this.timeouts_.openUrl = setTimeout(this.openSelectedUrl_.bind(this), 500));\n                        if (\"mousedown\" == e.type && (this.mouseRightClickPaste && 2 == e.button || e.button == this.mousePasteButton) && (this.paste() || console.warning(\"Could not paste manually due to web restrictions\")),\n                        \"mouseup\" == e.type && 0 == e.button && this.copyOnSelect && !this.document_.getSelection().isCollapsed && this.copySelectionToClipboard(this.document_),\n                        \"mousemove\" != e.type && \"mouseup\" != e.type || !this.scrollBlockerNode_.engaged || (this.scrollBlockerNode_.engaged = !1,\n                            this.scrollBlockerNode_.style.top = \"-99px\"),\n                        this.scrollWheelArrowKeys_ && !e.shiftKey && this.keyboard.applicationCursor && !this.isPrimaryScreen() && \"wheel\" == e.type) {\n                            var r = this.scrollPort_.scrollWheelDelta(e)\n                                , o = i.f.smartFloorDivide(Math.abs(r), this.scrollPort_.characterSize.height)\n                                , s = \"\u001BO\" + (r < 0 ? \"B\" : \"A\");\n                            this.io.sendString(s.repeat(o)),\n                                e.preventDefault()\n                        }\n                    }\n                    \"mouseup\" == e.type && this.document_.getSelection().isCollapsed && (this.defeatMouseReports_ = !1)\n                }\n            }\n        }\n        ,\n        o.Terminal.prototype.onMouse = function(e) {}\n        ,\n        o.Terminal.prototype.onFocusChange_ = function(e) {\n            this.cursorNode_.setAttribute(\"focus\", e),\n                this.restyleCursor_(),\n            !0 === e && this.closeBellNotifications_()\n        }\n        ,\n        o.Terminal.prototype.onScroll_ = function() {\n            this.scheduleSyncCursorPosition_()\n        }\n        ,\n        o.Terminal.prototype.onPaste_ = function(e) {\n            var t = e.text.replace(/\\n/gm, \"\\r\");\n            t = this.keyboard.encode(t),\n            this.options_.bracketedPaste && (t = \"\u001B[200~\" + t + \"\u001B[201~\"),\n                this.io.sendString(t)\n        }\n        ,\n        o.Terminal.prototype.onCopy_ = function(e) {\n            this.useDefaultWindowCopy || (e.preventDefault(),\n                setTimeout(this.copySelectionToClipboard.bind(this), 0))\n        }\n        ,\n        o.Terminal.prototype.onResize_ = function() {\n            var e = Math.floor(this.scrollPort_.getScreenWidth() / this.scrollPort_.characterSize.width) || 0\n                , t = i.f.smartFloorDivide(this.scrollPort_.getScreenHeight(), this.scrollPort_.characterSize.height) || 0;\n            if (!(e <= 0 || t <= 0)) {\n                var r = e != this.screenSize.width || t != this.screenSize.height;\n                this.realizeSize_(e, t),\n                    this.showZoomWarning_(1 != this.scrollPort_.characterSize.zoomFactor),\n                r && this.overlaySize(),\n                    this.restyleCursor_(),\n                    this.scheduleSyncCursorPosition_()\n            }\n        }\n        ,\n        o.Terminal.prototype.onCursorBlink_ = function() {\n            this.options_.cursorBlink ? \"false\" == this.cursorNode_.getAttribute(\"focus\") || \"0\" == this.cursorNode_.style.opacity ? (this.cursorNode_.style.opacity = \"1\",\n                this.timeouts_.cursorBlink = setTimeout(this.myOnCursorBlink_, this.cursorBlinkCycle_[0])) : (this.cursorNode_.style.opacity = \"0\",\n                this.timeouts_.cursorBlink = setTimeout(this.myOnCursorBlink_, this.cursorBlinkCycle_[1])) : delete this.timeouts_.cursorBlink\n        }\n        ,\n        o.Terminal.prototype.setScrollbarVisible = function(e) {\n            this.scrollPort_.setScrollbarVisible(e)\n        }\n        ,\n        o.Terminal.prototype.setScrollWheelMoveMultipler = function(e) {\n            this.scrollPort_.setScrollWheelMoveMultipler(e)\n        }\n        ,\n        o.Terminal.prototype.closeBellNotifications_ = function() {\n            this.bellNotificationList_.forEach(function(e) {\n                e.close()\n            }),\n                this.bellNotificationList_.length = 0\n        }\n        ,\n        i.rtdep(\"lib.encodeUTF8\"),\n        o.Terminal.IO = function(e) {\n            this.terminal_ = e,\n                this.previousIO_ = null\n        }\n        ,\n        o.Terminal.IO.prototype.showOverlay = function(e, t) {\n            this.terminal_.showOverlay(e, t)\n        }\n        ,\n        o.Terminal.IO.prototype.createFrame = function(e, t) {\n            return new o.Frame(this.terminal_,e,t)\n        }\n        ,\n        o.Terminal.IO.prototype.setTerminalProfile = function(e) {\n            this.terminal_.setProfile(e)\n        }\n        ,\n        o.Terminal.IO.prototype.push = function() {\n            var e = new o.Terminal.IO(this.terminal_);\n            return e.keyboardCaptured_ = this.keyboardCaptured_,\n                e.columnCount = this.columnCount,\n                e.rowCount = this.rowCount,\n                e.previousIO_ = this.terminal_.io,\n                this.terminal_.io = e,\n                e\n        }\n        ,\n        o.Terminal.IO.prototype.pop = function() {\n            this.terminal_.io = this.previousIO_\n        }\n        ,\n        o.Terminal.IO.prototype.sendString = function(e) {\n            console.log(\"Unhandled sendString: \" + e)\n        }\n        ,\n        o.Terminal.IO.prototype.onVTKeystroke = function(e) {\n            console.log(\"Unobserverd VT keystroke: \" + JSON.stringify(e))\n        }\n        ,\n        o.Terminal.IO.prototype.onTerminalResize_ = function(e, t) {\n            for (var r = this; r; )\n                r.columnCount = e,\n                    r.rowCount = t,\n                    r = r.previousIO_;\n            this.onTerminalResize(e, t)\n        }\n        ,\n        o.Terminal.IO.prototype.onTerminalResize = function(e, t) {}\n        ,\n        o.Terminal.IO.prototype.writeUTF8 = function(e) {\n            if (this.terminal_.io != this)\n                throw \"Attempt to print from inactive IO object.\";\n            this.terminal_.interpret(e)\n        }\n        ,\n        o.Terminal.IO.prototype.writelnUTF8 = function(e) {\n            if (this.terminal_.io != this)\n                throw \"Attempt to print from inactive IO object.\";\n            this.terminal_.interpret(e + \"\\r\\n\")\n        }\n        ,\n        o.Terminal.IO.prototype.print = o.Terminal.IO.prototype.writeUTF16 = function(e) {\n            this.writeUTF8(i.encodeUTF8(e))\n        }\n        ,\n        o.Terminal.IO.prototype.println = o.Terminal.IO.prototype.writelnUTF16 = function(e) {\n            this.writelnUTF8(i.encodeUTF8(e))\n        }\n        ,\n        i.rtdep(\"lib.colors\"),\n        o.TextAttributes = function(e) {\n            this.document_ = e,\n                this.foregroundSource = this.SRC_DEFAULT,\n                this.backgroundSource = this.SRC_DEFAULT,\n                this.foreground = this.DEFAULT_COLOR,\n                this.background = this.DEFAULT_COLOR,\n                this.defaultForeground = \"rgb(255, 255, 255)\",\n                this.defaultBackground = \"rgb(0, 0, 0)\",\n                this.bold = !1,\n                this.faint = !1,\n                this.italic = !1,\n                this.blink = !1,\n                this.underline = !1,\n                this.strikethrough = !1,\n                this.inverse = !1,\n                this.invisible = !1,\n                this.wcNode = !1,\n                this.asciiNode = !0,\n                this.tileData = null,\n                this.colorPalette = null,\n                this.resetColorPalette()\n        }\n        ,\n        o.TextAttributes.prototype.enableBold = !0,\n        o.TextAttributes.prototype.enableBoldAsBright = !0,\n        o.TextAttributes.prototype.DEFAULT_COLOR = i.f.createEnum(\"\"),\n        o.TextAttributes.prototype.SRC_DEFAULT = \"default\",\n        o.TextAttributes.prototype.SRC_RGB = \"rgb\",\n        o.TextAttributes.prototype.setDocument = function(e) {\n            this.document_ = e\n        }\n        ,\n        o.TextAttributes.prototype.clone = function() {\n            var e = new o.TextAttributes(null);\n            for (var t in this)\n                e[t] = this[t];\n            return e.colorPalette = this.colorPalette.concat(),\n                e\n        }\n        ,\n        o.TextAttributes.prototype.reset = function() {\n            this.foregroundSource = this.SRC_DEFAULT,\n                this.backgroundSource = this.SRC_DEFAULT,\n                this.foreground = this.DEFAULT_COLOR,\n                this.background = this.DEFAULT_COLOR,\n                this.bold = !1,\n                this.faint = !1,\n                this.italic = !1,\n                this.blink = !1,\n                this.underline = !1,\n                this.strikethrough = !1,\n                this.inverse = !1,\n                this.invisible = !1,\n                this.wcNode = !1,\n                this.asciiNode = !0\n        }\n        ,\n        o.TextAttributes.prototype.resetColorPalette = function() {\n            this.colorPalette = i.colors.colorPalette.concat(),\n                this.syncColors()\n        }\n        ,\n        o.TextAttributes.prototype.isDefault = function() {\n            return this.foregroundSource == this.SRC_DEFAULT && this.backgroundSource == this.SRC_DEFAULT && !this.bold && !this.faint && !this.italic && !this.blink && !this.underline && !this.strikethrough && !this.inverse && !this.invisible && !this.wcNode && this.asciiNode && null == this.tileData\n        }\n        ,\n        o.TextAttributes.prototype.createContainer = function(e) {\n            if (this.isDefault())\n                return this.document_.createTextNode(e);\n            var t = this.document_.createElement(\"span\")\n                , r = t.style\n                , i = [];\n            this.foreground != this.DEFAULT_COLOR && (r.color = this.foreground),\n            this.background != this.DEFAULT_COLOR && (r.backgroundColor = this.background),\n            this.enableBold && this.bold && (r.fontWeight = \"bold\"),\n            this.faint && (t.faint = !0),\n            this.italic && (r.fontStyle = \"italic\"),\n            this.blink && (i.push(\"blink-node\"),\n                t.blinkNode = !0);\n            var o = \"\";\n            return this.underline && (o += \" underline\",\n                t.underline = !0),\n            this.strikethrough && (o += \" line-through\",\n                t.strikethrough = !0),\n            o && (r.textDecoration = o),\n            this.wcNode && (i.push(\"wc-node\"),\n                t.wcNode = !0,\n                t.asciiNode = !1),\n            null != this.tileData && (i.push(\"tile\"),\n                i.push(\"tile_\" + this.tileData),\n                t.tileNode = !0),\n            e && (t.textContent = e),\n            i.length && (t.className = i.join(\" \")),\n                t\n        }\n        ,\n        o.TextAttributes.prototype.matchesContainer = function(e) {\n            if (\"string\" == typeof e || 3 == e.nodeType)\n                return this.isDefault();\n            var t = e.style;\n            return !(this.wcNode || e.wcNode || this.asciiNode != this.asciiNode || null != this.tileData || e.tileNode || this.foreground != t.color || this.background != t.backgroundColor || (this.enableBold && this.bold) != !!t.fontWeight || this.blink != e.blinkNode || this.italic != !!t.fontStyle || !!this.underline != !!e.underline || !!this.strikethrough != !!e.strikethrough)\n        }\n        ,\n        o.TextAttributes.prototype.setDefaults = function(e, t) {\n            this.defaultForeground = e,\n                this.defaultBackground = t,\n                this.syncColors()\n        }\n        ,\n        o.TextAttributes.prototype.syncColors = function() {\n            var e = this.foregroundSource\n                , t = this.backgroundSource\n                , r = this.DEFAULT_COLOR\n                , o = this.DEFAULT_COLOR;\n            if (this.inverse && (e = this.backgroundSource,\n                t = this.foregroundSource,\n                r = this.defaultBackground,\n                o = this.defaultForeground),\n            this.enableBoldAsBright && this.bold && e != this.SRC_DEFAULT && e != this.SRC_RGB && (e = function(e) {\n                return e < 8 ? e + 8 : e\n            }(e)),\n            this.invisible && (e = t,\n                r = this.defaultBackground),\n            e != this.SRC_RGB && (this.foreground = e == this.SRC_DEFAULT ? r : this.colorPalette[e]),\n            this.faint && !this.invisible) {\n                var s = this.foreground == this.DEFAULT_COLOR ? this.defaultForeground : this.foreground;\n                this.foreground = i.colors.mix(s, \"rgb(0, 0, 0)\", .3333)\n            }\n            t != this.SRC_RGB && (this.background = t == this.SRC_DEFAULT ? o : this.colorPalette[t])\n        }\n        ,\n        o.TextAttributes.containersMatch = function(e, t) {\n            if (\"string\" == typeof e)\n                return o.TextAttributes.containerIsDefault(t);\n            if (e.nodeType != t.nodeType)\n                return !1;\n            if (3 == e.nodeType)\n                return !0;\n            var r = e.style\n                , i = t.style;\n            return r.color == i.color && r.backgroundColor == i.backgroundColor && r.fontWeight == i.fontWeight && r.fontStyle == i.fontStyle && r.textDecoration == i.textDecoration\n        }\n        ,\n        o.TextAttributes.containerIsDefault = function(e) {\n            return \"string\" == typeof e || 3 == e.nodeType\n        }\n        ,\n        o.TextAttributes.nodeWidth = function(e) {\n            return e.asciiNode ? e.textContent.length : i.wc.strWidth(e.textContent)\n        }\n        ,\n        o.TextAttributes.nodeSubstr = function(e, t, r) {\n            return e.asciiNode ? e.textContent.substr(t, r) : i.wc.substr(e.textContent, t, r)\n        }\n        ,\n        o.TextAttributes.nodeSubstring = function(e, t, r) {\n            return e.asciiNode ? e.textContent.substring(t, r) : i.wc.substring(e.textContent, t, r)\n        }\n        ,\n        o.TextAttributes.splitWidecharString = function(e) {\n            for (var t = [], r = 0, o = 0, s = !0, n = 0; n < e.length; ) {\n                var a = e.codePointAt(n)\n                    , l = a <= 65535 ? 1 : 2;\n                a < 128 ? o += l : i.wc.charWidth(a) <= 1 ? (o += l,\n                    s = !1) : (o && (t.push({\n                    str: e.substr(r, o),\n                    asciiNode: s\n                }),\n                    s = !0),\n                    t.push({\n                        str: e.substr(n, l),\n                        wcNode: !0,\n                        asciiNode: !1\n                    }),\n                    r = n + l,\n                    o = 0),\n                    n += l\n            }\n            return o && t.push({\n                str: e.substr(r, o),\n                asciiNode: s\n            }),\n                t\n        }\n        ,\n        i.rtdep(\"lib.colors\", \"lib.f\", \"lib.UTF8Decoder\", \"hterm.VT.CharacterMap\"),\n        o.VT = function(e) {\n            this.terminal = e,\n                e.onMouse = this.onTerminalMouse_.bind(this),\n                this.mouseReport = this.MOUSE_REPORT_DISABLED,\n                this.parseState_ = new o.VT.ParseState(this.parseUnknown_),\n                this.leadingModifier_ = \"\",\n                this.trailingModifier_ = \"\",\n                this.allowColumnWidthChanges_ = !1,\n                this.oscTimeLimit_ = 2e4,\n                this.utf8Decoder_ = new i.UTF8Decoder,\n                this.enable8BitControl = !1,\n                this.enableClipboardWrite = !0,\n                this.enableDec12 = !1,\n                this.characterEncoding = \"utf-8\",\n                this.maxStringSequence = 1024,\n                this.warnUnimplemented = !0,\n                this.characterMaps = new o.VT.CharacterMaps,\n                this.G0 = this.G1 = this.G2 = this.G3 = this.characterMaps.getMap(\"B\"),\n                this.GL = \"G0\",\n                this.GR = \"G0\",\n                this.codingSystemUtf8_ = !1,\n                this.codingSystemLocked_ = !1,\n                this.cc1Pattern_ = null,\n                this.updateEncodingState_(),\n                this.savedState_ = new o.VT.CursorState(this)\n        }\n        ,\n        o.VT.prototype.MOUSE_REPORT_DISABLED = 0,\n        o.VT.prototype.MOUSE_REPORT_CLICK = 1,\n        o.VT.prototype.MOUSE_REPORT_DRAG = 3,\n        o.VT.ParseState = function(e, t) {\n            this.defaultFunction = e,\n                this.buf = t || null,\n                this.pos = 0,\n                this.func = e,\n                this.args = []\n        }\n        ,\n        o.VT.ParseState.prototype.reset = function(e) {\n            this.resetParseFunction(),\n                this.resetBuf(e || \"\"),\n                this.resetArguments()\n        }\n        ,\n        o.VT.ParseState.prototype.resetParseFunction = function() {\n            this.func = this.defaultFunction\n        }\n        ,\n        o.VT.ParseState.prototype.resetBuf = function(e) {\n            this.buf = \"string\" == typeof e ? e : null,\n                this.pos = 0\n        }\n        ,\n        o.VT.ParseState.prototype.resetArguments = function(e) {\n            this.args.length = 0,\n            void 0 !== e && (this.args[0] = e)\n        }\n        ,\n        o.VT.ParseState.prototype.iarg = function(e, t) {\n            var r = this.args[e];\n            if (r) {\n                var i = parseInt(r, 10);\n                return 0 == i && (i = t),\n                    i\n            }\n            return t\n        }\n        ,\n        o.VT.ParseState.prototype.advance = function(e) {\n            this.pos += e\n        }\n        ,\n        o.VT.ParseState.prototype.peekRemainingBuf = function() {\n            return this.buf.substr(this.pos)\n        }\n        ,\n        o.VT.ParseState.prototype.peekChar = function() {\n            return this.buf.substr(this.pos, 1)\n        }\n        ,\n        o.VT.ParseState.prototype.consumeChar = function() {\n            return this.buf.substr(this.pos++, 1)\n        }\n        ,\n        o.VT.ParseState.prototype.isComplete = function() {\n            return null == this.buf || this.buf.length <= this.pos\n        }\n        ,\n        o.VT.CursorState = function(e) {\n            this.vt_ = e,\n                this.save()\n        }\n        ,\n        o.VT.CursorState.prototype.save = function() {\n            this.cursor = this.vt_.terminal.saveCursor(),\n                this.textAttributes = this.vt_.terminal.getTextAttributes().clone(),\n                this.GL = this.vt_.GL,\n                this.GR = this.vt_.GR,\n                this.G0 = this.vt_.G0,\n                this.G1 = this.vt_.G1,\n                this.G2 = this.vt_.G2,\n                this.G3 = this.vt_.G3\n        }\n        ,\n        o.VT.CursorState.prototype.restore = function() {\n            this.vt_.terminal.restoreCursor(this.cursor),\n                this.vt_.terminal.setTextAttributes(this.textAttributes.clone()),\n                this.vt_.GL = this.GL,\n                this.vt_.GR = this.GR,\n                this.vt_.G0 = this.G0,\n                this.vt_.G1 = this.G1,\n                this.vt_.G2 = this.G2,\n                this.vt_.G3 = this.G3\n        }\n        ,\n        o.VT.prototype.reset = function() {\n            this.G0 = this.characterMaps.getMap(\"B\"),\n                this.G1 = this.characterMaps.getMap(\"0\"),\n                this.G2 = this.characterMaps.getMap(\"B\"),\n                this.G3 = this.characterMaps.getMap(\"B\"),\n                this.GL = \"G0\",\n                this.GR = \"G0\",\n                this.savedState_ = new o.VT.CursorState(this),\n                this.mouseReport = this.MOUSE_REPORT_DISABLED\n        }\n        ,\n        o.VT.prototype.onTerminalMouse_ = function(e) {\n            if (this.mouseReport != this.MOUSE_REPORT_DISABLED) {\n                var t, r = 0;\n                e.shiftKey && (r |= 4),\n                (e.metaKey || this.terminal.keyboard.altIsMeta && e.altKey) && (r |= 8),\n                e.ctrlKey && (r |= 16);\n                var o = String.fromCharCode(i.f.clamp(e.terminalColumn + 32, 32, 255))\n                    , s = String.fromCharCode(i.f.clamp(e.terminalRow + 32, 32, 255));\n                switch (e.type) {\n                    case \"wheel\":\n                        n = 96 + (-1 * e.deltaY > 0 ? 0 : 1),\n                            n |= r,\n                            t = \"\u001B[M\" + String.fromCharCode(n) + o + s,\n                            e.preventDefault();\n                        break;\n                    case \"mousedown\":\n                        var n = Math.min(e.button, 2) + 32;\n                        n |= r,\n                            t = \"\u001B[M\" + String.fromCharCode(n) + o + s;\n                        break;\n                    case \"mouseup\":\n                        t = \"\u001B[M#\" + o + s;\n                        break;\n                    case \"mousemove\":\n                        this.mouseReport == this.MOUSE_REPORT_DRAG && e.buttons && (n = 32,\n                            1 & e.buttons ? n += 0 : 4 & e.buttons ? n += 1 : 2 & e.buttons ? n += 2 : n += 3,\n                            n += 32,\n                            n |= r,\n                            t = \"\u001B[M\" + String.fromCharCode(n) + o + s);\n                        break;\n                    case \"click\":\n                    case \"dblclick\":\n                        break;\n                    default:\n                        console.error(\"Unknown mouse event: \" + e.type, e)\n                }\n                t && this.terminal.io.sendString(t)\n            }\n        }\n        ,\n        o.VT.prototype.interpret = function(e) {\n            for (this.parseState_.resetBuf(this.decode(e)); !this.parseState_.isComplete(); ) {\n                var t = this.parseState_.func\n                    , r = this.parseState_.pos\n                    , e = this.parseState_.buf;\n                if (this.parseState_.func.call(this, this.parseState_),\n                this.parseState_.func == t && this.parseState_.pos == r && this.parseState_.buf == e)\n                    throw \"Parser did not alter the state!\"\n            }\n        }\n        ,\n        o.VT.prototype.decode = function(e) {\n            return \"utf-8\" == this.characterEncoding ? this.decodeUTF8(e) : e\n        }\n        ,\n        o.VT.prototype.encodeUTF8 = function(e) {\n            return i.encodeUTF8(e)\n        }\n        ,\n        o.VT.prototype.decodeUTF8 = function(e) {\n            return this.utf8Decoder_.decode(e)\n        }\n        ,\n        o.VT.prototype.setEncoding = function(e) {\n            switch (e) {\n                default:\n                    console.warn('Invalid value for \"terminal-encoding\": ' + e);\n                case \"iso-2022\":\n                    this.codingSystemUtf8_ = !1,\n                        this.codingSystemLocked_ = !1;\n                    break;\n                case \"utf-8-locked\":\n                    this.codingSystemUtf8_ = !0,\n                        this.codingSystemLocked_ = !0;\n                    break;\n                case \"utf-8\":\n                    this.codingSystemUtf8_ = !0,\n                        this.codingSystemLocked_ = !1\n            }\n            this.updateEncodingState_()\n        }\n        ,\n        o.VT.prototype.updateEncodingState_ = function() {\n            var e = Object.keys(o.VT.CC1).filter(e=>!this.codingSystemUtf8_ || e.charCodeAt() < 128).map(e=>\"\\\\x\" + i.f.zpad(e.charCodeAt().toString(16), 2)).join(\"\");\n            this.cc1Pattern_ = new RegExp(`[${e}]`)\n        }\n        ,\n        o.VT.prototype.parseUnknown_ = function(e) {\n            function t(e) {\n                !r.codingSystemUtf8_ && r[r.GL].GL && (e = r[r.GL].GL(e)),\n                    r.terminal.print(e)\n            }\n            var r = this\n                , i = e.peekRemainingBuf()\n                , o = i.search(this.cc1Pattern_);\n            return 0 == o ? (this.dispatch(\"CC1\", i.substr(0, 1), e),\n                void e.advance(1)) : -1 == o ? (t(i),\n                void e.reset()) : (t(i.substr(0, o)),\n                this.dispatch(\"CC1\", i.substr(o, 1), e),\n                void e.advance(o + 1))\n        }\n        ,\n        o.VT.prototype.parseCSI_ = function(e) {\n            var t = e.peekChar()\n                , r = e.args;\n            t >= \"@\" && t <= \"~\" ? (this.dispatch(\"CSI\", this.leadingModifier_ + this.trailingModifier_ + t, e),\n                e.resetParseFunction()) : \";\" == t ? this.trailingModifier_ ? e.resetParseFunction() : (r.length || r.push(\"\"),\n                r.push(\"\")) : t >= \"0\" && t <= \"9\" ? this.trailingModifier_ ? e.resetParseFunction() : r.length ? r[r.length - 1] += t : r[0] = t : t >= \" \" && t <= \"?\" && \":\" != t ? r.length ? this.trailingModifier_ += t : this.leadingModifier_ += t : this.cc1Pattern_.test(t) ? this.dispatch(\"CC1\", t, e) : e.resetParseFunction(),\n                e.advance(1)\n        }\n        ,\n        o.VT.prototype.parseUntilStringTerminator_ = function(e) {\n            var t = e.peekRemainingBuf()\n                , r = t.search(/(\\x1b\\\\|\\x07)/)\n                , i = e.args;\n            if (i.length || (i[0] = \"\",\n                i[1] = new Date),\n            -1 == r) {\n                i[0] += t;\n                var o;\n                return i[0].length > this.maxStringSequence && (o = \"too long: \" + i[0].length),\n                -1 != i[0].indexOf(\"\u001B\") && (o = \"embedded escape: \" + i[0].indexOf(\"\u001B\")),\n                new Date - i[1] > this.oscTimeLimit_ && (o = \"timeout expired: \" + new Date - i[1]),\n                    o ? (console.log(\"parseUntilStringTerminator_: aborting: \" + o, i[0]),\n                        e.reset(i[0]),\n                        !1) : (e.advance(t.length),\n                        !0)\n            }\n            return i[0].length + r > this.maxStringSequence ? (e.reset(i[0] + t),\n                !1) : (i[0] += t.substr(0, r),\n                e.resetParseFunction(),\n                e.advance(r + (\"\u001B\" == t.substr(r, 1) ? 2 : 1)),\n                !0)\n        }\n        ,\n        o.VT.prototype.dispatch = function(e, t, r) {\n            var i = o.VT[e][t];\n            i ? i != o.VT.ignore ? \"CC1\" == e && t > \"\u007F\" && !this.enable8BitControl ? console.warn(\"Ignoring 8-bit control code: 0x\" + t.charCodeAt(0).toString(16)) : i.apply(this, [r, t]) : this.warnUnimplemented && console.warn(\"Ignored \" + e + \" code: \" + JSON.stringify(t)) : this.warnUnimplemented && console.warn(\"Unknown \" + e + \" code: \" + JSON.stringify(t))\n        }\n        ,\n        o.VT.prototype.setANSIMode = function(e, t) {\n            4 == e ? this.terminal.setInsertMode(t) : 20 == e ? this.terminal.setAutoCarriageReturn(t) : this.warnUnimplemented && console.warn(\"Unimplemented ANSI Mode: \" + e)\n        }\n        ,\n        o.VT.prototype.setDECMode = function(e, t) {\n            switch (parseInt(e, 10)) {\n                case 1:\n                    this.terminal.keyboard.applicationCursor = t;\n                    break;\n                case 3:\n                    this.allowColumnWidthChanges_ && (this.terminal.setWidth(t ? 132 : 80),\n                        this.terminal.clearHome(),\n                        this.terminal.setVTScrollRegion(null, null));\n                    break;\n                case 5:\n                    this.terminal.setReverseVideo(t);\n                    break;\n                case 6:\n                    this.terminal.setOriginMode(t);\n                    break;\n                case 7:\n                    this.terminal.setWraparound(t);\n                    break;\n                case 12:\n                    this.enableDec12 && this.terminal.setCursorBlink(t);\n                    break;\n                case 25:\n                    this.terminal.setCursorVisible(t);\n                    break;\n                case 30:\n                    this.terminal.setScrollbarVisible(t);\n                    break;\n                case 40:\n                    this.terminal.allowColumnWidthChanges_ = t;\n                    break;\n                case 45:\n                    this.terminal.setReverseWraparound(t);\n                    break;\n                case 67:\n                    this.terminal.keyboard.backspaceSendsBackspace = t;\n                    break;\n                case 1e3:\n                    this.mouseReport = t ? this.MOUSE_REPORT_CLICK : this.MOUSE_REPORT_DISABLED,\n                        this.terminal.syncMouseStyle();\n                    break;\n                case 1002:\n                    this.mouseReport = t ? this.MOUSE_REPORT_DRAG : this.MOUSE_REPORT_DISABLED,\n                        this.terminal.syncMouseStyle();\n                    break;\n                case 1010:\n                    this.terminal.scrollOnOutput = t;\n                    break;\n                case 1011:\n                    this.terminal.scrollOnKeystroke = t;\n                    break;\n                case 1036:\n                    this.terminal.keyboard.metaSendsEscape = t;\n                    break;\n                case 1039:\n                    t ? this.terminal.keyboard.previousAltSendsWhat_ || (this.terminal.keyboard.previousAltSendsWhat_ = this.terminal.keyboard.altSendsWhat,\n                        this.terminal.keyboard.altSendsWhat = \"escape\") : this.terminal.keyboard.previousAltSendsWhat_ && (this.terminal.keyboard.altSendsWhat = this.terminal.keyboard.previousAltSendsWhat_,\n                        this.terminal.keyboard.previousAltSendsWhat_ = null);\n                    break;\n                case 47:\n                case 1047:\n                    this.terminal.setAlternateMode(t);\n                    break;\n                case 1048:\n                    this.savedState_.save();\n                case 1049:\n                    t ? (this.savedState_.save(),\n                        this.terminal.setAlternateMode(t),\n                        this.terminal.clear()) : (this.terminal.setAlternateMode(t),\n                        this.savedState_.restore());\n                    break;\n                case 2004:\n                    this.terminal.setBracketedPaste(t);\n                    break;\n                default:\n                    this.warnUnimplemented && console.warn(\"Unimplemented DEC Private Mode: \" + e)\n            }\n        }\n        ,\n        o.VT.ignore = function() {}\n        ,\n        o.VT.CC1 = {},\n        o.VT.ESC = {},\n        o.VT.CSI = {},\n        o.VT.OSC = {},\n        o.VT.VT52 = {},\n        o.VT.CC1[\"\\0\"] = o.VT.ignore,\n        o.VT.CC1[\"\u0005\"] = o.VT.ignore,\n        o.VT.CC1[\"\a\"] = function() {\n            this.terminal.ringBell()\n        }\n        ,\n        o.VT.CC1[\"\\b\"] = function() {\n            this.terminal.cursorLeft(1)\n        }\n        ,\n        o.VT.CC1[\"\\t\"] = function() {\n            this.terminal.forwardTabStop()\n        }\n        ,\n        o.VT.CC1[\"\\n\"] = function() {\n            this.terminal.formFeed()\n        }\n        ,\n        o.VT.CC1[\"\\v\"] = o.VT.CC1[\"\\n\"],\n        o.VT.CC1[\"\\f\"] = o.VT.CC1[\"\\n\"],\n        o.VT.CC1[\"\\r\"] = function() {\n            this.terminal.setCursorColumn(0)\n        }\n        ,\n        o.VT.CC1[\"\u000E\"] = function() {\n            this.GL = \"G1\"\n        }\n        ,\n        o.VT.CC1[\"\u000F\"] = function() {\n            this.GL = \"G0\"\n        }\n        ,\n        o.VT.CC1[\"\u0011\"] = o.VT.ignore,\n        o.VT.CC1[\"\u0013\"] = o.VT.ignore,\n        o.VT.CC1[\"\u0018\"] = function(e) {\n            \"G1\" == this.GL && (this.GL = \"G0\"),\n                e.resetParseFunction(),\n                this.terminal.print(\"?\")\n        }\n        ,\n        o.VT.CC1[\"\u001A\"] = o.VT.CC1[\"\u0018\"],\n        o.VT.CC1[\"\u001B\"] = function(e) {\n            function t(e) {\n                var r = e.consumeChar();\n                \"\u001B\" != r && (this.dispatch(\"ESC\", r, e),\n                e.func == t && e.resetParseFunction())\n            }\n            e.func = t\n        }\n        ,\n        o.VT.CC1[\"\u007F\"] = o.VT.ignore,\n        o.VT.CC1[\"\u0084\"] = o.VT.ESC.D = function() {\n            this.terminal.lineFeed()\n        }\n        ,\n        o.VT.CC1[\"\u0085\"] = o.VT.ESC.E = function() {\n            this.terminal.setCursorColumn(0),\n                this.terminal.cursorDown(1)\n        }\n        ,\n        o.VT.CC1[\"\u0088\"] = o.VT.ESC.H = function() {\n            this.terminal.setTabStop(this.terminal.getCursorColumn())\n        }\n        ,\n        o.VT.CC1[\"\u008D\"] = o.VT.ESC.M = function() {\n            this.terminal.reverseLineFeed()\n        }\n        ,\n        o.VT.CC1[\"\u008E\"] = o.VT.ESC.N = o.VT.ignore,\n        o.VT.CC1[\"\u008F\"] = o.VT.ESC.O = o.VT.ignore,\n        o.VT.CC1[\"\u0090\"] = o.VT.ESC.P = function(e) {\n            e.resetArguments(),\n                e.func = this.parseUntilStringTerminator_\n        }\n        ,\n        o.VT.CC1[\"\u0096\"] = o.VT.ESC.V = o.VT.ignore,\n        o.VT.CC1[\"\u0097\"] = o.VT.ESC.W = o.VT.ignore,\n        o.VT.CC1[\"\u0098\"] = o.VT.ESC.X = o.VT.ignore,\n        o.VT.CC1[\"\u009A\"] = o.VT.ESC.Z = function() {\n            this.terminal.io.sendString(\"\u001B[?1;2c\")\n        }\n        ,\n        o.VT.CC1[\"\u009B\"] = o.VT.ESC[\"[\"] = function(e) {\n            e.resetArguments(),\n                this.leadingModifier_ = \"\",\n                this.trailingModifier_ = \"\",\n                e.func = this.parseCSI_\n        }\n        ,\n        o.VT.CC1[\"\u009C\"] = o.VT.ESC[\"\\\\\"] = o.VT.ignore,\n        o.VT.CC1[\"\u009D\"] = o.VT.ESC[\"]\"] = function(e) {\n            function t(e) {\n                if (this.parseUntilStringTerminator_(e) && e.func != t) {\n                    var r = e.args[0].match(/^(\\d+);(.*)$/);\n                    r ? (e.args[0] = r[2],\n                        this.dispatch(\"OSC\", r[1], e)) : console.warn(\"Invalid OSC: \" + JSON.stringify(e.args[0]))\n                }\n            }\n            e.resetArguments(),\n                e.func = t\n        }\n        ,\n        o.VT.CC1[\"\u009E\"] = o.VT.ESC[\"^\"] = function(e) {\n            e.resetArguments(),\n                e.func = this.parseUntilStringTerminator_\n        }\n        ,\n        o.VT.CC1[\"\u009F\"] = o.VT.ESC._ = function(e) {\n            e.resetArguments(),\n                e.func = this.parseUntilStringTerminator_\n        }\n        ,\n        o.VT.ESC[\" \"] = function(e) {\n            e.func = function(e) {\n                var t = e.consumeChar();\n                this.warnUnimplemented && console.warn(\"Unimplemented sequence: ESC 0x20 \" + t),\n                    e.resetParseFunction()\n            }\n        }\n        ,\n        o.VT.ESC[\"#\"] = function(e) {\n            e.func = function(e) {\n                \"8\" == e.consumeChar() && this.terminal.fill(\"E\"),\n                    e.resetParseFunction()\n            }\n        }\n        ,\n        o.VT.ESC[\"%\"] = function(e) {\n            e.func = function(e) {\n                var t = e.consumeChar();\n                if (this.codingSystemLocked_)\n                    return \"/\" == t && e.consumeChar(),\n                        void e.resetParseFunction();\n                switch (t) {\n                    case \"@\":\n                        this.setEncoding(\"iso-2022\");\n                        break;\n                    case \"G\":\n                        this.setEncoding(\"utf-8\");\n                        break;\n                    case \"/\":\n                        switch (t = e.consumeChar()) {\n                            case \"G\":\n                            case \"H\":\n                            case \"I\":\n                                this.setEncoding(\"utf-8-locked\");\n                                break;\n                            default:\n                                this.warnUnimplemented && console.warn(\"Unknown ESC % / argument: \" + JSON.stringify(t))\n                        }\n                        break;\n                    default:\n                        this.warnUnimplemented && console.warn(\"Unknown ESC % argument: \" + JSON.stringify(t))\n                }\n                e.resetParseFunction()\n            }\n        }\n        ,\n        o.VT.ESC[\"(\"] = o.VT.ESC[\")\"] = o.VT.ESC[\"*\"] = o.VT.ESC[\"+\"] = o.VT.ESC[\"-\"] = o.VT.ESC[\".\"] = o.VT.ESC[\"/\"] = function(e, t) {\n            e.func = function(e) {\n                var r = e.consumeChar();\n                if (\"\u001B\" == r)\n                    return e.resetParseFunction(),\n                        void e.func();\n                var i = this.characterMaps.getMap(r);\n                void 0 !== i ? \"(\" == t ? this.G0 = i : \")\" == t || \"-\" == t ? this.G1 = i : \"*\" == t || \".\" == t ? this.G2 = i : \"+\" != t && \"/\" != t || (this.G3 = i) : this.warnUnimplemented && console.log('Invalid character set for \"' + t + '\": ' + r),\n                    e.resetParseFunction()\n            }\n        }\n        ,\n        o.VT.ESC[6] = o.VT.ignore,\n        o.VT.ESC[7] = function() {\n            this.savedState_.save()\n        }\n        ,\n        o.VT.ESC[8] = function() {\n            this.savedState_.restore()\n        }\n        ,\n        o.VT.ESC[9] = o.VT.ignore,\n        o.VT.ESC[\"=\"] = function() {\n            this.terminal.keyboard.applicationKeypad = !0\n        }\n        ,\n        o.VT.ESC[\">\"] = function() {\n            this.terminal.keyboard.applicationKeypad = !1\n        }\n        ,\n        o.VT.ESC.F = o.VT.ignore,\n        o.VT.ESC.c = function() {\n            this.reset(),\n                this.terminal.reset()\n        }\n        ,\n        o.VT.ESC.l = o.VT.ESC.m = o.VT.ignore,\n        o.VT.ESC.n = function() {\n            this.GL = \"G2\"\n        }\n        ,\n        o.VT.ESC.o = function() {\n            this.GL = \"G3\"\n        }\n        ,\n        o.VT.ESC[\"|\"] = function() {\n            this.GR = \"G3\"\n        }\n        ,\n        o.VT.ESC[\"}\"] = function() {\n            this.GR = \"G2\"\n        }\n        ,\n        o.VT.ESC[\"~\"] = function() {\n            this.GR = \"G1\"\n        }\n        ,\n        o.VT.OSC[0] = function(e) {\n            this.terminal.setWindowTitle(e.args[0])\n        }\n        ,\n        o.VT.OSC[2] = o.VT.OSC[0],\n        o.VT.OSC[4] = function(e) {\n            for (var t = e.args[0].split(\";\"), r = parseInt(t.length / 2), o = this.terminal.getTextAttributes().colorPalette, s = [], n = 0; n < r; ++n) {\n                var a = parseInt(t[2 * n])\n                    , l = t[2 * n + 1];\n                a >= o.length || (\"?\" != l ? (l = i.colors.x11ToCSS(l)) && (o[a] = l) : (l = i.colors.rgbToX11(o[a])) && s.push(a + \";\" + l))\n            }\n            s.length && this.terminal.io.sendString(\"\u001B]4;\" + s.join(\";\") + \"\a\")\n        }\n        ,\n        o.VT.OSC[9] = function(e) {\n            o.notify({\n                body: e.args[0]\n            })\n        }\n        ,\n        o.VT.OSC[10] = function(e) {\n            var t = e.args[0].split(\";\");\n            if (t) {\n                var r = i.colors.x11ToCSS(t.shift());\n                r && this.terminal.setForegroundColor(r),\n                t.length > 0 && (e.args[0] = t.join(\";\"),\n                    o.VT.OSC[11].apply(this, [e]))\n            }\n        }\n        ,\n        o.VT.OSC[11] = function(e) {\n            var t = e.args[0].split(\";\");\n            if (t) {\n                var r = i.colors.x11ToCSS(t.shift());\n                r && this.terminal.setBackgroundColor(r)\n            }\n        }\n        ,\n        o.VT.OSC[50] = function(e) {\n            var t = e.args[0].match(/CursorShape=(.)/i);\n            if (t)\n                switch (t[1]) {\n                    case \"1\":\n                        this.terminal.setCursorShape(o.Terminal.cursorShape.BEAM);\n                        break;\n                    case \"2\":\n                        this.terminal.setCursorShape(o.Terminal.cursorShape.UNDERLINE);\n                        break;\n                    default:\n                        this.terminal.setCursorShape(o.Terminal.cursorShape.BLOCK)\n                }\n            else\n                console.warn(\"Could not parse OSC 50 args: \" + e.args[0])\n        }\n        ,\n        o.VT.OSC[52] = function(e) {\n            var t = e.args[0].match(/^[cps01234567]*;(.*)/);\n            if (t) {\n                var r = window.atob(t[1]);\n                r && this.terminal.copyStringToClipboard(this.decode(r))\n            }\n        }\n        ,\n        o.VT.OSC[777] = function(e) {\n            var t;\n            switch (e.args[0].split(\";\", 1)[0]) {\n                case \"notify\":\n                    var r, i;\n                    (t = e.args[0].match(/^[^;]+;([^;]*)(;([\\s\\S]*))?$/)) && (r = t[1],\n                        i = t[3]),\n                        o.notify({\n                            title: r,\n                            body: i\n                        });\n                    break;\n                default:\n                    console.warn(\"Unknown urxvt module: \" + e.args[0])\n            }\n        }\n        ,\n        o.VT.CSI[\"@\"] = function(e) {\n            this.terminal.insertSpace(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.A = function(e) {\n            this.terminal.cursorUp(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.B = function(e) {\n            this.terminal.cursorDown(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.C = function(e) {\n            this.terminal.cursorRight(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.D = function(e) {\n            this.terminal.cursorLeft(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.E = function(e) {\n            this.terminal.cursorDown(e.iarg(0, 1)),\n                this.terminal.setCursorColumn(0)\n        }\n        ,\n        o.VT.CSI.F = function(e) {\n            this.terminal.cursorUp(e.iarg(0, 1)),\n                this.terminal.setCursorColumn(0)\n        }\n        ,\n        o.VT.CSI.G = function(e) {\n            this.terminal.setCursorColumn(e.iarg(0, 1) - 1)\n        }\n        ,\n        o.VT.CSI.H = function(e) {\n            this.terminal.setCursorPosition(e.iarg(0, 1) - 1, e.iarg(1, 1) - 1)\n        }\n        ,\n        o.VT.CSI.I = function(e) {\n            var t = e.iarg(0, 1);\n            t = i.f.clamp(t, 1, this.terminal.screenSize.width);\n            for (var r = 0; r < t; r++)\n                this.terminal.forwardTabStop()\n        }\n        ,\n        o.VT.CSI.J = o.VT.CSI[\"?J\"] = function(e, t) {\n            var r = e.args[0];\n            r && 0 != r ? 1 == r ? this.terminal.eraseAbove() : 2 == r ? this.terminal.clear() : 3 == r && this.terminal.clear() : this.terminal.eraseBelow()\n        }\n        ,\n        o.VT.CSI.K = o.VT.CSI[\"?K\"] = function(e, t) {\n            var r = e.args[0];\n            r && 0 != r ? 1 == r ? this.terminal.eraseToLeft() : 2 == r && this.terminal.eraseLine() : this.terminal.eraseToRight()\n        }\n        ,\n        o.VT.CSI.L = function(e) {\n            this.terminal.insertLines(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.M = function(e) {\n            this.terminal.deleteLines(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.P = function(e) {\n            this.terminal.deleteChars(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.S = function(e) {\n            this.terminal.vtScrollUp(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.T = function(e) {\n            e.args.length <= 1 && this.terminal.vtScrollDown(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI[\">T\"] = o.VT.ignore,\n        o.VT.CSI.X = function(e) {\n            this.terminal.eraseToRight(e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.Z = function(e) {\n            var t = e.iarg(0, 1);\n            t = i.f.clamp(t, 1, this.terminal.screenSize.width);\n            for (var r = 0; r < t; r++)\n                this.terminal.backwardTabStop()\n        }\n        ,\n        o.VT.CSI[\"`\"] = o.VT.CSI.G,\n        o.VT.CSI.a = function(e) {\n            this.terminal.setCursorColumn(this.terminal.getCursorColumn() + e.iarg(0, 1))\n        }\n        ,\n        o.VT.CSI.b = o.VT.ignore,\n        o.VT.CSI.c = function(e) {\n            e.args[0] && 0 != e.args[0] || this.terminal.io.sendString(\"\u001B[?1;2c\")\n        }\n        ,\n        o.VT.CSI[\">c\"] = function(e) {\n            this.terminal.io.sendString(\"\u001B[>0;256;0c\")\n        }\n        ,\n        o.VT.CSI.d = function(e) {\n            this.terminal.setAbsoluteCursorRow(e.iarg(0, 1) - 1)\n        }\n        ,\n        o.VT.CSI.f = o.VT.CSI.H,\n        o.VT.CSI.g = function(e) {\n            e.args[0] && 0 != e.args[0] ? 3 == e.args[0] && this.terminal.clearAllTabStops() : this.terminal.clearTabStopAtCursor(!1)\n        }\n        ,\n        o.VT.CSI.h = function(e) {\n            for (var t = 0; t < e.args.length; t++)\n                this.setANSIMode(e.args[t], !0)\n        }\n        ,\n        o.VT.CSI[\"?h\"] = function(e) {\n            for (var t = 0; t < e.args.length; t++)\n                this.setDECMode(e.args[t], !0)\n        }\n        ,\n        o.VT.CSI.i = o.VT.CSI[\"?i\"] = o.VT.ignore,\n        o.VT.CSI.l = function(e) {\n            for (var t = 0; t < e.args.length; t++)\n                this.setANSIMode(e.args[t], !1)\n        }\n        ,\n        o.VT.CSI[\"?l\"] = function(e) {\n            for (var t = 0; t < e.args.length; t++)\n                this.setDECMode(e.args[t], !1)\n        }\n        ,\n        o.VT.CSI.m = function(e) {\n            function t(t) {\n                return e.args.length < t + 2 || 5 != e.args[t + 1] ? null : e.iarg(t + 2, 0)\n            }\n            function r(t) {\n                return e.args.length < t + 5 || 2 != e.args[t + 1] ? null : \"rgb(\" + e.iarg(t + 2, 0) + \" ,\" + e.iarg(t + 3, 0) + \" ,\" + e.iarg(t + 4, 0) + \")\"\n            }\n            var i = this.terminal.getTextAttributes();\n            if (e.args.length) {\n                for (var o = 0; o < e.args.length; o++) {\n                    var s = e.iarg(o, 0);\n                    if (s < 30)\n                        0 == s ? i.reset() : 1 == s ? i.bold = !0 : 2 == s ? i.faint = !0 : 3 == s ? i.italic = !0 : 4 == s ? i.underline = !0 : 5 == s ? i.blink = !0 : 7 == s ? i.inverse = !0 : 8 == s ? i.invisible = !0 : 9 == s ? i.strikethrough = !0 : 22 == s ? (i.bold = !1,\n                            i.faint = !1) : 23 == s ? i.italic = !1 : 24 == s ? i.underline = !1 : 25 == s ? i.blink = !1 : 27 == s ? i.inverse = !1 : 28 == s ? i.invisible = !1 : 29 == s && (i.strikethrough = !1);\n                    else if (s < 50)\n                        if (s < 38)\n                            i.foregroundSource = s - 30;\n                        else if (38 == s)\n                            if (null != (n = r(o)))\n                                i.foregroundSource = i.SRC_RGB,\n                                    i.foreground = n,\n                                    o += 5;\n                            else {\n                                if (null == (a = t(o)))\n                                    break;\n                                if (o += 2,\n                                a >= i.colorPalette.length)\n                                    continue;\n                                i.foregroundSource = a\n                            }\n                        else if (39 == s)\n                            i.foregroundSource = i.SRC_DEFAULT;\n                        else if (s < 48)\n                            i.backgroundSource = s - 40;\n                        else if (48 == s) {\n                            var n = r(o);\n                            if (null != n)\n                                i.backgroundSource = i.SRC_RGB,\n                                    i.background = n,\n                                    o += 5;\n                            else {\n                                var a = t(o);\n                                if (null == a)\n                                    break;\n                                if (o += 2,\n                                a >= i.colorPalette.length)\n                                    continue;\n                                i.backgroundSource = a\n                            }\n                        } else\n                            i.backgroundSource = i.SRC_DEFAULT;\n                    else\n                        s >= 90 && s <= 97 ? i.foregroundSource = s - 90 + 8 : s >= 100 && s <= 107 && (i.backgroundSource = s - 100 + 8)\n                }\n                i.setDefaults(this.terminal.getForegroundColor(), this.terminal.getBackgroundColor())\n            } else\n                i.reset()\n        }\n        ,\n        o.VT.CSI[\">m\"] = o.VT.ignore,\n        o.VT.CSI.n = function(e) {\n            if (5 == e.args[0])\n                this.terminal.io.sendString(\"\u001B0n\");\n            else if (6 == e.args[0]) {\n                var t = this.terminal.getCursorRow() + 1\n                    , r = this.terminal.getCursorColumn() + 1;\n                this.terminal.io.sendString(\"\u001B[\" + t + \";\" + r + \"R\")\n            }\n        }\n        ,\n        o.VT.CSI[\">n\"] = o.VT.ignore,\n        o.VT.CSI[\"?n\"] = function(e) {\n            if (6 == e.args[0]) {\n                var t = this.terminal.getCursorRow() + 1\n                    , r = this.terminal.getCursorColumn() + 1;\n                this.terminal.io.sendString(\"\u001B[\" + t + \";\" + r + \"R\")\n            } else\n                15 == e.args[0] ? this.terminal.io.sendString(\"\u001B[?11n\") : 25 == e.args[0] ? this.terminal.io.sendString(\"\u001B[?21n\") : 26 == e.args[0] ? this.terminal.io.sendString(\"\u001B[?12;1;0;0n\") : 53 == e.args[0] && this.terminal.io.sendString(\"\u001B[?50n\")\n        }\n        ,\n        o.VT.CSI[\">p\"] = o.VT.ignore,\n        o.VT.CSI[\"!p\"] = function() {\n            this.reset(),\n                this.terminal.softReset()\n        }\n        ,\n        o.VT.CSI.$p = o.VT.ignore,\n        o.VT.CSI[\"?$p\"] = o.VT.ignore,\n        o.VT.CSI['\"p'] = o.VT.ignore,\n        o.VT.CSI.q = o.VT.ignore,\n        o.VT.CSI[\" q\"] = function(e) {\n            var t = e.args[0];\n            0 == t || 1 == t ? (this.terminal.setCursorShape(o.Terminal.cursorShape.BLOCK),\n                this.terminal.setCursorBlink(!0)) : 2 == t ? (this.terminal.setCursorShape(o.Terminal.cursorShape.BLOCK),\n                this.terminal.setCursorBlink(!1)) : 3 == t ? (this.terminal.setCursorShape(o.Terminal.cursorShape.UNDERLINE),\n                this.terminal.setCursorBlink(!0)) : 4 == t ? (this.terminal.setCursorShape(o.Terminal.cursorShape.UNDERLINE),\n                this.terminal.setCursorBlink(!1)) : 5 == t ? (this.terminal.setCursorShape(o.Terminal.cursorShape.BEAM),\n                this.terminal.setCursorBlink(!0)) : 6 == t ? (this.terminal.setCursorShape(o.Terminal.cursorShape.BEAM),\n                this.terminal.setCursorBlink(!1)) : console.warn(\"Unknown cursor style: \" + t)\n        }\n        ,\n        o.VT.CSI['\"q'] = o.VT.ignore,\n        o.VT.CSI.r = function(e) {\n            var t = e.args\n                , r = t[0] ? parseInt(t[0], 10) - 1 : null\n                , i = t[1] ? parseInt(t[1], 10) - 1 : null;\n            this.terminal.setVTScrollRegion(r, i),\n                this.terminal.setCursorPosition(0, 0)\n        }\n        ,\n        o.VT.CSI[\"?r\"] = o.VT.ignore,\n        o.VT.CSI.$r = o.VT.ignore,\n        o.VT.CSI.s = function() {\n            this.savedState_.save()\n        }\n        ,\n        o.VT.CSI[\"?s\"] = o.VT.ignore,\n        o.VT.CSI.t = o.VT.ignore,\n        o.VT.CSI.$t = o.VT.ignore,\n        o.VT.CSI[\">t\"] = o.VT.ignore,\n        o.VT.CSI[\" t\"] = o.VT.ignore,\n        o.VT.CSI.u = function() {\n            this.savedState_.restore()\n        }\n        ,\n        o.VT.CSI[\" u\"] = o.VT.ignore,\n        o.VT.CSI.$v = o.VT.ignore,\n        o.VT.CSI[\"'w\"] = o.VT.ignore,\n        o.VT.CSI.x = o.VT.ignore,\n        o.VT.CSI[\"*x\"] = o.VT.ignore,\n        o.VT.CSI.$x = o.VT.ignore,\n        o.VT.CSI.z = function(e) {\n            if (!(e.args.length < 1)) {\n                var t = e.args[0];\n                if (0 == t) {\n                    if (e.args.length < 2)\n                        return;\n                    this.terminal.getTextAttributes().tileData = e.args[1]\n                } else\n                    1 == t && (this.terminal.getTextAttributes().tileData = null)\n            }\n        }\n        ,\n        o.VT.CSI[\"'z\"] = o.VT.ignore,\n        o.VT.CSI.$z = o.VT.ignore,\n        o.VT.CSI[\"'{\"] = o.VT.ignore,\n        o.VT.CSI[\"'|\"] = o.VT.ignore,\n        o.VT.CSI[\"'}\"] = o.VT.ignore,\n        o.VT.CSI[\"'~\"] = o.VT.ignore,\n        i.rtdep(\"lib.f\"),\n        o.VT.CharacterMap = function(e, t) {\n            this.description = e,\n                this.GL = null,\n                this.glmapBase_ = t,\n                this.sync_()\n        }\n        ,\n        o.VT.CharacterMap.prototype.sync_ = function(e) {\n            if (!this.glmapBase_ && !e)\n                return this.GL = null,\n                    delete this.glmap_,\n                    void delete this.glre_;\n            this.glmap_ = e ? Object.assign({}, this.glmapBase_, e) : this.glmapBase_;\n            var t = Object.keys(this.glmap_).map(e=>\"\\\\x\" + i.f.zpad(e.charCodeAt(0).toString(16)));\n            this.glre_ = new RegExp(\"[\" + t.join(\"\") + \"]\",\"g\"),\n                this.GL = (e=>e.replace(this.glre_, e=>this.glmap_[e]))\n        }\n        ,\n        o.VT.CharacterMap.prototype.reset = function() {\n            this.glmap_ !== this.glmapBase_ && this.sync_()\n        }\n        ,\n        o.VT.CharacterMap.prototype.setOverrides = function(e) {\n            this.sync_(e)\n        }\n        ,\n        o.VT.CharacterMap.prototype.clone = function() {\n            var e = new o.VT.CharacterMap(this.description,this.glmapBase_);\n            return this.glmap_ !== this.glmapBase_ && e.setOverrides(this.glmap_),\n                e\n        }\n        ,\n        o.VT.CharacterMaps = function() {\n            this.maps_ = o.VT.CharacterMaps.DefaultMaps,\n                this.mapsBase_ = this.maps_\n        }\n        ,\n        o.VT.CharacterMaps.prototype.getMap = function(e) {\n            return this.maps_.hasOwnProperty(e) ? this.maps_[e] : void 0\n        }\n        ,\n        o.VT.CharacterMaps.prototype.addMap = function(e, t) {\n            this.maps_ === this.mapsBase_ && (this.maps_ = Object.assign({}, this.mapsBase_)),\n                this.maps_[e] = t\n        }\n        ,\n        o.VT.CharacterMaps.prototype.reset = function() {\n            this.maps_ !== o.VT.CharacterMaps.DefaultMaps && (this.maps_ = o.VT.CharacterMaps.DefaultMaps)\n        }\n        ,\n        o.VT.CharacterMaps.prototype.setOverrides = function(e) {\n            this.maps_ === this.mapsBase_ && (this.maps_ = Object.assign({}, this.mapsBase_));\n            for (var t in e) {\n                var r = this.getMap(t);\n                void 0 !== r ? (this.maps_[t] = r.clone(),\n                    this.maps_[t].setOverrides(e[t])) : this.addMap(t, new o.VT.CharacterMap(\"user \" + t,e[t]))\n            }\n        }\n        ,\n        o.VT.CharacterMaps.DefaultMaps = {},\n        o.VT.CharacterMaps.DefaultMaps[0] = new o.VT.CharacterMap(\"graphic\",{\n            \"`\": \"\",\n            a: \"\",\n            b: \"\",\n            c: \"\",\n            d: \"\",\n            e: \"\",\n            f: \"\",\n            g: \"\",\n            h: \"\",\n            i: \"\",\n            j: \"\",\n            k: \"\",\n            l: \"\",\n            m: \"\",\n            n: \"\",\n            o: \"\",\n            p: \"\",\n            q: \"\",\n            r: \"\",\n            s: \"\",\n            t: \"\",\n            u: \"\",\n            v: \"\",\n            w: \"\",\n            x: \"\",\n            y: \"\",\n            z: \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.A = new o.VT.CharacterMap(\"british\",{\n            \"#\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.B = new o.VT.CharacterMap(\"us\",null),\n        o.VT.CharacterMaps.DefaultMaps[4] = new o.VT.CharacterMap(\"dutch\",{\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"|\",\n            \"{\": \"\",\n            \"|\": \"f\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.C = o.VT.CharacterMaps.DefaultMaps[5] = new o.VT.CharacterMap(\"finnish\",{\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.R = new o.VT.CharacterMap(\"french\",{\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.Q = new o.VT.CharacterMap(\"french canadian\",{\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.K = new o.VT.CharacterMap(\"german\",{\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.Y = new o.VT.CharacterMap(\"italian\",{\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.E = o.VT.CharacterMaps.DefaultMaps[6] = new o.VT.CharacterMap(\"norwegian/danish\",{\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps.Z = new o.VT.CharacterMap(\"spanish\",{\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps[7] = o.VT.CharacterMaps.DefaultMaps.H = new o.VT.CharacterMap(\"swedish\",{\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        o.VT.CharacterMaps.DefaultMaps[\"=\"] = new o.VT.CharacterMap(\"swiss\",{\n            \"#\": \"\",\n            \"@\": \"\",\n            \"[\": \"\",\n            \"\\\\\": \"\",\n            \"]\": \"\",\n            \"^\": \"\",\n            _: \"\",\n            \"`\": \"\",\n            \"{\": \"\",\n            \"|\": \"\",\n            \"}\": \"\",\n            \"~\": \"\"\n        }),\n        i.resource.add(\"hterm/audio/bell\", \"audio/ogg;base64\", \"T2dnUwACAAAAAAAAAADhqW5KAAAAAMFvEjYBHgF2b3JiaXMAAAAAAYC7AAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAA4aluSgEAAAAAesI3EC3//////////////////8kDdm9yYmlzHQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMDkwNzA5AAAAAAEFdm9yYmlzKUJDVgEACAAAADFMIMWA0JBVAAAQAABgJCkOk2ZJKaWUoSh5mJRISSmllMUwiZiUicUYY4wxxhhjjDHGGGOMIDRkFQAABACAKAmOo+ZJas45ZxgnjnKgOWlOOKcgB4pR4DkJwvUmY26mtKZrbs4pJQgNWQUAAAIAQEghhRRSSCGFFGKIIYYYYoghhxxyyCGnnHIKKqigggoyyCCDTDLppJNOOumoo4466ii00EILLbTSSkwx1VZjrr0GXXxzzjnnnHPOOeecc84JQkNWAQAgAAAEQgYZZBBCCCGFFFKIKaaYcgoyyIDQkFUAACAAgAAAAABHkRRJsRTLsRzN0SRP8ixREzXRM0VTVE1VVVVVdV1XdmXXdnXXdn1ZmIVbuH1ZuIVb2IVd94VhGIZhGIZhGIZh+H3f933f930gNGQVACABAKAjOZbjKaIiGqLiOaIDhIasAgBkAAAEACAJkiIpkqNJpmZqrmmbtmirtm3LsizLsgyEhqwCAAABAAQAAAAAAKBpmqZpmqZpmqZpmqZpmqZpmqZpmmZZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZlmVZQGjIKgBAAgBAx3Ecx3EkRVIkx3IsBwgNWQUAyAAACABAUizFcjRHczTHczzHczxHdETJlEzN9EwPCA1ZBQAAAgAIAAAAAABAMRzFcRzJ0SRPUi3TcjVXcz3Xc03XdV1XVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYHQkFUAAAQAACGdZpZqgAgzkGEgNGQVAIAAAAAYoQhDDAgNWQUAAAQAAIih5CCa0JrzzTkOmuWgqRSb08GJVJsnuamYm3POOeecbM4Z45xzzinKmcWgmdCac85JDJqloJnQmnPOeRKbB62p0ppzzhnnnA7GGWGcc85p0poHqdlYm3POWdCa5qi5FJtzzomUmye1uVSbc84555xzzjnnnHPOqV6czsE54Zxzzonam2u5CV2cc875ZJzuzQnhnHPOOeecc84555xzzglCQ1YBAEAAAARh2BjGnYIgfY4GYhQhpiGTHnSPDpOgMcgppB6NjkZKqYNQUhknpXSC0JBVAAAgAACEEFJIIYUUUkghhRRSSCGGGGKIIaeccgoqqKSSiirKKLPMMssss8wyy6zDzjrrsMMQQwwxtNJKLDXVVmONteaec645SGultdZaK6WUUkoppSA0ZBUAAAIAQCBkkEEGGYUUUkghhphyyimnoIIKCA1ZBQAAAgAIAAAA8CTPER3RER3RER3RER3RER3P8RxREiVREiXRMi1TMz1VVFVXdm1Zl3Xbt4Vd2HXf133f141fF4ZlWZZlWZZlWZZlWZZlWZZlCUJDVgEAIAAAAEIIIYQUUkghhZRijDHHnINOQgmB0JBVAAAgAIAAAAAAR3EUx5EcyZEkS7IkTdIszfI0T/M00RNFUTRNUxVd0RV10xZlUzZd0zVl01Vl1XZl2bZlW7d9WbZ93/d93/d93/d93/d939d1IDRkFQAgAQCgIzmSIimSIjmO40iSBISGrAIAZAAABACgKI7iOI4jSZIkWZImeZZniZqpmZ7pqaIKhIasAgAAAQAEAAAAAACgaIqnmIqniIrniI4oiZZpiZqquaJsyq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7rukBoyCoAQAIAQEdyJEdyJEVSJEVyJAcIDVkFAMgAAAgAwDEcQ1Ikx7IsTfM0T/M00RM90TM9VXRFFwgNWQUAAAIACAAAAAAAwJAMS7EczdEkUVIt1VI11VItVVQ9VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV1TRN0zSB0JCVAAAZAAAjQQYZhBCKcpBCbj1YCDHmJAWhOQahxBiEpxAzDDkNInSQQSc9uJI5wwzz4FIoFURMg40lN44gDcKmXEnlOAhCQ1YEAFEAAIAxyDHEGHLOScmgRM4xCZ2UyDknpZPSSSktlhgzKSWmEmPjnKPSScmklBhLip2kEmOJrQAAgAAHAIAAC6HQkBUBQBQAAGIMUgophZRSzinmkFLKMeUcUko5p5xTzjkIHYTKMQadgxAppRxTzinHHITMQeWcg9BBKAAAIMABACDAQig0ZEUAECcA4HAkz5M0SxQlSxNFzxRl1xNN15U0zTQ1UVRVyxNV1VRV2xZNVbYlTRNNTfRUVRNFVRVV05ZNVbVtzzRl2VRV3RZV1bZl2xZ+V5Z13zNNWRZV1dZNVbV115Z9X9ZtXZg0zTQ1UVRVTRRV1VRV2zZV17Y1UXRVUVVlWVRVWXZlWfdVV9Z9SxRV1VNN2RVVVbZV2fVtVZZ94XRVXVdl2fdVWRZ+W9eF4fZ94RhV1dZN19V1VZZ9YdZlYbd13yhpmmlqoqiqmiiqqqmqtm2qrq1bouiqoqrKsmeqrqzKsq+rrmzrmiiqrqiqsiyqqiyrsqz7qizrtqiquq3KsrCbrqvrtu8LwyzrunCqrq6rsuz7qizruq3rxnHrujB8pinLpqvquqm6um7runHMtm0co6rqvirLwrDKsu/rui+0dSFRVXXdlF3jV2VZ921fd55b94WybTu/rfvKceu60vg5z28cubZtHLNuG7+t+8bzKz9hOI6lZ5q2baqqrZuqq+uybivDrOtCUVV9XZVl3zddWRdu3zeOW9eNoqrquirLvrDKsjHcxm8cuzAcXds2jlvXnbKtC31jyPcJz2vbxnH7OuP2daOvDAnHjwAAgAEHAIAAE8pAoSErAoA4AQAGIecUUxAqxSB0EFLqIKRUMQYhc05KxRyUUEpqIZTUKsYgVI5JyJyTEkpoKZTSUgehpVBKa6GU1lJrsabUYu0gpBZKaS2U0lpqqcbUWowRYxAy56RkzkkJpbQWSmktc05K56CkDkJKpaQUS0otVsxJyaCj0kFIqaQSU0mptVBKa6WkFktKMbYUW24x1hxKaS2kEltJKcYUU20txpojxiBkzknJnJMSSmktlNJa5ZiUDkJKmYOSSkqtlZJSzJyT0kFIqYOOSkkptpJKTKGU1kpKsYVSWmwx1pxSbDWU0lpJKcaSSmwtxlpbTLV1EFoLpbQWSmmttVZraq3GUEprJaUYS0qxtRZrbjHmGkppraQSW0mpxRZbji3GmlNrNabWam4x5hpbbT3WmnNKrdbUUo0txppjbb3VmnvvIKQWSmktlNJiai3G1mKtoZTWSiqxlZJabDHm2lqMOZTSYkmpxZJSjC3GmltsuaaWamwx5ppSi7Xm2nNsNfbUWqwtxppTS7XWWnOPufVWAADAgAMAQIAJZaDQkJUAQBQAAEGIUs5JaRByzDkqCULMOSepckxCKSlVzEEIJbXOOSkpxdY5CCWlFksqLcVWaykptRZrLQAAoMABACDABk2JxQEKDVkJAEQBACDGIMQYhAYZpRiD0BikFGMQIqUYc05KpRRjzknJGHMOQioZY85BKCmEUEoqKYUQSkklpQIAAAocAAACbNCUWByg0JAVAUAUAABgDGIMMYYgdFQyKhGETEonqYEQWgutddZSa6XFzFpqrbTYQAithdYySyXG1FpmrcSYWisAAOzAAQDswEIoNGQlAJAHAEAYoxRjzjlnEGLMOegcNAgx5hyEDirGnIMOQggVY85BCCGEzDkIIYQQQuYchBBCCKGDEEIIpZTSQQghhFJK6SCEEEIppXQQQgihlFIKAAAqcAAACLBRZHOCkaBCQ1YCAHkAAIAxSjkHoZRGKcYglJJSoxRjEEpJqXIMQikpxVY5B6GUlFrsIJTSWmw1dhBKaS3GWkNKrcVYa64hpdZirDXX1FqMteaaa0otxlprzbkAANwFBwCwAxtFNicYCSo0ZCUAkAcAgCCkFGOMMYYUYoox55xDCCnFmHPOKaYYc84555RijDnnnHOMMeecc845xphzzjnnHHPOOeecc44555xzzjnnnHPOOeecc84555xzzgkAACpwAAAIsFFkc4KRoEJDVgIAqQAAABFWYowxxhgbCDHGGGOMMUYSYowxxhhjbDHGGGOMMcaYYowxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGFtrrbXWWmuttdZaa6211lprrQBAvwoHAP8HG1ZHOCkaCyw0ZCUAEA4AABjDmHOOOQYdhIYp6KSEDkIIoUNKOSglhFBKKSlzTkpKpaSUWkqZc1JSKiWlllLqIKTUWkottdZaByWl1lJqrbXWOgiltNRaa6212EFIKaXWWostxlBKSq212GKMNYZSUmqtxdhirDGk0lJsLcYYY6yhlNZaazHGGGstKbXWYoy1xlprSam11mKLNdZaCwDgbnAAgEiwcYaVpLPC0eBCQ1YCACEBAARCjDnnnHMQQgghUoox56CDEEIIIURKMeYcdBBCCCGEjDHnoIMQQgghhJAx5hx0EEIIIYQQOucchBBCCKGEUkrnHHQQQgghlFBC6SCEEEIIoYRSSikdhBBCKKGEUkopJYQQQgmllFJKKaWEEEIIoYQSSimllBBCCKWUUkoppZQSQgghlFJKKaWUUkIIoZRQSimllFJKCCGEUkoppZRSSgkhhFBKKaWUUkopIYQSSimllFJKKaUAAIADBwCAACPoJKPKImw04cIDUGjISgCADAAAcdhq6ynWyCDFnISWS4SQchBiLhFSijlHsWVIGcUY1ZQxpRRTUmvonGKMUU+dY0oxw6yUVkookYLScqy1dswBAAAgCAAwECEzgUABFBjIAIADhAQpAKCwwNAxXAQE5BIyCgwKx4Rz0mkDABCEyAyRiFgMEhOqgaJiOgBYXGDIB4AMjY20iwvoMsAFXdx1IIQgBCGIxQEUkICDE2544g1PuMEJOkWlDgIAAAAA4AAAHgAAkg0gIiKaOY4Ojw+QEJERkhKTE5QAAAAAALABgA8AgCQFiIiIZo6jw+MDJERkhKTE5AQlAAAAAAAAAAAACAgIAAAAAAAEAAAACAhPZ2dTAAQYOwAAAAAAAOGpbkoCAAAAmc74DRgyNjM69TAzOTk74dnLubewsbagmZiNp4d0KbsExSY/I3XUTwJgkeZdn1HY4zoj33/q9DFtv3Ui1/jmx7lCUtPt18/sYf9MkgAsAGRBd3gMGP4sU+qCPYBy9VrA3YqJosW3W2/ef1iO/u3cg8ZG/57jU+pPmbGEJUgkfnaI39DbPqxddZphbMRmCc5rKlkUMkyx8iIoug5dJv1OYH9a59c+3Gevqc7Z2XFdDjL/qHztRfjWEWxJ/aiGezjohu9HsCZdQBKbiH0VtU/3m85lDG2T/+xkZcYnX+E+aqzv/xTgOoTFG+x7SNqQ4N+oAABSxuVXw77Jd5bmmTmuJakX7509HH0kGYKvARPpwfOSAPySPAc2EkneDwB2HwAAJlQDYK5586N79GJCjx4+p6aDUd27XSvRyXLJkIC5YZ1jLv5lpOhZTz0s+DmnF1diptrnM6UDgIW11Xh8cHTd0/SmbgOAdxcyWwMAAGIrZ3fNSfZbzKiYrK4+tPqtnMVLOeWOG2kVvUY+p2PJ/hkCl5aFRO4TLGYPZcIU3vYM1hohS4jHFlnyW/2T5J7kGsShXWT8N05V+3C/GPqJ1QdWisGPxEzHqXISBPIinWDUt7IeJv/f5OtzBxpTzZZQ+CYEhHXfqG4aABQli72GJhN4oJv+hXcApAJSErAW8G2raAX4NUcABnVt77CzZAB+LsHcVe+Q4h+QB1wh/ZrJTPxSBdI8mgTeAdTsQOoFUEng9BHcVPhxSRRYkKWZJXOFYP6V4AEripJoEjXgA2wJRZHSExmJDm8F0A6gEXsg5a4ZsALItrMB7+fh7UKLvYWSdtsDwFf1mzYzS1F82N1h2Oyt2e76B1QdS0SAsQigLPMOgJS9JRC7hFXA6kUsLFNKD5cA5cTRvgSqPc3Fl99xW3QTi/MHR8DEm6WnvaVQATwRqRKjywQ9BrrhugR2AKTsPQeQckrAOgDOhbTESyrXQ50CkNpXdtWjW7W2/3UjeX3U95gIdalfRAoAmqUEiwp53hCdcCwlg47fcbfzlmQMAgaBkh7c+fcDgF+ifwDXfzegLPcLYJsAAJQArTXjnh/uXGy3v1Hk3pV6/3t5ruW81f6prfbM2Q3WNVy98BwUtbCwhFhAWuPev6Oe/4ZaFQUcgKrVs4defzh1TADA1DEh5b3VlDaECw5b+bPfkKos3tIAue3vJZOih3ga3l6O3PSfIkrLv0PAS86PPdL7g8oc2KteNFKKzKRehOv2gJoFLBPXmaXvPBQILgJon0bbWBszrYZYYwE7jl2j+vTdU7Vpk21LiU0QajPkywAAHqbUC0/YsYOdb4e6BOp7E0cCi04Ao/TgD8ZVAMid6h/A8IeBNkp6/xsAACZELEYIk+yvI6Qz1NN6lIftB/6IMWjWJNOqPTMedAmyaj6Es0QBklJpiSWWHnQ2CoYbGWAmt+0gLQBFKCBnp2QUUQZ/1thtZDBJUpFWY82z34ocorB62oX7qB5y0oPAv/foxH25wVmgIHf2xFOr8leZcBq1Kx3ZvCq9Bga639AxuHuPNL/71YCF4EywJpqHFAX6XF0sjVbuANnvvdLcrufYwOM/iDa6iA468AYAAB6mNBMXcgTD8HSRqJ4vw8CjAlCEPACASlX/APwPOJKl9xQAAAPmnev2eWp33Xgyw3Dvfz6myGk3oyP8YTKsCOvzAgALQi0o1c6Nzs2O2Pg2h4ACIJAgAGP0aNn5x0BDgVfH7u2TtyfDcRIuYAyQhBF/lvSRAttgA6TPbWZA9gaUrZWAUEAA+Dx47Q3/r87HxUUqZmB0BmUuMlojFjHt1gDunnvuX8MImsjSq5WkzSzGS62OEIlOufWWezxWpv6FBgDgJVltfXFYtNAAnqU0xQoD0YLiXo5cF5QV4CnY1tBLAkZCOABAhbk/AM+/AwSCCdlWAAAMcFjS7owb8GVDzveDiZvznbt2tF4bL5odN1YKl88TAEABCZvufq9YCTBtMwVAQUEAwGtNltzSaHvADYC3TxLVjqiRA+OZAMhzcqEgRcAOwoCgvdTxsTHLQEF6+oOb2+PAI8ciPQcXg7pOY+LjxQSv2fjmFuj34gGwz310/bGK6z3xgT887eomWULEaDd04wHetYxdjcgV2SxvSwn0VoZXJRqkRC5ASQ/muVoAUsX7AgAQMBNaVwAAlABRxT/1PmfqLqSRNDbhXb07berpB3b94jpuWEZjBCD2OcdXFpCKEgCDfcFPMw8AAADUwT4lnUm50lmwrpMMhPQIKj6u0E8fr2vGBngMNdIlrZsigjahljud6AFVg+tzXwUnXL3TJLpajaWKA4VAAAAMiFfqJgKAZ08XrtS3dxtQNYcpPvYEG8ClvrQRJgBephwnNWJjtGqmp6VEPSvBe7EBiU3qgJbQAwD4Le8LAMDMhHbNAAAlgK+tFs5O+YyJc9yCnJa3rxLPulGnxwsXV9Fsk2k4PisCAHC8FkwbGE9gJQAAoMnyksj0CdFMZLLgoz8M+FxziwYBgIx+zHiCBAKAlBKNpF1sO9JpVcyEi9ar15YlHgrut5fPJnkdJ6vEwZPyAHQBIEDUrlMcBAAd2KAS0Qq+JwRsE4AJZtMnAD6GnOYwYlOIZvtzUNdjreB7fiMkWI0CmBB6AIAKc38A9osEFlTSGECB+cbeRDC0aRpLHqNPplcK/76Lxn2rpmqyXsYJWRi/FQAAAKBQk9MCAOibrQBQADCDsqpooPutd+05Ce9g6iEdiYXgVmQAI4+4wskEBEiBloNQ6Ki0/KTQ0QjWfjxzi+AeuXKoMjEVfQOZzr0y941qLgM2AExvbZOqcxZ6J6krlrj4y2j9AdgKDx6GnJsVLhbc42uq584+ouSdNBpoCiCVHrz+WzUA/DDtD8ATgA3h0lMCAAzcFv+S+fSSNkeYWlTpb34mf2RfmqqJeMeklhHAfu7VoAEACgAApKRktL+KkQDWMwYCUAAAAHCKsp80xhp91UjqQBw3x45cetqkjQEyu3G9B6N+R650Uq8OVig7wOm6Wun0ea4lKDPoabJs6aLqgbhPzpv4KR4iODilw88ZpY7q1IOMcbASAOAVtmcCnobcrkG4KGS7/ZnskVWRNF9J0RUHKOnByy9WA8Dv6L4AAARMCQUA4GritfVM2lcZfH3Q3T/vZ47J2YHhcmBazjfdyuV25gLAzrc0cwAAAAAYCh6PdwAAAGyWjFW4yScjaWa2mGcofHxWxewKALglWBpLUvwwk+UOh5eNGyUOs1/EF+pZr+ud5OzoGwYdAABg2p52LiSgAY/ZVlOmilEgHn6G3OcwYjzI7vOj1t6xsx4S3lBY96EUQBF6AIBAmPYH4PoGYCoJAADWe+OZJZi7/x76/yH7Lzf9M5XzRKnFPmveMsilQHwVAAAAAKB3LQD8PCIAAADga0QujBLywzeJ4a6Z/ERVBAUlAEDqvoM7BQBAuAguzFqILtmjH3Kd4wfKobnOhA3z85qWoRPm9hwoOHoDAAlCbwDAA56FHAuXflHo3fe2ttG9XUDeA9YmYCBQ0oPr/1QC8IvuCwAAApbUAQCK22MmE3O78VAbHQT9PIPNoT9zNc3l2Oe7TAVLANBufT8MAQAAAGzT4PS8AQAAoELGHb2uaCwwEv1EWhFriUkbAaAZ27/fVZnTZXbWz3BwWpjUaMZKRj7dZ0J//gUeTdpVEwAAZOFsNxKAjQSgA+ABPoY8Jj5y2wje81jsXc/1TOQWTDYZBmAkNDiqVwuA2NJ9AQAAEBKAt9Vrsfs/2N19MO91S9rd8EHTZHnzC5MYmfQEACy/FBcAAADA5c4gi4z8RANs/m6FNXVo9DV46JG1BBDukqlw/Va5G7QbuGVSI+2aZaoLXJrdVj2zlC9Z5QEAEFz/5QzgVZwAAAAA/oXcxyC6WfTu+09Ve/c766J4VTAGUFmA51+VANKi/QPoPwYgYAkA715OH4S0s5KDHvj99MMq8TPFc3roKZnGOoT1bmIhVgc7XAMBAAAAAMAW1VbQw3gapzOpJd+Kd2fc4iSO62fJv9+movui1wUNPAj059N3OVxzk4gV73PmE8FIA2F5mRq37Evc76vLXfF4rD5UJJAw46hW6LZCb5sNLdx+kzMCAAB+hfy95+965ZCLP7B3/VlTHCvDEKtQhTm4KiCgAEAbrfbWTPssAAAAXpee1tVrozYYn41wD1aeYtkKfswN5/SXPO0JDnhO/4laUortv/s412fybe/nONdncoCHnBVliu0CQGBWlPY/5Kwom2L/kruPM6Q7oz4tvDQy+bZ3HzOi+gNHA4DZEgA=\"),\n        i.resource.add(\"hterm/images/icon-96\", \"image/png;base64\", \"iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAFKhJREFUeNrtXXlsXMd5/30z8649uDzEmxRFibIsOXZ8VInTJFYSW3actE1ctWkctEF6I0VRFEWAoihQoAjQFmiBogWaIEADFCmQXklto04TO0ndWI4bxZalWHJinTYtkRJFkctzl9zd977+8c49+UjuipbCD1y+9+ae75vvmJlv3gO2YRu2YRu2YRu2YUuAtroBN3nfeKsaSXWurarvRvUrTnlccV/5a3lDReRKFdc4Za6nzvW2b7OIpwZh7N37iHYiPztyvy4iqA00Tng/WXH1f3GQsFki0Qbz+cAV12jeRkTwwUd2yfsVI89OjbLrwnoJILw8EoAOIAFgLwDTCxcAJBEJIiIAgoiICAIgIgIBJGpdPRCRq3sPCBAJAii8QgAk/PIFkSBBQvh3QRkQXtECBKpxH9br5hMikhcg4QV4dYkgARFBSkmlUmnp7LmLX8rl8q95OPKJ0DQCkPeTEcQrAD179+7+7LsP3vtJw9A1ZvbwFfQM/r1/AyD64KLBv5JHIaIwIpI5GIbevd82r0I3OMjvJfOo5ffCqw1EhIRlQQi3a37p0atfTVB22PhIuHt95tnnBr75zHN/AGASoYjyxVVTCOCPfOWN9sGfue+df/L4r3z8MSGUOv3aWYDIq43BEXXEQRPCQK5qFleFMdduOwMV3WKUBXFVyVXhtm3jrjtvw13vuL1uPXGAAUghkGlLPXJ9ZvZzL738oz8HsOhFF2u3aH0E8JEvAWhe+n2PHD70Z7/xmccfLBSK9M1nX0AqnYFSKiB7fIiOzg3k21BeYHW1gMkr1/DBB+6HkGLTxmRfbxf9+qc/8WszM9lzF99468twxZCAq5wbQiMCREWPBkDXde3eI489+he/+1u/et/c3AK+/uSzyLTvgK7rm+tBE4CZA1HRaFT7oqNQKCCdsqBp61GD9eHBD77XunJ16o/+6q+/cLJYLP2fhzfGGkRYiwBRK2fnL/3iRz7/uT/8nfuuz2Txla8+hXRbJ6QUKBaLuJmgVLJRKuShlIBpatiEFApACIFHH/lA//NHj33qe0ePvQJXEa/JnHEIoABYd925/zOPf+JjBxMJC//yxX+GYaZgGAZse00ue1uByyWMQrGEldVVKCWbQgAA6OnegQP7997zvaPH2gGsIpQidWuoRwA/o2/bDz70off+nFIa/fczz2Pq2hzSbRksLCxsNT43BI7jYCW/ihd/cBKWZTZhQcFV9qMjQ0gmEwm4hkqsOVEjDogq37bOjvaElBKLizmYVgKWZW01HjeOLGaAbUipoJTWHAKwa4KYpmHCJUB0lQCoU0scK0gCMJRSqqOjHel0EqZpIpFIbDUeNwwOM2y7gO4dnWhrSzVFBDEzMpkULNM04BIgFsS1ggxNUzKVSiCRsEBEUEoFiRq2v5HNXjMd18pSHVeZnuuniZaopIIQBAIhnUqgvb1tU3OBKFiWCdMydABWBH+bIoCvA3RNU9KyDOiahG2XAAAzszO4NHkZINcKALuddRHi3VWFReLcWy8dhxO5aFpvkhamD5HFwQQuStgwLPpsOza45GD/yD4MDw2jVCrCMHSkUwmws3kCMADD0GCZpialMG3bia4trVsJ+xkJAKSUStM0oWsSQrgTGdu2MXllEmezF/HRhz+C4b6hyEgrnyjVLLzhcho1iFsDiGomOzt+Ds/8z7PIzmfR39eP1dVVSOEijR0nRsFrg1ISpmkoQ9cTufxKrBbHmoUoJZWmlPDXRZgdMDNsx8HuXbtx3zvvhRQKTdFmLQACoT2dwY9efRWlvA1m1xJy2IEggkPrnUvXB9M0lGkaiVx+xR/ADQuPRQAppaY0JfzOBB0joFAs4Oyb59E0Y7pF4DDDdmw47LgygQHbbs7Ij4JpGMIwjGRFcF0xFJcDdE0pUb3YQ1hYWsDFSxff7vgHMyO3kkMGiaAPzScAwzB0YVlmAuHo3zQHkKaUppTHAUQBLQnAYm4J41feCldAGeHe2FaCq9fdXQMP8qt5sB6OlGbP4pkBwzBgGHoKMdcIG82Ew0RK6UqTxHAJEHSBCLmVHCavXwUcwGpXMJIS2YnVhrq01cAOQxkC7YMG5i6vwi65LV4trIK10GJyHLvpTTR0DZZlJtEEMxR+IVJJTSlFAFdZL47joFgswrEZ3X06Dv3eAH787Vm8/t0s8nMld9PjBhHCN1G7dlm490g3rIzCt/5yHIWiA5dxGQ5HOcBpatuYGZquwTSNTXMAogVoSukuAXwlzFUpSRCyl1cx+VoOBz/Zi93vyeDE16bx1iuLsIsOSLSWCuwwEh0a9h/uxDs+2gWnxDj+79dQKjhlg4bZl/vkiaDmtkvXNFimmURMJ4VYOkBpSldSug91TDYiIDdXwtEvTeDNlxZw3y/34PDnduLCi/M4+eQ0Zt5cCdI1G/FKFxg5mME9R7rRMWTi/AtzOPnENLKXV2tyrA+lFqzkKk3BNI0k3BWE5swDXA7wlm0bFEkEODbjzWPzmDqTw4HDnbjz57swdHcKp56+jte/k0VurtRUInSPJXD3Y90YfXcbZt7I49t/M45LJ5ZgF7lMAbsN9BfiXE5uthXEzFBK+TpAhrVunAAEeEp4DQ4oyyQI+fkSjn/tGsZfWcA9j3Xjvk/0Yte72vD8FyZw/Y2VauRsAA483ImDn+oF28DL/zqFn3wni/xcESSoTvkExxdBBNilFnCAlLBMM+Hhdk3HtThoIE1TulTuDlscAgAuNxCA6XN5HP+Pa8heWsHAgSQyA0ZzFr8IGHhHCukeHedfmMOpb8wgly021jXkTsjYm9C0YjNJSgFvHuAP7qbMA3TpcwAo1ooDOwwjKTH2QDvu/lg3lCnwg69cxcSpJc8dZJPgACeeuAYhgf0Pd6JjyMArX5/GlZ8sg23U5TCf+ESt0QFCCFiWYcF131kT4lhBpDSXAMy+Eq1PAXYAIYHBu9O490g3evclMf7yAk785zSuX8i7Y68ZOoCA6xdW8N2/u4TRd2dw75FuPPqnu3Dmu7N49RszWLiyGvgGRfM47HjNdzmg6U6kRLAs02wGAXwieBwgggoaMUD7oI67fmEHbjvUgfmrBTz395fw5ksLKK26pmgzO0wCsFcZ576XxeTpZdzxaCfu+HAXRg624eST0zh/dB6FXDjK3TUgVwQREUot0AFCEEx3U8ZoBgEAVwdoUnheFnWGLztA1y4Tj/zxCIyUwI+emsaPn5nF8qyvFFs0D/C805Zni3jpq1MY/+EC7jnSg/f+5gB69yXw/BcnYBfDIeMrYaLW6ACAYFmmjpi7YqpmCRWMq2maLgIOqFcUQ7MErp5ZxqmnZ0Jx0+IJWNBIr5qpszl852/fwp73ZNC3PwmhKCQAUWCGAu5MuNlriEQEy6zaFauLhHg6QClNejte9YQICcL1i3k8/4UJd/bZZHETGwGCYK8yzjw3h4vHFmAXym19dxfNE0EtcqkxTVPTdd0qFApRPNaEtcxQAiA0TelCeKvRDTSoXWTYJb5ho75Rq0kApbwDrphrOREd0Ip5AOBuyhiGHsttpB4BohiUmqZpgel4Mx1qournYCbcUg4wpLccUasVZVCLAJUZhKaUTp5hvTWCpXnAcEIOsG00fxuVYRq6MA3dX5JuCGt5xhEAqWkq4IC4M+GYbV0/bLJ6h92dmlaJIG9ThkyzbE9gQ0rYB6lpSgUc0CT8C0nQzPUvCDk2o7iysUU0gmsFcSCCnJZspeq6BtPUk3HSxrGChKZpmu/U2gwKsMPo2Z/E+397AELFL48EMHFqGd//x0k49gYwR+VWUGvmAQxD12GZZgox1tpiuSa6HOCJIJ8umxo5hELOxvSFPEiuIxcR5idXNzVqqwnQXBZghr8r5m/KbHgxzs+oNE1T/sBvhggiAcyOr+B//+FyUzsfD0ERM7RFIkjTgj2BNTmgnhUUXcd2N4SpBUp4C6DVHABmaEr5+8L+rtiGlTADUK4I8kJ8XeDDes/KAw37zPUSrYUn5tpJOJqE4ThOSACn+RzAAKSU/p7AmgI2phWkyeB4ZqQiAsFZtkFOZI+Ao7SgytVgeJoQVBkf+HRGrxVhVBFGqHj24imSP3psFUAylYCSEsWSDdu2y86WNQukuytmIdwVq3tSJo5zrtI0JUMjiAJzbrB/AA8YRnCWNnLON3JuFyEiIj8AZen9Vc0wL0JkRtMgGlfjDHBwDSLKzwp7dRZL+aYivZwAApZlWnAPt0TxuSYBKocCA1BKUxIgMBy0taUAOCiVikilUkin0/FbFnEz3xxQLGMg6rpemX9paQm37x2DlLLMU6IZIITwOUCraEAVERotR4ccoDQJAI7DGBrsx8MP3o+nv/V9dHf3BAc1IjguO00d+OpHffYrw5ir09WMi5wd4PC8QLDHXHGmIHr1G8dgsOOgoyOJB973LjR/KSLYFYtuymxYCZOUUtM8z2i/w48cPgTTMPDD46eQX1mG768Smqq+qAFEROwIQSASZVdBAiQIQggI8q7+c/AjSCEgZBgm/TgZ3stovKy4RsqzLBMjOweRSiXhNOFwRi0CmJbhE2BTm/KspNQ0pcrMVaUkDj/0fnzg0P0olkqhs+4a71xoeA0LKCurIrhmf2rJzca9cl0Um3U0qZoAqNwV25AS9pEdnA2IguM4kFLC95bYLPiiJYIjtEI83BggWKapCSEsx3E2txinlPJOx9z8k7AbBUTBSRkrl8tv+GUdDIClksphFsvL+ZacKLn1gL3V0DICrOuQXvSohUNE2rnz41QqcdPNtVsRGEBbOgnbdkjTVKUZWgWqRn4fHABOoVBcNE2ztHPnoL7NAfHANHS8dPzE0sxMdsILqvsGrXocEGRYXFx67fUz5y729e7Yw4ADjumb2AJoWq2xCtrwdh0TQRz74YmLpZI9HitHjTCCa0KZANKGoX88lUo+pCmlhBASYMmAjE76Ea4CoNyerDYuUZHRXwiq2Pan8r/yNkcMAiqvv+pwFFWmpQqbl6isaqoVVtajsJfB0piXwCEidhyHp6/PHpudnfs8gDm4b07xX+xXBnEW43jv2Ojo73/20x+ezc47Fy6MN/IOXZ+ZxBvIE6eeCovbn0FXzjXqt4urEsVlGsPQ8NFHP0RP/dez4sv/9G8ZuK8wq2uKxtkRs+44cNs7e3t61NEXXwVIVUye1o+f+nnXsT1ZlrwiH9dKjLp+TZVhoRNy/Jb5PrPjlyfAzDiwf28vgD4AV+AuS5dq5au3FuS/I0IB6B3bM7L7wsW3IJSBjvb2ls0gb3YgIiym0hi/NImB/p5Mpi09Or+weBqu+CliHYtx/ruCpGWZu3cOD/Sceu08ioUiFhcX12rHTy0QEXTdwKVLV7B/326tt3fHnvmFRQMu8v03aAERIjTyC5IAtJGdg/s7OjLmbHYBXV29TVt6uFVB13VMXZtFwrIwMNA3dvbcGxaAFYQb9LE5QAFI7Nk9cgdAyOeL2CFlS8XPrbDUoZTC4lIexVIJw0P9IwDScBVxzVOT9QggvbiuvWOjY9nsPBxmLC0tbc+G1wApJWyHMTObxcjwYB+ALgBTCN8+WTYpa0QAQUTDu0eH+ycmp5BOtyGVSm0r4Big6wYmJqYwNNTfIaXss237DEIRVMYFUQIEnnDwOGBwoG9ff19P+tXT52BZiVtCRLS6D8wM0zRx6fJV/Oz991jdOzp3Xp2a9iVKlTlayQFR89PYPTp8wLJMys4tItNuYH5+fqvx97YHIQQ0XcfUtRmkUgnq7+8duTo1raGOj1AlB0TnAOm9Y6O35XJ5MAskk8lt8bMOmMzOwHEYw0P9IydOnjYR6oC6BADK5wD9e8d2DV65Og3dMKGUuuUUcCvFkcPA/PwCRnYODAJoA3AdNRy1anGABCA7O9vHRnYOdrx84sdgBubm5rY5ICa4m/8Sk1enMTQ00A2gG8BbKOcCBmpzgASgj44M7+/oaJfXpmfR3t5xy07AWsUFhUIRlyemcOcde9OpVHJgaWn5FawhgqLfhkmOje26nZmRyxXQtePmfU3xVoFpmbg2PYtMW1rr6+3eeX5pOaqEgyWJShHkJ9px297RXddnsiiWbCwuLv5UiJ9aX/bYSBlE7nV5OYe2dAqDA727zl94s5IAZSIoKv9FImHt2rN7pDs7N4/l5WVIOesRwH8Tbs2qgwvXi6uKr9PB+u8ujomSeKlonZG0RmRl6AcPHcTAQC8GB/uGEb5RPToh46j3bhCxc3hg39Bgn9nbswPpVBK53ErZR2tqOV358eVx4X2wzRRx2K103q12yEXo5Bvcry99I4ewuI5kYdsj6SIOxV5omXOwphS6ujoghMDw0EAvXEvoSgTfAKrfaUMA9F0jQ7d3d3chk0njoQ+9b83NiK0VTnHendOqdnLdIIY7K3YJ0N8ppeixbecMYixFpHaNDI+mU0n3pdl8a9n+NxJ87ujv7030dO8YvHL1mr8zWsYBlZrZymTSKaUlQNLAVo/vmxsIxCV0tLeJzs72bo8AboSH71qroStLS8u567PzyK86G9ox32yjW1lU6/sTrYFhmQqWZSGdSmZqpVZlqV3IzcxkZ6evTWFpebWmT2+tj6MF76OtdbSL61gyzDXTlZ0hKE9Q9rEGrrK8uELec1Vc+bcJIvfRwyM1wpiry2sU5opvRqYtCcuUKBSKJYQf/QzcFX0CRN0Rc8dPnD5qJZ7okVKCHYd8V27/RRcM9gAAewc/2bsLH+GnCf+Xp/PmFsFtEBumLqss8oTIX9lzUFCQJ9rAijRV92VtjTxHyquqpKzLjn+Fu+xsKyULzLzyxhuXnkSNL66WnYRB+KnCDNydHP/dZzpCU7WWUuAGzxwjvlYZ9cLWm4cbxMUpD2vkqQzzkVwEUIC7Gb/iXQvez3fSYlWR0YZLuUUvkYHw453+JGK9EKdTrdT0Db2TW9CO6DeGSyhHetWXVqOfvXAq7m0vY9xvBW+28RvJ3ygP4ca3KcpJUU7wER/VAQBqK2H/DRZ+hspDe81EYKsQsZV1Vg7oKNKjyGegsXNuFOE302Ywr/G8Fe2pq4fqIfZmQvjbHbZ6AGzDNmzDNmzD2xT+H+5UT7Tyxc2HAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTA2LTMwVDExOjUwOjAyLTA0OjAwOaSkCgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMy0xMS0wMVQxMDozODoyNC0wNDowMNba8BsAAAAASUVORK5CYII=\"),\n        i.resource.add(\"hterm/concat/date\", \"text/plain\", \"Tue, 22 Aug 2017 06:42:31 +0000\"),\n        i.resource.add(\"hterm/changelog/version\", \"text/plain\", \"1.70\"),\n        i.resource.add(\"hterm/changelog/date\", \"text/plain\", \"2017-08-16\"),\n        i.resource.add(\"hterm/git/HEAD\", \"text/plain\", \"git rev-parse HEAD\"),\n        e.exports = {\n            hterm: o,\n            lib: i\n        }\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }),\n            t.CHARSETS = {},\n            t.DEFAULT_CHARSET = t.CHARSETS.B,\n            t.CHARSETS[0] = {\n                \"`\": \"\",\n                a: \"\",\n                b: \"\\t\",\n                c: \"\\f\",\n                d: \"\\r\",\n                e: \"\\n\",\n                f: \"\",\n                g: \"\",\n                h: \"\",\n                i: \"\\v\",\n                j: \"\",\n                k: \"\",\n                l: \"\",\n                m: \"\",\n                n: \"\",\n                o: \"\",\n                p: \"\",\n                q: \"\",\n                r: \"\",\n                s: \"\",\n                t: \"\",\n                u: \"\",\n                v: \"\",\n                w: \"\",\n                x: \"\",\n                y: \"\",\n                z: \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.A = {\n                \"#\": \"\"\n            },\n            t.CHARSETS.B = null,\n            t.CHARSETS[4] = {\n                \"#\": \"\",\n                \"@\": \"\",\n                \"[\": \"ij\",\n                \"\\\\\": \"\",\n                \"]\": \"|\",\n                \"{\": \"\",\n                \"|\": \"f\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.C = t.CHARSETS[5] = {\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"^\": \"\",\n                \"`\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.R = {\n                \"#\": \"\",\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.Q = {\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"^\": \"\",\n                \"`\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.K = {\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.Y = {\n                \"#\": \"\",\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"`\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.E = t.CHARSETS[6] = {\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"^\": \"\",\n                \"`\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS.Z = {\n                \"#\": \"\",\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\"\n            },\n            t.CHARSETS.H = t.CHARSETS[7] = {\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"^\": \"\",\n                \"`\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            },\n            t.CHARSETS[\"=\"] = {\n                \"#\": \"\",\n                \"@\": \"\",\n                \"[\": \"\",\n                \"\\\\\": \"\",\n                \"]\": \"\",\n                \"^\": \"\",\n                _: \"\",\n                \"`\": \"\",\n                \"{\": \"\",\n                \"|\": \"\",\n                \"}\": \"\",\n                \"~\": \"\"\n            }\n    }\n    , function(e, t, r) {\n        /**\n         * Implements the attach method, that attaches the terminal to a WebSocket stream.\n         * @module xterm/addons/attach/attach\n         * @license MIT\n         */\n        !function(t) {\n            e.exports = t(r(0))\n        }(function(e) {\n            \"use strict\";\n            var t = {};\n            return t.attach = function(e, t, r, i) {\n                r = void 0 === r || r,\n                    e.socket = t,\n                    e._flushBuffer = function() {\n                        e.write(e._attachSocketBuffer),\n                            e._attachSocketBuffer = null,\n                            clearTimeout(e._attachSocketBufferTimer),\n                            e._attachSocketBufferTimer = null\n                    }\n                    ,\n                    e._pushToBuffer = function(t) {\n                        e._attachSocketBuffer ? e._attachSocketBuffer += t : (e._attachSocketBuffer = t,\n                            setTimeout(e._flushBuffer, 10))\n                    }\n                    ,\n                    e._getMessage = function(t) {\n                        i ? e._pushToBuffer(t.data) : e.write(t.data)\n                    }\n                    ,\n                    e._sendData = function(e) {\n                        t.send(e)\n                    }\n                    ,\n                    t.addEventListener(\"message\", e._getMessage),\n                r && e.on(\"data\", e._sendData),\n                    t.addEventListener(\"close\", e.detach.bind(e, t)),\n                    t.addEventListener(\"error\", e.detach.bind(e, t))\n            }\n                ,\n                t.detach = function(e, t) {\n                    e.off(\"data\", e._sendData),\n                    (t = void 0 === t ? e.socket : t) && t.removeEventListener(\"message\", e._getMessage),\n                        delete e.socket\n                }\n                ,\n                e.prototype.attach = function(e, r, i) {\n                    return t.attach(this, e, r, i)\n                }\n                ,\n                e.prototype.detach = function(e) {\n                    return t.detach(this, e)\n                }\n                ,\n                t\n        })\n    }\n    , function(e, t, r) {\n        /**\n         * Fit terminal columns and rows to the dimensions of its DOM element.\n         *\n         * ## Approach\n         * - Rows: Truncate the division of the terminal parent element height by the terminal row height.\n         *\n         * - Columns: Truncate the division of the terminal parent element width by the terminal character\n         * width (apply display: inline at the terminal row and truncate its width with the current\n         * number of columns).\n         * @module xterm/addons/fit/fit\n         * @license MIT\n         */\n        !function(t) {\n            e.exports = t(r(0))\n        }(function(e) {\n            var t = {};\n            return t.proposeGeometry = function(e) {\n                if (!e.element.parentElement)\n                    return null;\n                var t, r, i, o, s = window.getComputedStyle(e.element.parentElement), n = parseInt(s.getPropertyValue(\"height\")), a = Math.max(0, parseInt(s.getPropertyValue(\"width\")) - 17), l = window.getComputedStyle(e.element), h = n - (parseInt(l.getPropertyValue(\"padding-top\")) + parseInt(l.getPropertyValue(\"padding-bottom\"))), c = a - (parseInt(l.getPropertyValue(\"padding-right\")) + parseInt(l.getPropertyValue(\"padding-left\"))), u = (e.rowContainer,\n                    e.rowContainer.firstElementChild), d = u.innerHTML;\n                return u.style.display = \"inline\",\n                    u.innerHTML = \"W\",\n                    i = u.getBoundingClientRect().width,\n                    u.style.display = \"\",\n                    t = u.getBoundingClientRect().height,\n                    u.innerHTML = d,\n                    r = parseInt(h / t),\n                    o = parseInt(c / i),\n                    {\n                        cols: o,\n                        rows: r\n                    }\n            }\n                ,\n                t.fit = function(e) {\n                    var r = t.proposeGeometry(e);\n                    r && e.resize(r.cols, r.rows)\n                }\n                ,\n                e.prototype.proposeGeometry = function() {\n                    return t.proposeGeometry(this)\n                }\n                ,\n                e.prototype.fit = function() {\n                    return t.fit(this)\n                }\n                ,\n                t\n        })\n    }\n    , function(e, t, r) {\n        /**\n         * Fullscreen addon for xterm.js\n         * @module xterm/addons/fullscreen/fullscreen\n         * @license MIT\n         */\n        !function(t) {\n            e.exports = t(r(0))\n        }(function(e) {\n            var t = {};\n            return t.toggleFullScreen = function(e, t) {\n                var r;\n                r = void 0 === t ? e.element.classList.contains(\"fullscreen\") ? \"remove\" : \"add\" : t ? \"add\" : \"remove\",\n                    e.element.classList[r](\"fullscreen\")\n            }\n                ,\n                e.prototype.toggleFullscreen = function(e) {\n                    t.toggleFullScreen(this, e)\n                }\n                ,\n                t\n        })\n    }\n    , function(e, t, r) {\n        /**\n         * This module provides methods for attaching a terminal to a terminado WebSocket stream.\n         *\n         * @module xterm/addons/terminado/terminado\n         * @license MIT\n         */\n        !function(t) {\n            e.exports = t(r(0))\n        }(function(e) {\n            \"use strict\";\n            var t = {};\n            return t.terminadoAttach = function(e, t, r, i) {\n                r = void 0 === r || r,\n                    e.socket = t,\n                    e._flushBuffer = function() {\n                        e.write(e._attachSocketBuffer),\n                            e._attachSocketBuffer = null,\n                            clearTimeout(e._attachSocketBufferTimer),\n                            e._attachSocketBufferTimer = null\n                    }\n                    ,\n                    e._pushToBuffer = function(t) {\n                        e._attachSocketBuffer ? e._attachSocketBuffer += t : (e._attachSocketBuffer = t,\n                            setTimeout(e._flushBuffer, 10))\n                    }\n                    ,\n                    e._getMessage = function(t) {\n                        var r = JSON.parse(t.data);\n                        \"stdout\" == r[0] && (i ? e._pushToBuffer(r[1]) : e.write(r[1]))\n                    }\n                    ,\n                    e._sendData = function(e) {\n                        t.send(JSON.stringify([\"stdin\", e]))\n                    }\n                    ,\n                    e._setSize = function(e) {\n                        t.send(JSON.stringify([\"set_size\", e.rows, e.cols]))\n                    }\n                    ,\n                    t.addEventListener(\"message\", e._getMessage),\n                r && e.on(\"data\", e._sendData),\n                    e.on(\"resize\", e._setSize),\n                    t.addEventListener(\"close\", e.terminadoDetach.bind(e, t)),\n                    t.addEventListener(\"error\", e.terminadoDetach.bind(e, t))\n            }\n                ,\n                t.terminadoDetach = function(e, t) {\n                    e.off(\"data\", e._sendData),\n                    (t = void 0 === t ? e.socket : t) && t.removeEventListener(\"message\", e._getMessage),\n                        delete e.socket\n                }\n                ,\n                e.prototype.terminadoAttach = function(e, r, i) {\n                    return t.terminadoAttach(this, e, r, i)\n                }\n                ,\n                e.prototype.terminadoDetach = function(e) {\n                    return t.terminadoDetach(this, e)\n                }\n                ,\n                t\n        })\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = r(27)\n            , o = \"undefined\" == typeof navigator\n            , s = o ? \"node\" : navigator.userAgent\n            , n = o ? \"node\" : navigator.platform;\n        t.isFirefox = !!~s.indexOf(\"Firefox\"),\n            t.isMSIE = !!~s.indexOf(\"MSIE\") || !!~s.indexOf(\"Trident\"),\n            t.isMac = i.contains([\"Macintosh\", \"MacIntel\", \"MacPPC\", \"Mac68K\"], n),\n            t.isIpad = \"iPad\" === n,\n            t.isIphone = \"iPhone\" === n,\n            t.isMSWindows = i.contains([\"Windows\", \"Win16\", \"Win32\", \"WinCE\"], n),\n            t.isLinux = n.indexOf(\"Linux\") >= 0\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        function i(e, t) {\n            if (null == e.pageX)\n                return null;\n            for (var r = e.pageX, i = e.pageY; t && t !== self.document.documentElement; )\n                r -= t.offsetLeft,\n                    i -= t.offsetTop,\n                    t = \"offsetParent\"in t ? t.offsetParent : t.parentElement;\n            return [r, i]\n        }\n        function o(e, t, r, o, s, n) {\n            var a = i(e, t);\n            return a[0] = Math.ceil((a[0] + (n ? r.width / 2 : 0)) / r.width),\n                a[1] = Math.ceil(a[1] / r.height),\n                a[0] = Math.min(Math.max(a[0], 1), o + 1),\n                a[1] = Math.min(Math.max(a[1], 1), s + 1),\n                a\n        }\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }),\n            t.getCoordsRelativeToElement = i,\n            t.getCoords = o,\n            t.getRawByteCoords = function(e, t, r, i, s) {\n                var n = o(e, t, r, i, s)\n                    , a = n[0]\n                    , l = n[1];\n                return a += 32,\n                    l += 32,\n                    {\n                        x: a,\n                        y: l\n                    }\n            }\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = r(3)\n            , o = function() {\n            function e(e) {\n                this.elem = e,\n                    i.hterm.defaultStorage = new i.lib.Storage.Memory,\n                    this.term = new i.hterm.Terminal,\n                    this.term.getPrefs().set(\"send-encoding\", \"raw\"),\n                    this.term.decorate(this.elem),\n                    this.io = this.term.io.push(),\n                    this.term.installKeyboard()\n            }\n            return e.prototype.info = function() {\n                return {\n                    columns: this.columns,\n                    rows: this.rows\n                }\n            }\n                ,\n                e.prototype.output = function(e) {\n                    null != this.term.io && this.term.io.writeUTF8(e)\n                }\n                ,\n                e.prototype.showMessage = function(e, t) {\n                    this.message = e,\n                        t > 0 ? this.term.io.showOverlay(e, t) : this.term.io.showOverlay(e, null)\n                }\n                ,\n                e.prototype.removeMessage = function() {\n                    this.term.io.showOverlay(this.message, 0)\n                }\n                ,\n                e.prototype.setWindowTitle = function(e) {\n                    this.term.setWindowTitle(e)\n                }\n                ,\n                e.prototype.setPreferences = function(e) {\n                    var t = this;\n                    Object.keys(e).forEach(function(r) {\n                        t.term.getPrefs().set(r, e[r])\n                    })\n                }\n                ,\n                e.prototype.onInput = function(e) {\n                    this.io.onVTKeystroke = function(t) {\n                        e(t)\n                    }\n                        ,\n                        this.io.sendString = function(t) {\n                            e(t)\n                        }\n                }\n                ,\n                e.prototype.onResize = function(e) {\n                    var t = this;\n                    this.io.onTerminalResize = function(r, i) {\n                        t.columns = r,\n                            t.rows = i,\n                            e(r, i)\n                    }\n                }\n                ,\n                e.prototype.deactivate = function() {\n                    this.io.onVTKeystroke = function() {}\n                        ,\n                        this.io.sendString = function() {}\n                        ,\n                        this.io.onTerminalResize = function() {}\n                        ,\n                        this.term.uninstallKeyboard()\n                }\n                ,\n                e.prototype.reset = function() {\n                    this.removeMessage(),\n                        this.term.installKeyboard()\n                }\n                ,\n                e.prototype.close = function() {\n                    this.term.uninstallKeyboard()\n                }\n                ,\n                e\n        }();\n        t.Hterm = o\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = function() {\n            function e(e, t) {\n                this.url = e,\n                    this.protocols = t\n            }\n            return e.prototype.create = function() {\n                return new o(this.url,this.protocols)\n            }\n                ,\n                e\n        }();\n        t.ConnectionFactory = i;\n        var o = function() {\n            function e(e, t) {\n                this.bare = new WebSocket(e,t)\n            }\n            return e.prototype.open = function() {}\n                ,\n                e.prototype.close = function() {\n                    this.bare.close()\n                }\n                ,\n                e.prototype.send = function(e) {\n                    this.bare.send(e)\n                }\n                ,\n                e.prototype.isOpen = function() {\n                    return this.bare.readyState == WebSocket.CONNECTING || this.bare.readyState == WebSocket.OPEN\n                }\n                ,\n                e.prototype.onOpen = function(e) {\n                    this.bare.onopen = function(t) {\n                        e()\n                    }\n                }\n                ,\n                e.prototype.onReceive = function(e) {\n                    this.bare.onmessage = function(t) {\n                        e(t.data)\n                    }\n                }\n                ,\n                e.prototype.onClose = function(e) {\n                    this.bare.onclose = function(t) {\n                        e()\n                    }\n                }\n                ,\n                e\n        }();\n        t.Connection = o\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }),\n            t.protocols = [\"webtty\"],\n            t.msgInputUnknown = \"0\",\n            t.msgInput = \"1\",\n            t.msgPing = \"2\",\n            t.msgResizeTerminal = \"3\",\n            t.msgUnknownOutput = \"0\",\n            t.msgOutput = \"1\",\n            t.msgPong = \"2\",\n            t.msgSetWindowTitle = \"3\",\n            t.msgSetPreferences = \"4\",\n            t.msgSetReconnect = \"5\";\n        var i = function() {\n            function e(e, t, r, i) {\n                this.term = e,\n                    this.connectionFactory = t,\n                    this.args = r,\n                    this.authToken = i,\n                    this.reconnect = -1\n            }\n            return e.prototype.open = function() {\n                var e, r, i = this, o = this.connectionFactory.create(), s = function() {\n                    o.onOpen(function() {\n                        var r = i.term.info();\n                        o.send(JSON.stringify({\n                            Arguments: i.args,\n                            AuthToken: i.authToken\n                        }));\n                        var s = function(e, r) {\n                            o.send(t.msgResizeTerminal + JSON.stringify({\n                                columns: e,\n                                rows: r\n                            }))\n                        };\n                        i.term.onResize(s),\n                            s(r.columns, r.rows),\n                            i.term.onInput(function(e) {\n                                o.send(t.msgInput + e)\n                            }),\n                            e = setInterval(function() {\n                                o.send(t.msgPing)\n                            }, 3e4)\n                    }),\n                        o.onReceive(function(e) {\n                            var r = e.slice(1);\n                            switch (e[0]) {\n                                case t.msgOutput:\n                                    i.term.output(atob(r));\n                                    break;\n                                case t.msgPong:\n                                    break;\n                                case t.msgSetWindowTitle:\n                                    i.term.setWindowTitle(r);\n                                    break;\n                                case t.msgSetPreferences:\n                                    var o = JSON.parse(r);\n                                    i.term.setPreferences(o);\n                                    break;\n                                case t.msgSetReconnect:\n                                    var s = JSON.parse(r);\n                                    console.log(\"Enabling reconnect: \" + s + \" seconds\"),\n                                        i.reconnect = s\n                            }\n                        }),\n                        o.onClose(function() {\n                            console.log(\"ws close\")\n                            clearInterval(e),\n                                i.term.deactivate(),\n    alert(\"\")\n                            window.close()\n                               //i.term.showMessage(\"Connection Closed\", 0),\n                            //i.reconnect > 0 && (r = setTimeout(function() {\n                                //o = i.connectionFactory.create(),\n                                    //i.term.reset(),\n                                    //s()\n                            //}, 1e3 * i.reconnect))\n                        }),\n                        o.open()\n                };\n                return s(),\n                    function() {\n                        clearTimeout(r),\n                            o.close()\n                    }\n            }\n                ,\n                e\n        }();\n        t.WebTTY = i\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = r(0)\n            , o = r(3);\n        i.loadAddon(\"fit\");\n        var s = function() {\n            function e(e) {\n                var t = this;\n                this.elem = e,\n                    this.term = new i,\n                    this.message = e.ownerDocument.createElement(\"div\"),\n                    this.message.className = \"xterm-overlay\",\n                    this.messageTimeout = 2e3,\n                    this.resizeListener = function() {\n                        t.term.fit(),\n                            t.term.scrollToBottom(),\n                            t.showMessage(String(t.term.cols) + \"x\" + String(t.term.rows), t.messageTimeout)\n                    }\n                    ,\n                    this.term.on(\"open\", function() {\n                        t.resizeListener(),\n                            window.addEventListener(\"resize\", function() {\n                                t.resizeListener()\n                            })\n                    }),\n                    this.term.open(e, !0),\n                    this.decoder = new o.lib.UTF8Decoder\n            }\n            return e.prototype.info = function() {\n                return {\n                    columns: this.term.cols,\n                    rows: this.term.rows\n                }\n            }\n                ,\n                e.prototype.output = function(e) {\n                    this.term.write(this.decoder.decode(e))\n                }\n                ,\n                e.prototype.showMessage = function(e, t) {\n                    var r = this;\n                    this.message.textContent = e,\n                        this.elem.appendChild(this.message),\n                    this.messageTimer && clearTimeout(this.messageTimer),\n                    t > 0 && (this.messageTimer = setTimeout(function() {\n                        r.elem.removeChild(r.message)\n                    }, t))\n                }\n                ,\n                e.prototype.removeMessage = function() {\n                    this.message.parentNode == this.elem && this.elem.removeChild(this.message)\n                }\n                ,\n                e.prototype.setWindowTitle = function(e) {\n                    document.title = e\n                }\n                ,\n                e.prototype.setPreferences = function(e) {}\n                ,\n                e.prototype.onInput = function(e) {\n                    this.term.on(\"data\", function(t) {\n                        e(t)\n                    })\n                }\n                ,\n                e.prototype.onResize = function(e) {\n                    this.term.on(\"resize\", function(t) {\n                        e(t.cols, t.rows)\n                    })\n                }\n                ,\n                e.prototype.deactivate = function() {\n                    this.term.off(\"data\"),\n                        this.term.off(\"resize\"),\n                        this.term.blur()\n                }\n                ,\n                e.prototype.reset = function() {\n                    this.removeMessage(),\n                        this.term.clear()\n                }\n                ,\n                e.prototype.close = function() {\n                    window.removeEventListener(\"resize\", this.resizeListener),\n                        this.term.destroy()\n                }\n                ,\n                e\n        }();\n        t.Xterm = s\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = function() {\n            function e(e, t, r) {\n                this.textarea = e,\n                    this.compositionView = t,\n                    this.terminal = r,\n                    this.isComposing = !1,\n                    this.isSendingComposition = !1,\n                    this.compositionPosition = {\n                        start: null,\n                        end: null\n                    }\n            }\n            return e.prototype.compositionstart = function() {\n                this.isComposing = !0,\n                    this.compositionPosition.start = this.textarea.value.length,\n                    this.compositionView.textContent = \"\",\n                    this.compositionView.classList.add(\"active\")\n            }\n                ,\n                e.prototype.compositionupdate = function(e) {\n                    var t = this;\n                    this.compositionView.textContent = e.data,\n                        this.updateCompositionElements(),\n                        setTimeout(function() {\n                            t.compositionPosition.end = t.textarea.value.length\n                        }, 0)\n                }\n                ,\n                e.prototype.compositionend = function() {\n                    this.finalizeComposition(!0)\n                }\n                ,\n                e.prototype.keydown = function(e) {\n                    if (this.isComposing || this.isSendingComposition) {\n                        if (229 === e.keyCode)\n                            return !1;\n                        if (16 === e.keyCode || 17 === e.keyCode || 18 === e.keyCode)\n                            return !1;\n                        this.finalizeComposition(!1)\n                    }\n                    return 229 !== e.keyCode || (this.handleAnyTextareaChanges(),\n                        !1)\n                }\n                ,\n                e.prototype.finalizeComposition = function(e) {\n                    var t = this;\n                    if (this.compositionView.classList.remove(\"active\"),\n                        this.isComposing = !1,\n                        this.clearTextareaPosition(),\n                        e) {\n                        var r = {\n                            start: this.compositionPosition.start,\n                            end: this.compositionPosition.end\n                        };\n                        this.isSendingComposition = !0,\n                            setTimeout(function() {\n                                if (t.isSendingComposition) {\n                                    t.isSendingComposition = !1;\n                                    var e = void 0;\n                                    e = t.isComposing ? t.textarea.value.substring(r.start, r.end) : t.textarea.value.substring(r.start),\n                                        t.terminal.handler(e)\n                                }\n                            }, 0)\n                    } else {\n                        this.isSendingComposition = !1;\n                        var i = this.textarea.value.substring(this.compositionPosition.start, this.compositionPosition.end);\n                        this.terminal.handler(i)\n                    }\n                }\n                ,\n                e.prototype.handleAnyTextareaChanges = function() {\n                    var e = this\n                        , t = this.textarea.value;\n                    setTimeout(function() {\n                        if (!e.isComposing) {\n                            var r = e.textarea.value.replace(t, \"\");\n                            r.length > 0 && e.terminal.handler(r)\n                        }\n                    }, 0)\n                }\n                ,\n                e.prototype.updateCompositionElements = function(e) {\n                    var t = this;\n                    if (this.isComposing) {\n                        var r = this.terminal.element.querySelector(\".terminal-cursor\");\n                        if (r) {\n                            var i = this.terminal.element.querySelector(\".xterm-rows\").offsetTop + r.offsetTop;\n                            this.compositionView.style.left = r.offsetLeft + \"px\",\n                                this.compositionView.style.top = i + \"px\",\n                                this.compositionView.style.height = r.offsetHeight + \"px\",\n                                this.compositionView.style.lineHeight = r.offsetHeight + \"px\";\n                            var o = this.compositionView.getBoundingClientRect();\n                            this.textarea.style.left = r.offsetLeft + \"px\",\n                                this.textarea.style.top = i + \"px\",\n                                this.textarea.style.width = o.width + \"px\",\n                                this.textarea.style.height = o.height + \"px\",\n                                this.textarea.style.lineHeight = o.height + \"px\"\n                        }\n                        e || setTimeout(function() {\n                            return t.updateCompositionElements(!0)\n                        }, 0)\n                    }\n                }\n                ,\n                e.prototype.clearTextareaPosition = function() {\n                    this.textarea.style.left = \"\",\n                        this.textarea.style.top = \"\"\n                }\n                ,\n                e\n        }();\n        t.CompositionHelper = i\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = r(2)\n            , o = r(4)\n            , s = function() {\n            function e(e) {\n                this._terminal = e\n            }\n            return e.prototype.addChar = function(e, t) {\n                if (e >= \" \") {\n                    var r = n(t);\n                    this._terminal.charset && this._terminal.charset[e] && (e = this._terminal.charset[e]);\n                    var i = this._terminal.y + this._terminal.ybase;\n                    if (!r && this._terminal.x)\n                        return void (this._terminal.lines.get(i)[this._terminal.x - 1] && (this._terminal.lines.get(i)[this._terminal.x - 1][2] ? this._terminal.lines.get(i)[this._terminal.x - 1][1] += e : this._terminal.lines.get(i)[this._terminal.x - 2] && (this._terminal.lines.get(i)[this._terminal.x - 2][1] += e),\n                            this._terminal.updateRange(this._terminal.y)));\n                    if (this._terminal.x + r - 1 >= this._terminal.cols)\n                        if (this._terminal.wraparoundMode)\n                            this._terminal.x = 0,\n                                ++this._terminal.y > this._terminal.scrollBottom ? (this._terminal.y--,\n                                    this._terminal.scroll(!0)) : this._terminal.lines.get(this._terminal.y).isWrapped = !0;\n                        else if (2 === r)\n                            return;\n                    if (i = this._terminal.y + this._terminal.ybase,\n                        this._terminal.insertMode)\n                        for (var o = 0; o < r; ++o)\n                            0 === this._terminal.lines.get(this._terminal.y + this._terminal.ybase).pop()[2] && this._terminal.lines.get(i)[this._terminal.cols - 2] && 2 === this._terminal.lines.get(i)[this._terminal.cols - 2][2] && (this._terminal.lines.get(i)[this._terminal.cols - 2] = [this._terminal.curAttr, \" \", 1]),\n                                this._terminal.lines.get(i).splice(this._terminal.x, 0, [this._terminal.curAttr, \" \", 1]);\n                    this._terminal.lines.get(i)[this._terminal.x] = [this._terminal.curAttr, e, r],\n                        this._terminal.x++,\n                        this._terminal.updateRange(this._terminal.y),\n                    2 === r && (this._terminal.lines.get(i)[this._terminal.x] = [this._terminal.curAttr, \"\", 0],\n                        this._terminal.x++)\n                }\n            }\n                ,\n                e.prototype.bell = function() {\n                    var e = this;\n                    this._terminal.visualBell && (this._terminal.element.style.borderColor = \"white\",\n                        setTimeout(function() {\n                            return e._terminal.element.style.borderColor = \"\"\n                        }, 10),\n                    this._terminal.popOnBell && this._terminal.focus())\n                }\n                ,\n                e.prototype.lineFeed = function() {\n                    this._terminal.convertEol && (this._terminal.x = 0),\n                    ++this._terminal.y > this._terminal.scrollBottom && (this._terminal.y--,\n                        this._terminal.scroll()),\n                    this._terminal.x >= this._terminal.cols && this._terminal.x--\n                }\n                ,\n                e.prototype.carriageReturn = function() {\n                    this._terminal.x = 0\n                }\n                ,\n                e.prototype.backspace = function() {\n                    this._terminal.x > 0 && this._terminal.x--\n                }\n                ,\n                e.prototype.tab = function() {\n                    this._terminal.x = this._terminal.nextStop()\n                }\n                ,\n                e.prototype.shiftOut = function() {\n                    this._terminal.setgLevel(1)\n                }\n                ,\n                e.prototype.shiftIn = function() {\n                    this._terminal.setgLevel(0)\n                }\n                ,\n                e.prototype.insertChars = function(e) {\n                    var t, r, i, o;\n                    for ((t = e[0]) < 1 && (t = 1),\n                             r = this._terminal.y + this._terminal.ybase,\n                             i = this._terminal.x,\n                             o = [this._terminal.eraseAttr(), \" \", 1]; t-- && i < this._terminal.cols; )\n                        this._terminal.lines.get(r).splice(i++, 0, o),\n                            this._terminal.lines.get(r).pop()\n                }\n                ,\n                e.prototype.cursorUp = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.y -= t,\n                    this._terminal.y < 0 && (this._terminal.y = 0)\n                }\n                ,\n                e.prototype.cursorDown = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.y += t,\n                    this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1),\n                    this._terminal.x >= this._terminal.cols && this._terminal.x--\n                }\n                ,\n                e.prototype.cursorForward = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.x += t,\n                    this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1)\n                }\n                ,\n                e.prototype.cursorBackward = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                    this._terminal.x >= this._terminal.cols && this._terminal.x--,\n                        this._terminal.x -= t,\n                    this._terminal.x < 0 && (this._terminal.x = 0)\n                }\n                ,\n                e.prototype.cursorNextLine = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.y += t,\n                    this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1),\n                        this._terminal.x = 0\n                }\n                ,\n                e.prototype.cursorPrecedingLine = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.y -= t,\n                    this._terminal.y < 0 && (this._terminal.y = 0),\n                        this._terminal.x = 0\n                }\n                ,\n                e.prototype.cursorCharAbsolute = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.x = t - 1\n                }\n                ,\n                e.prototype.cursorPosition = function(e) {\n                    var t, r;\n                    t = e[0] - 1,\n                        r = e.length >= 2 ? e[1] - 1 : 0,\n                        t < 0 ? t = 0 : t >= this._terminal.rows && (t = this._terminal.rows - 1),\n                        r < 0 ? r = 0 : r >= this._terminal.cols && (r = this._terminal.cols - 1),\n                        this._terminal.x = r,\n                        this._terminal.y = t\n                }\n                ,\n                e.prototype.cursorForwardTab = function(e) {\n                    for (var t = e[0] || 1; t--; )\n                        this._terminal.x = this._terminal.nextStop()\n                }\n                ,\n                e.prototype.eraseInDisplay = function(e) {\n                    var t;\n                    switch (e[0]) {\n                        case 0:\n                            for (this._terminal.eraseRight(this._terminal.x, this._terminal.y),\n                                     t = this._terminal.y + 1; t < this._terminal.rows; t++)\n                                this._terminal.eraseLine(t);\n                            break;\n                        case 1:\n                            for (this._terminal.eraseLeft(this._terminal.x, this._terminal.y),\n                                     t = this._terminal.y; t--; )\n                                this._terminal.eraseLine(t);\n                            break;\n                        case 2:\n                            for (t = this._terminal.rows; t--; )\n                                this._terminal.eraseLine(t);\n                            break;\n                        case 3:\n                            var r = this._terminal.lines.length - this._terminal.rows;\n                            r > 0 && (this._terminal.lines.trimStart(r),\n                                this._terminal.ybase = Math.max(this._terminal.ybase - r, 0),\n                                this._terminal.ydisp = Math.max(this._terminal.ydisp - r, 0))\n                    }\n                }\n                ,\n                e.prototype.eraseInLine = function(e) {\n                    switch (e[0]) {\n                        case 0:\n                            this._terminal.eraseRight(this._terminal.x, this._terminal.y);\n                            break;\n                        case 1:\n                            this._terminal.eraseLeft(this._terminal.x, this._terminal.y);\n                            break;\n                        case 2:\n                            this._terminal.eraseLine(this._terminal.y)\n                    }\n                }\n                ,\n                e.prototype.insertLines = function(e) {\n                    var t, r, i;\n                    for ((t = e[0]) < 1 && (t = 1),\n                             r = this._terminal.y + this._terminal.ybase,\n                             i = this._terminal.rows - 1 - this._terminal.scrollBottom,\n                             i = this._terminal.rows - 1 + this._terminal.ybase - i + 1; t--; )\n                        this._terminal.lines.length === this._terminal.lines.maxLength && (this._terminal.lines.trimStart(1),\n                            this._terminal.ybase--,\n                            this._terminal.ydisp--,\n                            r--,\n                            i--),\n                            this._terminal.lines.splice(r, 0, this._terminal.blankLine(!0)),\n                            this._terminal.lines.splice(i, 1);\n                    this._terminal.updateRange(this._terminal.y),\n                        this._terminal.updateRange(this._terminal.scrollBottom)\n                }\n                ,\n                e.prototype.deleteLines = function(e) {\n                    var t, r, i;\n                    for ((t = e[0]) < 1 && (t = 1),\n                             r = this._terminal.y + this._terminal.ybase,\n                             i = this._terminal.rows - 1 - this._terminal.scrollBottom,\n                             i = this._terminal.rows - 1 + this._terminal.ybase - i; t--; )\n                        this._terminal.lines.length === this._terminal.lines.maxLength && (this._terminal.lines.trimStart(1),\n                            this._terminal.ybase -= 1,\n                            this._terminal.ydisp -= 1),\n                            this._terminal.lines.splice(i + 1, 0, this._terminal.blankLine(!0)),\n                            this._terminal.lines.splice(r, 1);\n                    this._terminal.updateRange(this._terminal.y),\n                        this._terminal.updateRange(this._terminal.scrollBottom)\n                }\n                ,\n                e.prototype.deleteChars = function(e) {\n                    var t, r, i;\n                    for ((t = e[0]) < 1 && (t = 1),\n                             r = this._terminal.y + this._terminal.ybase,\n                             i = [this._terminal.eraseAttr(), \" \", 1]; t--; )\n                        this._terminal.lines.get(r).splice(this._terminal.x, 1),\n                            this._terminal.lines.get(r).push(i)\n                }\n                ,\n                e.prototype.scrollUp = function(e) {\n                    for (var t = e[0] || 1; t--; )\n                        this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollTop, 1),\n                            this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollBottom, 0, this._terminal.blankLine());\n                    this._terminal.updateRange(this._terminal.scrollTop),\n                        this._terminal.updateRange(this._terminal.scrollBottom)\n                }\n                ,\n                e.prototype.scrollDown = function(e) {\n                    for (var t = e[0] || 1; t--; )\n                        this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollBottom, 1),\n                            this._terminal.lines.splice(this._terminal.ybase + this._terminal.scrollTop, 0, this._terminal.blankLine());\n                    this._terminal.updateRange(this._terminal.scrollTop),\n                        this._terminal.updateRange(this._terminal.scrollBottom)\n                }\n                ,\n                e.prototype.eraseChars = function(e) {\n                    var t, r, i, o;\n                    for ((t = e[0]) < 1 && (t = 1),\n                             r = this._terminal.y + this._terminal.ybase,\n                             i = this._terminal.x,\n                             o = [this._terminal.eraseAttr(), \" \", 1]; t-- && i < this._terminal.cols; )\n                        this._terminal.lines.get(r)[i++] = o\n                }\n                ,\n                e.prototype.cursorBackwardTab = function(e) {\n                    for (var t = e[0] || 1; t--; )\n                        this._terminal.x = this._terminal.prevStop()\n                }\n                ,\n                e.prototype.charPosAbsolute = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.x = t - 1,\n                    this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1)\n                }\n                ,\n                e.prototype.HPositionRelative = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.x += t,\n                    this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1)\n                }\n                ,\n                e.prototype.repeatPrecedingCharacter = function(e) {\n                    for (var t = e[0] || 1, r = this._terminal.lines.get(this._terminal.ybase + this._terminal.y), i = r[this._terminal.x - 1] || [this._terminal.defAttr, \" \", 1]; t--; )\n                        r[this._terminal.x++] = i\n                }\n                ,\n                e.prototype.sendDeviceAttributes = function(e) {\n                    e[0] > 0 || (this._terminal.prefix ? \">\" === this._terminal.prefix && (this._terminal.is(\"xterm\") ? this._terminal.send(i.C0.ESC + \"[>0;276;0c\") : this._terminal.is(\"rxvt-unicode\") ? this._terminal.send(i.C0.ESC + \"[>85;95;0c\") : this._terminal.is(\"linux\") ? this._terminal.send(e[0] + \"c\") : this._terminal.is(\"screen\") && this._terminal.send(i.C0.ESC + \"[>83;40003;0c\")) : this._terminal.is(\"xterm\") || this._terminal.is(\"rxvt-unicode\") || this._terminal.is(\"screen\") ? this._terminal.send(i.C0.ESC + \"[?1;2c\") : this._terminal.is(\"linux\") && this._terminal.send(i.C0.ESC + \"[?6c\"))\n                }\n                ,\n                e.prototype.linePosAbsolute = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.y = t - 1,\n                    this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1)\n                }\n                ,\n                e.prototype.VPositionRelative = function(e) {\n                    var t = e[0];\n                    t < 1 && (t = 1),\n                        this._terminal.y += t,\n                    this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1),\n                    this._terminal.x >= this._terminal.cols && this._terminal.x--\n                }\n                ,\n                e.prototype.HVPosition = function(e) {\n                    e[0] < 1 && (e[0] = 1),\n                    e[1] < 1 && (e[1] = 1),\n                        this._terminal.y = e[0] - 1,\n                    this._terminal.y >= this._terminal.rows && (this._terminal.y = this._terminal.rows - 1),\n                        this._terminal.x = e[1] - 1,\n                    this._terminal.x >= this._terminal.cols && (this._terminal.x = this._terminal.cols - 1)\n                }\n                ,\n                e.prototype.tabClear = function(e) {\n                    var t = e[0];\n                    t <= 0 ? delete this._terminal.tabs[this._terminal.x] : 3 === t && (this._terminal.tabs = {})\n                }\n                ,\n                e.prototype.setMode = function(e) {\n                    if (e.length > 1)\n                        for (var t = 0; t < e.length; t++)\n                            this.setMode([e[t]]);\n                    else if (this._terminal.prefix) {\n                        if (\"?\" === this._terminal.prefix)\n                            switch (e[0]) {\n                                case 1:\n                                    this._terminal.applicationCursor = !0;\n                                    break;\n                                case 2:\n                                    this._terminal.setgCharset(0, o.DEFAULT_CHARSET),\n                                        this._terminal.setgCharset(1, o.DEFAULT_CHARSET),\n                                        this._terminal.setgCharset(2, o.DEFAULT_CHARSET),\n                                        this._terminal.setgCharset(3, o.DEFAULT_CHARSET);\n                                    break;\n                                case 3:\n                                    this._terminal.savedCols = this._terminal.cols,\n                                        this._terminal.resize(132, this._terminal.rows);\n                                    break;\n                                case 6:\n                                    this._terminal.originMode = !0;\n                                    break;\n                                case 7:\n                                    this._terminal.wraparoundMode = !0;\n                                    break;\n                                case 12:\n                                    break;\n                                case 66:\n                                    this._terminal.log(\"Serial port requested application keypad.\"),\n                                        this._terminal.applicationKeypad = !0,\n                                        this._terminal.viewport.syncScrollArea();\n                                    break;\n                                case 9:\n                                case 1e3:\n                                case 1002:\n                                case 1003:\n                                    this._terminal.x10Mouse = 9 === e[0],\n                                        this._terminal.vt200Mouse = 1e3 === e[0],\n                                        this._terminal.normalMouse = e[0] > 1e3,\n                                        this._terminal.mouseEvents = !0,\n                                        this._terminal.element.classList.add(\"enable-mouse-events\"),\n                                        this._terminal.selectionManager.disable(),\n                                        this._terminal.log(\"Binding to mouse events.\");\n                                    break;\n                                case 1004:\n                                    this._terminal.sendFocus = !0;\n                                    break;\n                                case 1005:\n                                    this._terminal.utfMouse = !0;\n                                    break;\n                                case 1006:\n                                    this._terminal.sgrMouse = !0;\n                                    break;\n                                case 1015:\n                                    this._terminal.urxvtMouse = !0;\n                                    break;\n                                case 25:\n                                    this._terminal.cursorHidden = !1;\n                                    break;\n                                case 1049:\n                                case 47:\n                                case 1047:\n                                    if (!this._terminal.normal) {\n                                        var r = {\n                                            lines: this._terminal.lines,\n                                            ybase: this._terminal.ybase,\n                                            ydisp: this._terminal.ydisp,\n                                            x: this._terminal.x,\n                                            y: this._terminal.y,\n                                            scrollTop: this._terminal.scrollTop,\n                                            scrollBottom: this._terminal.scrollBottom,\n                                            tabs: this._terminal.tabs\n                                        };\n                                        this._terminal.reset(),\n                                            this._terminal.viewport.syncScrollArea(),\n                                            this._terminal.normal = r,\n                                            this._terminal.showCursor()\n                                    }\n                            }\n                    } else\n                        switch (e[0]) {\n                            case 4:\n                                this._terminal.insertMode = !0\n                        }\n                }\n                ,\n                e.prototype.resetMode = function(e) {\n                    if (e.length > 1)\n                        for (var t = 0; t < e.length; t++)\n                            this.resetMode([e[t]]);\n                    else if (this._terminal.prefix) {\n                        if (\"?\" === this._terminal.prefix)\n                            switch (e[0]) {\n                                case 1:\n                                    this._terminal.applicationCursor = !1;\n                                    break;\n                                case 3:\n                                    132 === this._terminal.cols && this._terminal.savedCols && this._terminal.resize(this._terminal.savedCols, this._terminal.rows),\n                                        delete this._terminal.savedCols;\n                                    break;\n                                case 6:\n                                    this._terminal.originMode = !1;\n                                    break;\n                                case 7:\n                                    this._terminal.wraparoundMode = !1;\n                                    break;\n                                case 12:\n                                    break;\n                                case 66:\n                                    this._terminal.log(\"Switching back to normal keypad.\"),\n                                        this._terminal.applicationKeypad = !1,\n                                        this._terminal.viewport.syncScrollArea();\n                                    break;\n                                case 9:\n                                case 1e3:\n                                case 1002:\n                                case 1003:\n                                    this._terminal.x10Mouse = !1,\n                                        this._terminal.vt200Mouse = !1,\n                                        this._terminal.normalMouse = !1,\n                                        this._terminal.mouseEvents = !1,\n                                        this._terminal.element.classList.remove(\"enable-mouse-events\"),\n                                        this._terminal.selectionManager.enable();\n                                    break;\n                                case 1004:\n                                    this._terminal.sendFocus = !1;\n                                    break;\n                                case 1005:\n                                    this._terminal.utfMouse = !1;\n                                    break;\n                                case 1006:\n                                    this._terminal.sgrMouse = !1;\n                                    break;\n                                case 1015:\n                                    this._terminal.urxvtMouse = !1;\n                                    break;\n                                case 25:\n                                    this._terminal.cursorHidden = !0;\n                                    break;\n                                case 1049:\n                                case 47:\n                                case 1047:\n                                    this._terminal.normal && (this._terminal.lines = this._terminal.normal.lines,\n                                        this._terminal.ybase = this._terminal.normal.ybase,\n                                        this._terminal.ydisp = this._terminal.normal.ydisp,\n                                        this._terminal.x = this._terminal.normal.x,\n                                        this._terminal.y = this._terminal.normal.y,\n                                        this._terminal.scrollTop = this._terminal.normal.scrollTop,\n                                        this._terminal.scrollBottom = this._terminal.normal.scrollBottom,\n                                        this._terminal.tabs = this._terminal.normal.tabs,\n                                        this._terminal.normal = null,\n                                        this._terminal.selectionManager.setBuffer(this._terminal.lines),\n                                        this._terminal.refresh(0, this._terminal.rows - 1),\n                                        this._terminal.viewport.syncScrollArea(),\n                                        this._terminal.showCursor())\n                            }\n                    } else\n                        switch (e[0]) {\n                            case 4:\n                                this._terminal.insertMode = !1\n                        }\n                }\n                ,\n                e.prototype.charAttributes = function(e) {\n                    if (1 !== e.length || 0 !== e[0]) {\n                        for (var t, r = e.length, i = 0, o = this._terminal.curAttr >> 18, s = this._terminal.curAttr >> 9 & 511, n = 511 & this._terminal.curAttr; i < r; i++)\n                            (t = e[i]) >= 30 && t <= 37 ? s = t - 30 : t >= 40 && t <= 47 ? n = t - 40 : t >= 90 && t <= 97 ? s = (t += 8) - 90 : t >= 100 && t <= 107 ? n = (t += 8) - 100 : 0 === t ? (o = this._terminal.defAttr >> 18,\n                                s = this._terminal.defAttr >> 9 & 511,\n                                n = 511 & this._terminal.defAttr) : 1 === t ? o |= 1 : 4 === t ? o |= 2 : 5 === t ? o |= 4 : 7 === t ? o |= 8 : 8 === t ? o |= 16 : 22 === t ? o &= -2 : 24 === t ? o &= -3 : 25 === t ? o &= -5 : 27 === t ? o &= -9 : 28 === t ? o &= -17 : 39 === t ? s = this._terminal.defAttr >> 9 & 511 : 49 === t ? n = 511 & this._terminal.defAttr : 38 === t ? 2 === e[i + 1] ? (i += 2,\n                            -1 === (s = this._terminal.matchColor(255 & e[i], 255 & e[i + 1], 255 & e[i + 2])) && (s = 511),\n                                i += 2) : 5 === e[i + 1] && (s = t = 255 & e[i += 2]) : 48 === t ? 2 === e[i + 1] ? (i += 2,\n                            -1 === (n = this._terminal.matchColor(255 & e[i], 255 & e[i + 1], 255 & e[i + 2])) && (n = 511),\n                                i += 2) : 5 === e[i + 1] && (n = t = 255 & e[i += 2]) : 100 === t ? (s = this._terminal.defAttr >> 9 & 511,\n                                n = 511 & this._terminal.defAttr) : this._terminal.error(\"Unknown SGR attribute: %d.\", t);\n                        this._terminal.curAttr = o << 18 | s << 9 | n\n                    } else\n                        this._terminal.curAttr = this._terminal.defAttr\n                }\n                ,\n                e.prototype.deviceStatus = function(e) {\n                    if (this._terminal.prefix) {\n                        if (\"?\" === this._terminal.prefix)\n                            switch (e[0]) {\n                                case 6:\n                                    this._terminal.send(i.C0.ESC + \"[?\" + (this._terminal.y + 1) + \";\" + (this._terminal.x + 1) + \"R\")\n                            }\n                    } else\n                        switch (e[0]) {\n                            case 5:\n                                this._terminal.send(i.C0.ESC + \"[0n\");\n                                break;\n                            case 6:\n                                this._terminal.send(i.C0.ESC + \"[\" + (this._terminal.y + 1) + \";\" + (this._terminal.x + 1) + \"R\")\n                        }\n                }\n                ,\n                e.prototype.softReset = function(e) {\n                    this._terminal.cursorHidden = !1,\n                        this._terminal.insertMode = !1,\n                        this._terminal.originMode = !1,\n                        this._terminal.wraparoundMode = !0,\n                        this._terminal.applicationKeypad = !1,\n                        this._terminal.viewport.syncScrollArea(),\n                        this._terminal.applicationCursor = !1,\n                        this._terminal.scrollTop = 0,\n                        this._terminal.scrollBottom = this._terminal.rows - 1,\n                        this._terminal.curAttr = this._terminal.defAttr,\n                        this._terminal.x = this._terminal.y = 0,\n                        this._terminal.charset = null,\n                        this._terminal.glevel = 0,\n                        this._terminal.charsets = [null]\n                }\n                ,\n                e.prototype.setCursorStyle = function(e) {\n                    var t = e[0] < 1 ? 1 : e[0];\n                    switch (t) {\n                        case 1:\n                        case 2:\n                            this._terminal.setOption(\"cursorStyle\", \"block\");\n                            break;\n                        case 3:\n                        case 4:\n                            this._terminal.setOption(\"cursorStyle\", \"underline\");\n                            break;\n                        case 5:\n                        case 6:\n                            this._terminal.setOption(\"cursorStyle\", \"bar\")\n                    }\n                    var r = t % 2 == 1;\n                    this._terminal.setOption(\"cursorBlink\", r)\n                }\n                ,\n                e.prototype.setScrollRegion = function(e) {\n                    this._terminal.prefix || (this._terminal.scrollTop = (e[0] || 1) - 1,\n                        this._terminal.scrollBottom = (e[1] && e[1] <= this._terminal.rows ? e[1] : this._terminal.rows) - 1,\n                        this._terminal.x = 0,\n                        this._terminal.y = 0)\n                }\n                ,\n                e.prototype.saveCursor = function(e) {\n                    this._terminal.savedX = this._terminal.x,\n                        this._terminal.savedY = this._terminal.y\n                }\n                ,\n                e.prototype.restoreCursor = function(e) {\n                    this._terminal.x = this._terminal.savedX || 0,\n                        this._terminal.y = this._terminal.savedY || 0\n                }\n                ,\n                e\n        }();\n        t.InputHandler = s;\n        var n = function(e) {\n            function t(e) {\n                var t, r = 0, o = i.length - 1;\n                if (e < i[0][0] || e > i[o][1])\n                    return !1;\n                for (; o >= r; )\n                    if (t = Math.floor((r + o) / 2),\n                    e > i[t][1])\n                        r = t + 1;\n                    else {\n                        if (!(e < i[t][0]))\n                            return !0;\n                        o = t - 1\n                    }\n                return !1\n            }\n            function r(e) {\n                return e >= 4352 && (e <= 4447 || 9001 === e || 9002 === e || e >= 11904 && e <= 42191 && 12351 !== e || e >= 44032 && e <= 55203 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65135 || e >= 65280 && e <= 65376 || e >= 65504 && e <= 65510 || e >= 131072 && e <= 196605 || e >= 196608 && e <= 262141)\n            }\n            var i = [[768, 879], [1155, 1158], [1160, 1161], [1425, 1469], [1471, 1471], [1473, 1474], [1476, 1477], [1479, 1479], [1536, 1539], [1552, 1557], [1611, 1630], [1648, 1648], [1750, 1764], [1767, 1768], [1770, 1773], [1807, 1807], [1809, 1809], [1840, 1866], [1958, 1968], [2027, 2035], [2305, 2306], [2364, 2364], [2369, 2376], [2381, 2381], [2385, 2388], [2402, 2403], [2433, 2433], [2492, 2492], [2497, 2500], [2509, 2509], [2530, 2531], [2561, 2562], [2620, 2620], [2625, 2626], [2631, 2632], [2635, 2637], [2672, 2673], [2689, 2690], [2748, 2748], [2753, 2757], [2759, 2760], [2765, 2765], [2786, 2787], [2817, 2817], [2876, 2876], [2879, 2879], [2881, 2883], [2893, 2893], [2902, 2902], [2946, 2946], [3008, 3008], [3021, 3021], [3134, 3136], [3142, 3144], [3146, 3149], [3157, 3158], [3260, 3260], [3263, 3263], [3270, 3270], [3276, 3277], [3298, 3299], [3393, 3395], [3405, 3405], [3530, 3530], [3538, 3540], [3542, 3542], [3633, 3633], [3636, 3642], [3655, 3662], [3761, 3761], [3764, 3769], [3771, 3772], [3784, 3789], [3864, 3865], [3893, 3893], [3895, 3895], [3897, 3897], [3953, 3966], [3968, 3972], [3974, 3975], [3984, 3991], [3993, 4028], [4038, 4038], [4141, 4144], [4146, 4146], [4150, 4151], [4153, 4153], [4184, 4185], [4448, 4607], [4959, 4959], [5906, 5908], [5938, 5940], [5970, 5971], [6002, 6003], [6068, 6069], [6071, 6077], [6086, 6086], [6089, 6099], [6109, 6109], [6155, 6157], [6313, 6313], [6432, 6434], [6439, 6440], [6450, 6450], [6457, 6459], [6679, 6680], [6912, 6915], [6964, 6964], [6966, 6970], [6972, 6972], [6978, 6978], [7019, 7027], [7616, 7626], [7678, 7679], [8203, 8207], [8234, 8238], [8288, 8291], [8298, 8303], [8400, 8431], [12330, 12335], [12441, 12442], [43014, 43014], [43019, 43019], [43045, 43046], [64286, 64286], [65024, 65039], [65056, 65059], [65279, 65279], [65529, 65531], [68097, 68099], [68101, 68102], [68108, 68111], [68152, 68154], [68159, 68159], [119143, 119145], [119155, 119170], [119173, 119179], [119210, 119213], [119362, 119364], [917505, 917505], [917536, 917631], [917760, 917999]];\n            return function(i) {\n                return 0 === i ? e.nul : i < 32 || i >= 127 && i < 160 ? e.control : t(i) ? 0 : r(i) ? 2 : 1\n            }\n        }({\n            nul: 0,\n            control: 0\n        })\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = new RegExp(\"(?:^|[^\\\\da-z\\\\.-]+)((https?:\\\\/\\\\/)((([\\\\da-z\\\\.-]+)\\\\.([a-z\\\\.]{2,6}))|((\\\\d{1,3}\\\\.){3}\\\\d{1,3})|(localhost))(:\\\\d{1,5})?(\\\\/[\\\\/\\\\w\\\\.\\\\-%~]*)*(\\\\?[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&'*+,:;~\\\\=\\\\.\\\\-]*)?(#[0-9\\\\w\\\\[\\\\]\\\\(\\\\)\\\\/\\\\?\\\\!#@$%&'*+,:;~\\\\=\\\\.\\\\-]*)?)($|[^\\\\/\\\\w\\\\.\\\\-%]+)\")\n            , o = 0\n            , s = function() {\n            function e() {\n                this._nextLinkMatcherId = o,\n                    this._rowTimeoutIds = [],\n                    this._linkMatchers = [],\n                    this.registerLinkMatcher(i, null, {\n                        matchIndex: 1\n                    })\n            }\n            return e.prototype.attachToDom = function(e, t) {\n                this._document = e,\n                    this._rows = t\n            }\n                ,\n                e.prototype.linkifyRow = function(t) {\n                    if (this._document) {\n                        var r = this._rowTimeoutIds[t];\n                        r && clearTimeout(r),\n                            this._rowTimeoutIds[t] = setTimeout(this._linkifyRow.bind(this, t), e.TIME_BEFORE_LINKIFY)\n                    }\n                }\n                ,\n                e.prototype.setHypertextLinkHandler = function(e) {\n                    this._linkMatchers[o].handler = e\n                }\n                ,\n                e.prototype.setHypertextValidationCallback = function(e) {\n                    this._linkMatchers[o].validationCallback = e\n                }\n                ,\n                e.prototype.registerLinkMatcher = function(e, t, r) {\n                    if (void 0 === r && (r = {}),\n                    this._nextLinkMatcherId !== o && !t)\n                        throw new Error(\"handler must be defined\");\n                    var i = {\n                        id: this._nextLinkMatcherId++,\n                        regex: e,\n                        handler: t,\n                        matchIndex: r.matchIndex,\n                        validationCallback: r.validationCallback,\n                        priority: r.priority || 0\n                    };\n                    return this._addLinkMatcherToList(i),\n                        i.id\n                }\n                ,\n                e.prototype._addLinkMatcherToList = function(e) {\n                    if (0 !== this._linkMatchers.length) {\n                        for (var t = this._linkMatchers.length - 1; t >= 0; t--)\n                            if (e.priority <= this._linkMatchers[t].priority)\n                                return void this._linkMatchers.splice(t + 1, 0, e);\n                        this._linkMatchers.splice(0, 0, e)\n                    } else\n                        this._linkMatchers.push(e)\n                }\n                ,\n                e.prototype.deregisterLinkMatcher = function(e) {\n                    for (var t = 1; t < this._linkMatchers.length; t++)\n                        if (this._linkMatchers[t].id === e)\n                            return this._linkMatchers.splice(t, 1),\n                                !0;\n                    return !1\n                }\n                ,\n                e.prototype._linkifyRow = function(e) {\n                    var t = this._rows[e];\n                    if (t) {\n                        t.textContent;\n                        for (var r = 0; r < this._linkMatchers.length; r++) {\n                            var i = this._linkMatchers[r]\n                                , o = this._doLinkifyRow(t, i);\n                            if (o.length > 0) {\n                                if (i.validationCallback)\n                                    for (var s = function(e) {\n                                        var t = o[e];\n                                        i.validationCallback(t.textContent, t, function(e) {\n                                            e || t.classList.add(\"xterm-invalid-link\")\n                                        })\n                                    }, n = 0; n < o.length; n++)\n                                        s(n);\n                                return\n                            }\n                        }\n                    }\n                }\n                ,\n                e.prototype._doLinkifyRow = function(e, t) {\n                    var r = []\n                        , i = t.id === o\n                        , s = e.childNodes\n                        , n = e.textContent.match(t.regex);\n                    if (!n || 0 === n.length)\n                        return r;\n                    for (var a = n[\"number\" != typeof t.matchIndex ? 0 : t.matchIndex], l = n.index + a.length, h = 0; h < s.length; h++) {\n                        var c = s[h]\n                            , u = c.textContent.indexOf(a);\n                        if (u >= 0) {\n                            var d = this._createAnchorElement(a, t.handler, i);\n                            if (c.textContent.length === a.length)\n                                if (3 === c.nodeType)\n                                    this._replaceNode(c, d);\n                                else {\n                                    var p = c;\n                                    if (\"A\" === p.nodeName)\n                                        return r;\n                                    p.innerHTML = \"\",\n                                        p.appendChild(d)\n                                }\n                            else if (c.childNodes.length > 1)\n                                for (var f = 0; f < c.childNodes.length; f++) {\n                                    var g = c.childNodes[f]\n                                        , m = g.textContent.indexOf(a);\n                                    if (-1 !== m) {\n                                        this._replaceNodeSubstringWithNode(g, d, a, m);\n                                        break\n                                    }\n                                }\n                            else\n                                h += this._replaceNodeSubstringWithNode(c, d, a, u);\n                            if (r.push(d),\n                            !(n = e.textContent.substring(l).match(t.regex)) || 0 === n.length)\n                                return r;\n                            a = n[\"number\" != typeof t.matchIndex ? 0 : t.matchIndex],\n                                l += n.index + a.length\n                        }\n                    }\n                    return r\n                }\n                ,\n                e.prototype._createAnchorElement = function(e, t, r) {\n                    var i = this._document.createElement(\"a\");\n                    return i.textContent = e,\n                        i.draggable = !1,\n                        r ? (i.href = e,\n                            i.target = \"_blank\",\n                            i.addEventListener(\"click\", function(r) {\n                                if (t)\n                                    return t(r, e)\n                            })) : i.addEventListener(\"click\", function(r) {\n                            if (!i.classList.contains(\"xterm-invalid-link\"))\n                                return t(r, e)\n                        }),\n                        i\n                }\n                ,\n                e.prototype._replaceNode = function(e) {\n                    for (var t = [], r = 1; r < arguments.length; r++)\n                        t[r - 1] = arguments[r];\n                    for (var i = e.parentNode, o = 0; o < t.length; o++)\n                        i.insertBefore(t[o], e);\n                    i.removeChild(e)\n                }\n                ,\n                e.prototype._replaceNodeSubstringWithNode = function(e, t, r, i) {\n                    if (1 === e.childNodes.length && (e = e.childNodes[0]),\n                    3 !== e.nodeType)\n                        throw new Error(\"targetNode must be a text node or only contain a single text node\");\n                    var o = e.textContent;\n                    if (0 === i) {\n                        var s = o.substring(r.length)\n                            , n = this._document.createTextNode(s);\n                        return this._replaceNode(e, t, n),\n                            0\n                    }\n                    if (i === e.textContent.length - r.length) {\n                        var a = o.substring(0, i)\n                            , l = this._document.createTextNode(a);\n                        return this._replaceNode(e, l, t),\n                            0\n                    }\n                    var h = o.substring(0, i)\n                        , c = this._document.createTextNode(h)\n                        , u = o.substring(i + r.length)\n                        , d = this._document.createTextNode(u);\n                    return this._replaceNode(e, c, t, d),\n                        1\n                }\n                ,\n                e\n        }();\n        s.TIME_BEFORE_LINKIFY = 200,\n            t.Linkifier = s\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = r(2)\n            , o = r(4)\n            , s = {};\n        s[i.C0.BEL] = function(e, t) {\n            return t.bell()\n        }\n            ,\n            s[i.C0.LF] = function(e, t) {\n                return t.lineFeed()\n            }\n            ,\n            s[i.C0.VT] = s[i.C0.LF],\n            s[i.C0.FF] = s[i.C0.LF],\n            s[i.C0.CR] = function(e, t) {\n                return t.carriageReturn()\n            }\n            ,\n            s[i.C0.BS] = function(e, t) {\n                return t.backspace()\n            }\n            ,\n            s[i.C0.HT] = function(e, t) {\n                return t.tab()\n            }\n            ,\n            s[i.C0.SO] = function(e, t) {\n                return t.shiftOut()\n            }\n            ,\n            s[i.C0.SI] = function(e, t) {\n                return t.shiftIn()\n            }\n            ,\n            s[i.C0.ESC] = function(e, t) {\n                return e.setState(h.ESCAPED)\n            }\n        ;\n        var n = {};\n        n[\"[\"] = function(e, t) {\n            t.params = [],\n                t.currentParam = 0,\n                e.setState(h.CSI_PARAM)\n        }\n            ,\n            n[\"]\"] = function(e, t) {\n                t.params = [],\n                    t.currentParam = 0,\n                    e.setState(h.OSC)\n            }\n            ,\n            n.P = function(e, t) {\n                t.params = [],\n                    t.currentParam = 0,\n                    e.setState(h.DCS)\n            }\n            ,\n            n._ = function(e, t) {\n                e.setState(h.IGNORE)\n            }\n            ,\n            n[\"^\"] = function(e, t) {\n                e.setState(h.IGNORE)\n            }\n            ,\n            n.c = function(e, t) {\n                t.reset()\n            }\n            ,\n            n.E = function(e, t) {\n                t.x = 0,\n                    t.index(),\n                    e.setState(h.NORMAL)\n            }\n            ,\n            n.D = function(e, t) {\n                t.index(),\n                    e.setState(h.NORMAL)\n            }\n            ,\n            n.M = function(e, t) {\n                t.reverseIndex(),\n                    e.setState(h.NORMAL)\n            }\n            ,\n            n[\"%\"] = function(e, t) {\n                t.setgLevel(0),\n                    t.setgCharset(0, o.DEFAULT_CHARSET),\n                    e.setState(h.NORMAL),\n                    e.skipNextChar()\n            }\n            ,\n            n[i.C0.CAN] = function(e) {\n                return e.setState(h.NORMAL)\n            }\n        ;\n        var a = {};\n        a[\"?\"] = function(e) {\n            return e.setPrefix(\"?\")\n        }\n            ,\n            a[\">\"] = function(e) {\n                return e.setPrefix(\">\")\n            }\n            ,\n            a[\"!\"] = function(e) {\n                return e.setPrefix(\"!\")\n            }\n            ,\n            a[0] = function(e) {\n                return e.setParam(10 * e.getParam())\n            }\n            ,\n            a[1] = function(e) {\n                return e.setParam(10 * e.getParam() + 1)\n            }\n            ,\n            a[2] = function(e) {\n                return e.setParam(10 * e.getParam() + 2)\n            }\n            ,\n            a[3] = function(e) {\n                return e.setParam(10 * e.getParam() + 3)\n            }\n            ,\n            a[4] = function(e) {\n                return e.setParam(10 * e.getParam() + 4)\n            }\n            ,\n            a[5] = function(e) {\n                return e.setParam(10 * e.getParam() + 5)\n            }\n            ,\n            a[6] = function(e) {\n                return e.setParam(10 * e.getParam() + 6)\n            }\n            ,\n            a[7] = function(e) {\n                return e.setParam(10 * e.getParam() + 7)\n            }\n            ,\n            a[8] = function(e) {\n                return e.setParam(10 * e.getParam() + 8)\n            }\n            ,\n            a[9] = function(e) {\n                return e.setParam(10 * e.getParam() + 9)\n            }\n            ,\n            a.$ = function(e) {\n                return e.setPostfix(\"$\")\n            }\n            ,\n            a['\"'] = function(e) {\n                return e.setPostfix('\"')\n            }\n            ,\n            a[\" \"] = function(e) {\n                return e.setPostfix(\" \")\n            }\n            ,\n            a[\"'\"] = function(e) {\n                return e.setPostfix(\"'\")\n            }\n            ,\n            a[\";\"] = function(e) {\n                return e.finalizeParam()\n            }\n            ,\n            a[i.C0.CAN] = function(e) {\n                return e.setState(h.NORMAL)\n            }\n        ;\n        var l = {};\n        l[\"@\"] = function(e, t, r) {\n            return e.insertChars(t)\n        }\n            ,\n            l.A = function(e, t, r) {\n                return e.cursorUp(t)\n            }\n            ,\n            l.B = function(e, t, r) {\n                return e.cursorDown(t)\n            }\n            ,\n            l.C = function(e, t, r) {\n                return e.cursorForward(t)\n            }\n            ,\n            l.D = function(e, t, r) {\n                return e.cursorBackward(t)\n            }\n            ,\n            l.E = function(e, t, r) {\n                return e.cursorNextLine(t)\n            }\n            ,\n            l.F = function(e, t, r) {\n                return e.cursorPrecedingLine(t)\n            }\n            ,\n            l.G = function(e, t, r) {\n                return e.cursorCharAbsolute(t)\n            }\n            ,\n            l.H = function(e, t, r) {\n                return e.cursorPosition(t)\n            }\n            ,\n            l.I = function(e, t, r) {\n                return e.cursorForwardTab(t)\n            }\n            ,\n            l.J = function(e, t, r) {\n                return e.eraseInDisplay(t)\n            }\n            ,\n            l.K = function(e, t, r) {\n                return e.eraseInLine(t)\n            }\n            ,\n            l.L = function(e, t, r) {\n                return e.insertLines(t)\n            }\n            ,\n            l.M = function(e, t, r) {\n                return e.deleteLines(t)\n            }\n            ,\n            l.P = function(e, t, r) {\n                return e.deleteChars(t)\n            }\n            ,\n            l.S = function(e, t, r) {\n                return e.scrollUp(t)\n            }\n            ,\n            l.T = function(e, t, r) {\n                t.length < 2 && !r && e.scrollDown(t)\n            }\n            ,\n            l.X = function(e, t, r) {\n                return e.eraseChars(t)\n            }\n            ,\n            l.Z = function(e, t, r) {\n                return e.cursorBackwardTab(t)\n            }\n            ,\n            l[\"`\"] = function(e, t, r) {\n                return e.charPosAbsolute(t)\n            }\n            ,\n            l.a = function(e, t, r) {\n                return e.HPositionRelative(t)\n            }\n            ,\n            l.b = function(e, t, r) {\n                return e.repeatPrecedingCharacter(t)\n            }\n            ,\n            l.c = function(e, t, r) {\n                return e.sendDeviceAttributes(t)\n            }\n            ,\n            l.d = function(e, t, r) {\n                return e.linePosAbsolute(t)\n            }\n            ,\n            l.e = function(e, t, r) {\n                return e.VPositionRelative(t)\n            }\n            ,\n            l.f = function(e, t, r) {\n                return e.HVPosition(t)\n            }\n            ,\n            l.g = function(e, t, r) {\n                return e.tabClear(t)\n            }\n            ,\n            l.h = function(e, t, r) {\n                return e.setMode(t)\n            }\n            ,\n            l.l = function(e, t, r) {\n                return e.resetMode(t)\n            }\n            ,\n            l.m = function(e, t, r) {\n                return e.charAttributes(t)\n            }\n            ,\n            l.n = function(e, t, r) {\n                return e.deviceStatus(t)\n            }\n            ,\n            l.p = function(e, t, r) {\n                switch (r) {\n                    case \"!\":\n                        e.softReset(t)\n                }\n            }\n            ,\n            l.q = function(e, t, r, i) {\n                \" \" === i && e.setCursorStyle(t)\n            }\n            ,\n            l.r = function(e, t) {\n                return e.setScrollRegion(t)\n            }\n            ,\n            l.s = function(e, t) {\n                return e.saveCursor(t)\n            }\n            ,\n            l.u = function(e, t) {\n                return e.restoreCursor(t)\n            }\n            ,\n            l[i.C0.CAN] = function(e, t, r, i, o) {\n                return o.setState(h.NORMAL)\n            }\n        ;\n        var h;\n        !function(e) {\n            e[e.NORMAL = 0] = \"NORMAL\",\n                e[e.ESCAPED = 1] = \"ESCAPED\",\n                e[e.CSI_PARAM = 2] = \"CSI_PARAM\",\n                e[e.CSI = 3] = \"CSI\",\n                e[e.OSC = 4] = \"OSC\",\n                e[e.CHARSET = 5] = \"CHARSET\",\n                e[e.DCS = 6] = \"DCS\",\n                e[e.IGNORE = 7] = \"IGNORE\"\n        }(h || (h = {}));\n        var c = function() {\n            function e(e, t) {\n                this._inputHandler = e,\n                    this._terminal = t,\n                    this._state = h.NORMAL\n            }\n            return e.prototype.parse = function(e) {\n                var t, r, c, u, d = e.length;\n                for (this._position = 0,\n                     this._terminal.surrogate_high && (e = this._terminal.surrogate_high + e,\n                         this._terminal.surrogate_high = \"\"); this._position < d; this._position++) {\n                    if (r = e[this._position],\n                    55296 <= (c = e.charCodeAt(this._position)) && c <= 56319) {\n                        if (u = e.charCodeAt(this._position + 1),\n                            isNaN(u)) {\n                            this._terminal.surrogate_high = r;\n                            continue\n                        }\n                        c = 1024 * (c - 55296) + (u - 56320) + 65536,\n                            r += e.charAt(this._position + 1)\n                    }\n                    if (!(56320 <= c && c <= 57343))\n                        switch (this._state) {\n                            case h.NORMAL:\n                                r in s ? s[r](this, this._inputHandler) : this._inputHandler.addChar(r, c);\n                                break;\n                            case h.ESCAPED:\n                                if (r in n) {\n                                    n[r](this, this._terminal);\n                                    break\n                                }\n                                switch (r) {\n                                    case \"(\":\n                                    case \")\":\n                                    case \"*\":\n                                    case \"+\":\n                                    case \"-\":\n                                    case \".\":\n                                        switch (r) {\n                                            case \"(\":\n                                                this._terminal.gcharset = 0;\n                                                break;\n                                            case \")\":\n                                                this._terminal.gcharset = 1;\n                                                break;\n                                            case \"*\":\n                                                this._terminal.gcharset = 2;\n                                                break;\n                                            case \"+\":\n                                                this._terminal.gcharset = 3;\n                                                break;\n                                            case \"-\":\n                                                this._terminal.gcharset = 1;\n                                                break;\n                                            case \".\":\n                                                this._terminal.gcharset = 2\n                                        }\n                                        this._state = h.CHARSET;\n                                        break;\n                                    case \"/\":\n                                        this._terminal.gcharset = 3,\n                                            this._state = h.CHARSET,\n                                            this._position--;\n                                        break;\n                                    case \"N\":\n                                    case \"O\":\n                                        break;\n                                    case \"n\":\n                                        this._terminal.setgLevel(2);\n                                        break;\n                                    case \"o\":\n                                    case \"|\":\n                                        this._terminal.setgLevel(3);\n                                        break;\n                                    case \"}\":\n                                        this._terminal.setgLevel(2);\n                                        break;\n                                    case \"~\":\n                                        this._terminal.setgLevel(1);\n                                        break;\n                                    case \"7\":\n                                        this._inputHandler.saveCursor(),\n                                            this._state = h.NORMAL;\n                                        break;\n                                    case \"8\":\n                                        this._inputHandler.restoreCursor(),\n                                            this._state = h.NORMAL;\n                                        break;\n                                    case \"#\":\n                                        this._state = h.NORMAL,\n                                            this._position++;\n                                        break;\n                                    case \"H\":\n                                        this._terminal.tabSet(),\n                                            this._state = h.NORMAL;\n                                        break;\n                                    case \"=\":\n                                        this._terminal.log(\"Serial port requested application keypad.\"),\n                                            this._terminal.applicationKeypad = !0,\n                                            this._terminal.viewport.syncScrollArea(),\n                                            this._state = h.NORMAL;\n                                        break;\n                                    case \">\":\n                                        this._terminal.log(\"Switching back to normal keypad.\"),\n                                            this._terminal.applicationKeypad = !1,\n                                            this._terminal.viewport.syncScrollArea(),\n                                            this._state = h.NORMAL;\n                                        break;\n                                    default:\n                                        this._state = h.NORMAL,\n                                            this._terminal.error(\"Unknown ESC control: %s.\", r)\n                                }\n                                break;\n                            case h.CHARSET:\n                                r in o.CHARSETS ? (t = o.CHARSETS[r],\n                                \"/\" === r && this.skipNextChar()) : t = o.DEFAULT_CHARSET,\n                                    this._terminal.setgCharset(this._terminal.gcharset, t),\n                                    this._terminal.gcharset = null,\n                                    this._state = h.NORMAL;\n                                break;\n                            case h.OSC:\n                                if (r === i.C0.ESC || r === i.C0.BEL) {\n                                    switch (r === i.C0.ESC && this._position++,\n                                        this._terminal.params.push(this._terminal.currentParam),\n                                        this._terminal.params[0]) {\n                                        case 0:\n                                        case 1:\n                                        case 2:\n                                            this._terminal.params[1] && (this._terminal.title = this._terminal.params[1],\n                                                this._terminal.handleTitle(this._terminal.title))\n                                    }\n                                    this._terminal.params = [],\n                                        this._terminal.currentParam = 0,\n                                        this._state = h.NORMAL\n                                } else\n                                    this._terminal.params.length ? this._terminal.currentParam += r : r >= \"0\" && r <= \"9\" ? this._terminal.currentParam = 10 * this._terminal.currentParam + r.charCodeAt(0) - 48 : \";\" === r && (this._terminal.params.push(this._terminal.currentParam),\n                                        this._terminal.currentParam = \"\");\n                                break;\n                            case h.CSI_PARAM:\n                                if (r in a) {\n                                    a[r](this);\n                                    break\n                                }\n                                this.finalizeParam(),\n                                    this._state = h.CSI;\n                            case h.CSI:\n                                r in l ? l[r](this._inputHandler, this._terminal.params, this._terminal.prefix, this._terminal.postfix, this) : this._terminal.error(\"Unknown CSI code: %s.\", r),\n                                    this._state = h.NORMAL,\n                                    this._terminal.prefix = \"\",\n                                    this._terminal.postfix = \"\";\n                                break;\n                            case h.DCS:\n                                if (r === i.C0.ESC || r === i.C0.BEL) {\n                                    r === i.C0.ESC && this._position++;\n                                    var p = void 0\n                                        , f = void 0;\n                                    switch (this._terminal.prefix) {\n                                        case \"\":\n                                            break;\n                                        case \"$q\":\n                                            switch (p = this._terminal.currentParam,\n                                                f = !1,\n                                                p) {\n                                                case '\"q':\n                                                    p = '0\"q';\n                                                    break;\n                                                case '\"p':\n                                                    p = '61\"p';\n                                                    break;\n                                                case \"r\":\n                                                    p = this._terminal.scrollTop + 1 + \";\" + (this._terminal.scrollBottom + 1) + \"r\";\n                                                    break;\n                                                case \"m\":\n                                                    p = \"0m\";\n                                                    break;\n                                                default:\n                                                    this._terminal.error(\"Unknown DCS Pt: %s.\", p),\n                                                        p = \"\"\n                                            }\n                                            this._terminal.send(i.C0.ESC + \"P\" + +f + \"$r\" + p + i.C0.ESC + \"\\\\\");\n                                            break;\n                                        case \"+p\":\n                                            break;\n                                        case \"+q\":\n                                            p = this._terminal.currentParam,\n                                                f = !1,\n                                                this._terminal.send(i.C0.ESC + \"P\" + +f + \"+r\" + p + i.C0.ESC + \"\\\\\");\n                                            break;\n                                        default:\n                                            this._terminal.error(\"Unknown DCS prefix: %s.\", this._terminal.prefix)\n                                    }\n                                    this._terminal.currentParam = 0,\n                                        this._terminal.prefix = \"\",\n                                        this._state = h.NORMAL\n                                } else\n                                    this._terminal.currentParam ? this._terminal.currentParam += r : this._terminal.prefix || \"$\" === r || \"+\" === r ? 2 === this._terminal.prefix.length ? this._terminal.currentParam = r : this._terminal.prefix += r : this._terminal.currentParam = r;\n                                break;\n                            case h.IGNORE:\n                                r !== i.C0.ESC && r !== i.C0.BEL || (r === i.C0.ESC && this._position++,\n                                    this._state = h.NORMAL)\n                        }\n                }\n                return this._state\n            }\n                ,\n                e.prototype.setState = function(e) {\n                    this._state = e\n                }\n                ,\n                e.prototype.setPrefix = function(e) {\n                    this._terminal.prefix = e\n                }\n                ,\n                e.prototype.setPostfix = function(e) {\n                    this._terminal.postfix = e\n                }\n                ,\n                e.prototype.setParam = function(e) {\n                    this._terminal.currentParam = e\n                }\n                ,\n                e.prototype.getParam = function() {\n                    return this._terminal.currentParam\n                }\n                ,\n                e.prototype.finalizeParam = function() {\n                    this._terminal.params.push(this._terminal.currentParam),\n                        this._terminal.currentParam = 0\n                }\n                ,\n                e.prototype.skipNextChar = function() {\n                    this._position++\n                }\n                ,\n                e\n        }();\n        t.Parser = c\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        function i(e) {\n            var t = e.ownerDocument.createElement(\"span\");\n            t.innerHTML = \"hello world\",\n                e.appendChild(t);\n            var r = t.offsetWidth\n                , i = t.offsetHeight;\n            t.style.fontWeight = \"bold\";\n            var o = t.offsetWidth\n                , s = t.offsetHeight;\n            return e.removeChild(t),\n            r !== o || i !== s\n        }\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var o, s = r(26);\n        !function(e) {\n            e[e.BOLD = 1] = \"BOLD\",\n                e[e.UNDERLINE = 2] = \"UNDERLINE\",\n                e[e.BLINK = 4] = \"BLINK\",\n                e[e.INVERSE = 8] = \"INVERSE\",\n                e[e.INVISIBLE = 16] = \"INVISIBLE\"\n        }(o || (o = {}));\n        var n = null\n            , a = function() {\n            function e(e) {\n                this._terminal = e,\n                    this._refreshRowsQueue = [],\n                    this._refreshFramesSkipped = 0,\n                    this._refreshAnimationFrame = null,\n                    this._spanElementObjectPool = new s.DomElementObjectPool(\"span\"),\n                null === n && (n = i(this._terminal.element)),\n                    this._spanElementObjectPool = new s.DomElementObjectPool(\"span\")\n            }\n            return e.prototype.queueRefresh = function(e, t) {\n                this._refreshRowsQueue.push({\n                    start: e,\n                    end: t\n                }),\n                this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(this._refreshLoop.bind(this)))\n            }\n                ,\n                e.prototype._refreshLoop = function() {\n                    if (this._terminal.writeBuffer.length > 0 && this._refreshFramesSkipped++ <= 5)\n                        this._refreshAnimationFrame = window.requestAnimationFrame(this._refreshLoop.bind(this));\n                    else {\n                        this._refreshFramesSkipped = 0;\n                        var e, t;\n                        if (this._refreshRowsQueue.length > 4)\n                            e = 0,\n                                t = this._terminal.rows - 1;\n                        else {\n                            e = this._refreshRowsQueue[0].start,\n                                t = this._refreshRowsQueue[0].end;\n                            for (var r = 1; r < this._refreshRowsQueue.length; r++)\n                                this._refreshRowsQueue[r].start < e && (e = this._refreshRowsQueue[r].start),\n                                this._refreshRowsQueue[r].end > t && (t = this._refreshRowsQueue[r].end)\n                        }\n                        this._refreshRowsQueue = [],\n                            this._refreshAnimationFrame = null,\n                            this._refresh(e, t)\n                    }\n                }\n                ,\n                e.prototype._refresh = function(e, t) {\n                    var r;\n                    t - e >= this._terminal.rows / 2 && (r = this._terminal.element.parentNode) && this._terminal.element.removeChild(this._terminal.rowContainer);\n                    var i = this._terminal.cols\n                        , s = e;\n                    for (t >= this._terminal.rows && (this._terminal.log(\"`end` is too large. Most likely a bad CSR.\"),\n                        t = this._terminal.rows - 1); s <= t; s++) {\n                        var a = s + this._terminal.ydisp\n                            , l = this._terminal.lines.get(a)\n                            , h = void 0;\n                        h = this._terminal.y === s - (this._terminal.ybase - this._terminal.ydisp) && this._terminal.cursorState && !this._terminal.cursorHidden ? this._terminal.x : -1;\n                        for (var c = this._terminal.defAttr, u = document.createDocumentFragment(), d = \"\", p = void 0; this._terminal.children[s].children.length; ) {\n                            var f = this._terminal.children[s].children[0];\n                            this._terminal.children[s].removeChild(f),\n                                this._spanElementObjectPool.release(f)\n                        }\n                        for (var g = 0; g < i; g++) {\n                            var m = l[g][0]\n                                , y = l[g][1]\n                                , b = l[g][2];\n                            if (b) {\n                                if (g === h && (m = -1),\n                                m !== c && (c !== this._terminal.defAttr && (d && (p.innerHTML = d,\n                                    d = \"\"),\n                                    u.appendChild(p),\n                                    p = null),\n                                m !== this._terminal.defAttr))\n                                    if (d && !p && (p = this._spanElementObjectPool.acquire()),\n                                    p && (d && (p.innerHTML = d,\n                                        d = \"\"),\n                                        u.appendChild(p)),\n                                        p = this._spanElementObjectPool.acquire(),\n                                    -1 === m)\n                                        p.classList.add(\"reverse-video\"),\n                                            p.classList.add(\"terminal-cursor\");\n                                    else {\n                                        var _ = 511 & m\n                                            , C = m >> 9 & 511\n                                            , w = m >> 18;\n                                        if (w & o.BOLD && (n || p.classList.add(\"xterm-bold\"),\n                                        C < 8 && (C += 8)),\n                                        w & o.UNDERLINE && p.classList.add(\"xterm-underline\"),\n                                        w & o.BLINK && p.classList.add(\"xterm-blink\"),\n                                        w & o.INVERSE) {\n                                            var S = _;\n                                            _ = C,\n                                                C = S,\n                                            1 & w && C < 8 && (C += 8)\n                                        }\n                                        w & o.INVISIBLE && p.classList.add(\"xterm-hidden\"),\n                                        w & o.INVERSE && (257 === _ && (_ = 15),\n                                        256 === C && (C = 0)),\n                                        _ < 256 && p.classList.add(\"xterm-bg-color-\" + _),\n                                        C < 256 && p.classList.add(\"xterm-color-\" + C)\n                                    }\n                                if (2 === b)\n                                    d += '<span class=\"xterm-wide-char\">' + y + \"</span>\";\n                                else if (y.charCodeAt(0) > 255)\n                                    d += '<span class=\"xterm-normal-char\">' + y + \"</span>\";\n                                else\n                                    switch (y) {\n                                        case \"&\":\n                                            d += \"&amp;\";\n                                            break;\n                                        case \"<\":\n                                            d += \"&lt;\";\n                                            break;\n                                        case \">\":\n                                            d += \"&gt;\";\n                                            break;\n                                        default:\n                                            d += y <= \" \" ? \"&nbsp;\" : y\n                                    }\n                                c = m\n                            }\n                        }\n                        d && !p && (p = this._spanElementObjectPool.acquire()),\n                        p && (d && (p.innerHTML = d,\n                            d = \"\"),\n                            u.appendChild(p),\n                            p = null),\n                            this._terminal.children[s].appendChild(u)\n                    }\n                    r && this._terminal.element.appendChild(this._terminal.rowContainer),\n                        this._terminal.emit(\"refresh\", {\n                            element: this._terminal.element,\n                            start: e,\n                            end: t\n                        })\n                }\n                ,\n                e.prototype.refreshSelection = function(e, t) {\n                    for (; this._terminal.selectionContainer.children.length; )\n                        this._terminal.selectionContainer.removeChild(this._terminal.selectionContainer.children[0]);\n                    if (e && t) {\n                        var r = e[1] - this._terminal.ydisp\n                            , i = t[1] - this._terminal.ydisp\n                            , o = Math.max(r, 0)\n                            , s = Math.min(i, this._terminal.rows - 1);\n                        if (!(o >= this._terminal.rows || s < 0)) {\n                            var n = document.createDocumentFragment()\n                                , a = r === o ? e[0] : 0\n                                , l = o === s ? t[0] : this._terminal.cols;\n                            n.appendChild(this._createSelectionElement(o, a, l));\n                            var h = s - o - 1;\n                            if (n.appendChild(this._createSelectionElement(o + 1, 0, this._terminal.cols, h)),\n                            o !== s) {\n                                var c = i === s ? t[0] : this._terminal.cols;\n                                n.appendChild(this._createSelectionElement(s, 0, c))\n                            }\n                            this._terminal.selectionContainer.appendChild(n)\n                        }\n                    }\n                }\n                ,\n                e.prototype._createSelectionElement = function(e, t, r, i) {\n                    void 0 === i && (i = 1);\n                    var o = document.createElement(\"div\");\n                    return o.style.height = i * this._terminal.charMeasure.height + \"px\",\n                        o.style.top = e * this._terminal.charMeasure.height + \"px\",\n                        o.style.left = t * this._terminal.charMeasure.width + \"px\",\n                        o.style.width = this._terminal.charMeasure.width * (r - t) + \"px\",\n                        o\n                }\n                ,\n                e\n        }();\n        t.Renderer = a\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        var i = this && this.__extends || function() {\n            var e = Object.setPrototypeOf || {\n                        __proto__: []\n                    }instanceof Array && function(e, t) {\n                        e.__proto__ = t\n                    }\n                    || function(e, t) {\n                        for (var r in t)\n                            t.hasOwnProperty(r) && (e[r] = t[r])\n                    }\n            ;\n            return function(t, r) {\n                function i() {\n                    this.constructor = t\n                }\n                e(t, r),\n                    t.prototype = null === r ? Object.create(r) : (i.prototype = r.prototype,\n                        new i)\n            }\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var o, s = r(10), n = r(9), a = r(1), l = r(21), h = String.fromCharCode(160), c = new RegExp(h,\"g\");\n        !function(e) {\n            e[e.NORMAL = 0] = \"NORMAL\",\n                e[e.WORD = 1] = \"WORD\",\n                e[e.LINE = 2] = \"LINE\"\n        }(o || (o = {}));\n        var u = function(e) {\n            function t(t, r, i, s) {\n                var n = e.call(this) || this;\n                return n._terminal = t,\n                    n._buffer = r,\n                    n._rowContainer = i,\n                    n._charMeasure = s,\n                    n._initListeners(),\n                    n.enable(),\n                    n._model = new l.SelectionModel(t),\n                    n._lastMouseDownTime = 0,\n                    n._activeSelectionMode = o.NORMAL,\n                    n\n            }\n            return i(t, e),\n                t.prototype._initListeners = function() {\n                    var e = this;\n                    this._bufferTrimListener = function(t) {\n                        return e._onTrim(t)\n                    }\n                        ,\n                        this._mouseMoveListener = function(t) {\n                            return e._onMouseMove(t)\n                        }\n                        ,\n                        this._mouseDownListener = function(t) {\n                            return e._onMouseDown(t)\n                        }\n                        ,\n                        this._mouseUpListener = function(t) {\n                            return e._onMouseUp(t)\n                        }\n                }\n                ,\n                t.prototype.disable = function() {\n                    this.clearSelection(),\n                        this._buffer.off(\"trim\", this._bufferTrimListener),\n                        this._rowContainer.removeEventListener(\"mousedown\", this._mouseDownListener)\n                }\n                ,\n                t.prototype.enable = function() {\n                    this._buffer.on(\"trim\", this._bufferTrimListener),\n                        this._rowContainer.addEventListener(\"mousedown\", this._mouseDownListener)\n                }\n                ,\n                t.prototype.setBuffer = function(e) {\n                    this._buffer = e,\n                        this.clearSelection()\n                }\n                ,\n                Object.defineProperty(t.prototype, \"hasSelection\", {\n                    get: function() {\n                        var e = this._model.finalSelectionStart\n                            , t = this._model.finalSelectionEnd;\n                        return !(!e || !t) && (e[0] !== t[0] || e[1] !== t[1])\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                Object.defineProperty(t.prototype, \"selectionText\", {\n                    get: function() {\n                        var e = this._model.finalSelectionStart\n                            , t = this._model.finalSelectionEnd;\n                        if (!e || !t)\n                            return \"\";\n                        var r = e[1] === t[1] ? t[0] : null\n                            , i = [];\n                        i.push(this._translateBufferLineToString(this._buffer.get(e[1]), !0, e[0], r));\n                        for (var o = e[1] + 1; o <= t[1] - 1; o++) {\n                            var s = this._buffer.get(o)\n                                , a = this._translateBufferLineToString(s, !0);\n                            s.isWrapped ? i[i.length - 1] += a : i.push(a)\n                        }\n                        if (e[1] !== t[1]) {\n                            var s = this._buffer.get(t[1])\n                                , a = this._translateBufferLineToString(s, !0, 0, t[0]);\n                            s.isWrapped ? i[i.length - 1] += a : i.push(a)\n                        }\n                        return i.map(function(e) {\n                            return e.replace(c, \" \")\n                        }).join(n.isMSWindows ? \"\\r\\n\" : \"\\n\")\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                t.prototype.clearSelection = function() {\n                    this._model.clearSelection(),\n                        this._removeMouseDownListeners(),\n                        this.refresh()\n                }\n                ,\n                t.prototype._translateBufferLineToString = function(e, t, r, i) {\n                    void 0 === r && (r = 0),\n                    void 0 === i && (i = null);\n                    for (var o = \"\", s = r, n = i, a = 0; a < e.length; a++) {\n                        var l = e[a];\n                        o += l[1],\n                        0 === l[2] && (r >= a && s--,\n                        i >= a && n--)\n                    }\n                    var h = n || e.length;\n                    if (t) {\n                        var c = o.search(/\\s+$/);\n                        if (-1 !== c && (h = Math.min(h, c)),\n                        h <= s)\n                            return \"\"\n                    }\n                    return o.substring(s, h)\n                }\n                ,\n                t.prototype.refresh = function(e) {\n                    var t = this;\n                    this._refreshAnimationFrame || (this._refreshAnimationFrame = window.requestAnimationFrame(function() {\n                        return t._refresh()\n                    })),\n                    n.isLinux && e && this.selectionText.length && this.emit(\"newselection\", this.selectionText)\n                }\n                ,\n                t.prototype._refresh = function() {\n                    this._refreshAnimationFrame = null,\n                        this.emit(\"refresh\", {\n                            start: this._model.finalSelectionStart,\n                            end: this._model.finalSelectionEnd\n                        })\n                }\n                ,\n                t.prototype.selectAll = function() {\n                    this._model.isSelectAllActive = !0,\n                        this.refresh()\n                }\n                ,\n                t.prototype._onTrim = function(e) {\n                    this._model.onTrim(e) && this.refresh()\n                }\n                ,\n                t.prototype._getMouseBufferCoords = function(e) {\n                    var t = s.getCoords(e, this._rowContainer, this._charMeasure, this._terminal.cols, this._terminal.rows, !0);\n                    return t[0]--,\n                        t[1]--,\n                        t[1] += this._terminal.ydisp,\n                        t\n                }\n                ,\n                t.prototype._getMouseEventScrollAmount = function(e) {\n                    var t = s.getCoordsRelativeToElement(e, this._rowContainer)[1]\n                        , r = this._terminal.rows * this._charMeasure.height;\n                    return t >= 0 && t <= r ? 0 : (t > r && (t -= r),\n                        t = Math.min(Math.max(t, -50), 50),\n                    (t /= 50) / Math.abs(t) + Math.round(14 * t))\n                }\n                ,\n                t.prototype._onMouseDown = function(e) {\n                    0 === e.button && (e.preventDefault(),\n                        this._dragScrollAmount = 0,\n                        this._setMouseClickCount(e),\n                        e.shiftKey ? this._onShiftClick(e) : 1 === this._clickCount ? this._onSingleClick(e) : 2 === this._clickCount ? this._onDoubleClick(e) : 3 === this._clickCount && this._onTripleClick(e),\n                        this._addMouseDownListeners(),\n                        this.refresh(!0))\n                }\n                ,\n                t.prototype._addMouseDownListeners = function() {\n                    var e = this;\n                    this._rowContainer.ownerDocument.addEventListener(\"mousemove\", this._mouseMoveListener),\n                        this._rowContainer.ownerDocument.addEventListener(\"mouseup\", this._mouseUpListener),\n                        this._dragScrollIntervalTimer = setInterval(function() {\n                            return e._dragScroll()\n                        }, 50)\n                }\n                ,\n                t.prototype._removeMouseDownListeners = function() {\n                    this._rowContainer.ownerDocument.removeEventListener(\"mousemove\", this._mouseMoveListener),\n                        this._rowContainer.ownerDocument.removeEventListener(\"mouseup\", this._mouseUpListener),\n                        clearInterval(this._dragScrollIntervalTimer),\n                        this._dragScrollIntervalTimer = null\n                }\n                ,\n                t.prototype._onShiftClick = function(e) {\n                    this._model.selectionStart && (this._model.selectionEnd = this._getMouseBufferCoords(e))\n                }\n                ,\n                t.prototype._onSingleClick = function(e) {\n                    this._model.selectionStartLength = 0,\n                        this._model.isSelectAllActive = !1,\n                        this._activeSelectionMode = o.NORMAL,\n                        this._model.selectionStart = this._getMouseBufferCoords(e),\n                    this._model.selectionStart && (this._model.selectionEnd = null,\n                    0 === this._buffer.get(this._model.selectionStart[1])[this._model.selectionStart[0]][2] && this._model.selectionStart[0]++)\n                }\n                ,\n                t.prototype._onDoubleClick = function(e) {\n                    var t = this._getMouseBufferCoords(e);\n                    t && (this._activeSelectionMode = o.WORD,\n                        this._selectWordAt(t))\n                }\n                ,\n                t.prototype._onTripleClick = function(e) {\n                    var t = this._getMouseBufferCoords(e);\n                    t && (this._activeSelectionMode = o.LINE,\n                        this._selectLineAt(t[1]))\n                }\n                ,\n                t.prototype._setMouseClickCount = function(e) {\n                    var t = (new Date).getTime();\n                    (t - this._lastMouseDownTime > 400 || this._distanceFromLastMousePosition(e) > 10) && (this._clickCount = 0),\n                        this._lastMouseDownTime = t,\n                        this._lastMousePosition = [e.pageX, e.pageY],\n                        this._clickCount++\n                }\n                ,\n                t.prototype._distanceFromLastMousePosition = function(e) {\n                    return Math.max(Math.abs(this._lastMousePosition[0] - e.pageX), Math.abs(this._lastMousePosition[1] - e.pageY))\n                }\n                ,\n                t.prototype._onMouseMove = function(e) {\n                    var t = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n                    if (this._model.selectionEnd = this._getMouseBufferCoords(e),\n                        this._activeSelectionMode === o.LINE ? this._model.selectionEnd[1] < this._model.selectionStart[1] ? this._model.selectionEnd[0] = 0 : this._model.selectionEnd[0] = this._terminal.cols : this._activeSelectionMode === o.WORD && this._selectToWordAt(this._model.selectionEnd),\n                        this._dragScrollAmount = this._getMouseEventScrollAmount(e),\n                        this._dragScrollAmount > 0 ? this._model.selectionEnd[0] = this._terminal.cols - 1 : this._dragScrollAmount < 0 && (this._model.selectionEnd[0] = 0),\n                    this._model.selectionEnd[1] < this._buffer.length) {\n                        var r = this._buffer.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];\n                        r && 0 === r[2] && this._model.selectionEnd[0]++\n                    }\n                    t && t[0] === this._model.selectionEnd[0] && t[1] === this._model.selectionEnd[1] || this.refresh(!0)\n                }\n                ,\n                t.prototype._dragScroll = function() {\n                    this._dragScrollAmount && (this._terminal.scrollDisp(this._dragScrollAmount, !1),\n                        this._dragScrollAmount > 0 ? this._model.selectionEnd = [this._terminal.cols - 1, this._terminal.ydisp + this._terminal.rows] : this._model.selectionEnd = [0, this._terminal.ydisp],\n                        this.refresh())\n                }\n                ,\n                t.prototype._onMouseUp = function(e) {\n                    this._removeMouseDownListeners()\n                }\n                ,\n                t.prototype._convertViewportColToCharacterIndex = function(e, t) {\n                    for (var r = t[0], i = 0; t[0] >= i; i++)\n                        0 === e[i][2] && r--;\n                    return r\n                }\n                ,\n                t.prototype._getWordAt = function(e) {\n                    var t = this._buffer.get(e[1])\n                        , r = this._translateBufferLineToString(t, !1)\n                        , i = this._convertViewportColToCharacterIndex(t, e)\n                        , o = i\n                        , s = e[0] - o\n                        , n = 0\n                        , a = 0;\n                    if (\" \" === r.charAt(o)) {\n                        for (; o > 0 && \" \" === r.charAt(o - 1); )\n                            o--;\n                        for (; i < r.length && \" \" === r.charAt(i + 1); )\n                            i++\n                    } else {\n                        var l = e[0]\n                            , h = e[0];\n                        for (0 === t[l][2] && (n++,\n                            l--),\n                             2 === t[h][2] && (a++,\n                                 h++); o > 0 && !this._isCharWordSeparator(r.charAt(o - 1)); )\n                            0 === t[l - 1][2] && (n++,\n                                l--),\n                                o--,\n                                l--;\n                        for (; i + 1 < r.length && !this._isCharWordSeparator(r.charAt(i + 1)); )\n                            2 === t[h + 1][2] && (a++,\n                                h++),\n                                i++,\n                                h++\n                    }\n                    return {\n                        start: o + s - n,\n                        length: Math.min(i - o + n + a + 1, this._terminal.cols)\n                    }\n                }\n                ,\n                t.prototype._selectWordAt = function(e) {\n                    var t = this._getWordAt(e);\n                    this._model.selectionStart = [t.start, e[1]],\n                        this._model.selectionStartLength = t.length\n                }\n                ,\n                t.prototype._selectToWordAt = function(e) {\n                    var t = this._getWordAt(e);\n                    this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? t.start : t.start + t.length, e[1]]\n                }\n                ,\n                t.prototype._isCharWordSeparator = function(e) {\n                    return \" ()[]{}'\\\"\".indexOf(e) >= 0\n                }\n                ,\n                t.prototype._selectLineAt = function(e) {\n                    this._model.selectionStart = [0, e],\n                        this._model.selectionStartLength = this._terminal.cols\n                }\n                ,\n                t\n        }(a.EventEmitter);\n        t.SelectionManager = u\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = function() {\n            function e(e) {\n                this._terminal = e,\n                    this.clearSelection()\n            }\n            return e.prototype.clearSelection = function() {\n                this.selectionStart = null,\n                    this.selectionEnd = null,\n                    this.isSelectAllActive = !1,\n                    this.selectionStartLength = 0\n            }\n                ,\n                Object.defineProperty(e.prototype, \"finalSelectionStart\", {\n                    get: function() {\n                        return this.isSelectAllActive ? [0, 0] : this.selectionEnd && this.selectionStart && this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                Object.defineProperty(e.prototype, \"finalSelectionEnd\", {\n                    get: function() {\n                        return this.isSelectAllActive ? [this._terminal.cols, this._terminal.ybase + this._terminal.rows - 1] : this.selectionStart ? !this.selectionEnd || this.areSelectionValuesReversed() ? [this.selectionStart[0] + this.selectionStartLength, this.selectionStart[1]] : this.selectionStartLength && this.selectionEnd[1] === this.selectionStart[1] ? [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]] : this.selectionEnd : null\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                e.prototype.areSelectionValuesReversed = function() {\n                    var e = this.selectionStart\n                        , t = this.selectionEnd;\n                    return e[1] > t[1] || e[1] === t[1] && e[0] > t[0]\n                }\n                ,\n                e.prototype.onTrim = function(e) {\n                    return this.selectionStart && (this.selectionStart[1] -= e),\n                    this.selectionEnd && (this.selectionEnd[1] -= e),\n                        this.selectionEnd && this.selectionEnd[1] < 0 ? (this.clearSelection(),\n                            !0) : (this.selectionStart && this.selectionStart[1] < 0 && (this.selectionStart[1] = 0),\n                            !1)\n                }\n                ,\n                e\n        }();\n        t.SelectionModel = i\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = function() {\n            function e(e, t, r, i) {\n                var o = this;\n                this.terminal = e,\n                    this.viewportElement = t,\n                    this.scrollArea = r,\n                    this.charMeasure = i,\n                    this.currentRowHeight = 0,\n                    this.lastRecordedBufferLength = 0,\n                    this.lastRecordedViewportHeight = 0,\n                    this.terminal.on(\"scroll\", this.syncScrollArea.bind(this)),\n                    this.terminal.on(\"resize\", this.syncScrollArea.bind(this)),\n                    this.viewportElement.addEventListener(\"scroll\", this.onScroll.bind(this)),\n                    setTimeout(function() {\n                        return o.syncScrollArea()\n                    }, 0)\n            }\n            return e.prototype.refresh = function() {\n                if (this.charMeasure.height > 0) {\n                    var e = this.charMeasure.height !== this.currentRowHeight;\n                    e && (this.currentRowHeight = this.charMeasure.height,\n                        this.viewportElement.style.lineHeight = this.charMeasure.height + \"px\",\n                        this.terminal.rowContainer.style.lineHeight = this.charMeasure.height + \"px\");\n                    var t = this.lastRecordedViewportHeight !== this.terminal.rows;\n                    (e || t) && (this.lastRecordedViewportHeight = this.terminal.rows,\n                        this.viewportElement.style.height = this.charMeasure.height * this.terminal.rows + \"px\",\n                        this.terminal.selectionContainer.style.height = this.viewportElement.style.height),\n                        this.scrollArea.style.height = this.charMeasure.height * this.lastRecordedBufferLength + \"px\"\n                }\n            }\n                ,\n                e.prototype.syncScrollArea = function() {\n                    this.lastRecordedBufferLength !== this.terminal.lines.length ? (this.lastRecordedBufferLength = this.terminal.lines.length,\n                        this.refresh()) : this.lastRecordedViewportHeight !== this.terminal.rows ? this.refresh() : this.charMeasure.height !== this.currentRowHeight && this.refresh();\n                    var e = this.terminal.ydisp * this.currentRowHeight;\n                    this.viewportElement.scrollTop !== e && (this.viewportElement.scrollTop = e)\n                }\n                ,\n                e.prototype.onScroll = function(e) {\n                    var t = Math.round(this.viewportElement.scrollTop / this.currentRowHeight) - this.terminal.ydisp;\n                    this.terminal.scrollDisp(t, !0)\n                }\n                ,\n                e.prototype.onWheel = function(e) {\n                    if (0 !== e.deltaY) {\n                        var t = 1;\n                        e.deltaMode === WheelEvent.DOM_DELTA_LINE ? t = this.currentRowHeight : e.deltaMode === WheelEvent.DOM_DELTA_PAGE && (t = this.currentRowHeight * this.terminal.rows),\n                            this.viewportElement.scrollTop += e.deltaY * t,\n                            e.preventDefault()\n                    }\n                }\n                ,\n                e.prototype.onTouchStart = function(e) {\n                    this.lastTouchY = e.touches[0].pageY\n                }\n                ,\n                e.prototype.onTouchMove = function(e) {\n                    var t = this.lastTouchY - e.touches[0].pageY;\n                    this.lastTouchY = e.touches[0].pageY,\n                    0 !== t && (this.viewportElement.scrollTop += t,\n                        e.preventDefault())\n                }\n                ,\n                e\n        }();\n        t.Viewport = i\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        function i(e, t) {\n            return t ? e.replace(/\\r?\\n/g, \"\\r\") : e\n        }\n        function o(e, t) {\n            t.style.position = \"fixed\",\n                t.style.width = \"20px\",\n                t.style.height = \"20px\",\n                t.style.left = e.clientX - 10 + \"px\",\n                t.style.top = e.clientY - 10 + \"px\",\n                t.style.zIndex = \"1000\",\n                t.focus(),\n                setTimeout(function() {\n                    t.style.position = null,\n                        t.style.width = null,\n                        t.style.height = null,\n                        t.style.left = null,\n                        t.style.top = null,\n                        t.style.zIndex = null\n                }, 4)\n        }\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }),\n            t.prepareTextForTerminal = i,\n            t.copyHandler = function(e, t, r) {\n                t.browser.isMSIE ? window.clipboardData.setData(\"Text\", r.selectionText) : e.clipboardData.setData(\"text/plain\", r.selectionText),\n                    e.preventDefault()\n            }\n            ,\n            t.pasteHandler = function(e, t) {\n                e.stopPropagation();\n                var r = function(r) {\n                    return r = i(r, t.browser.isMSWindows),\n                        t.handler(r),\n                        t.textarea.value = \"\",\n                        t.emit(\"paste\", r),\n                        t.cancel(e)\n                };\n                t.browser.isMSIE ? window.clipboardData && r(window.clipboardData.getData(\"Text\")) : e.clipboardData && r(e.clipboardData.getData(\"text/plain\"))\n            }\n            ,\n            t.moveTextAreaUnderMouseCursor = o,\n            t.rightClickHandler = function(e, t, r) {\n                o(e, t),\n                    t.value = r.selectionText,\n                    t.select()\n            }\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        var i = this && this.__extends || function() {\n            var e = Object.setPrototypeOf || {\n                        __proto__: []\n                    }instanceof Array && function(e, t) {\n                        e.__proto__ = t\n                    }\n                    || function(e, t) {\n                        for (var r in t)\n                            t.hasOwnProperty(r) && (e[r] = t[r])\n                    }\n            ;\n            return function(t, r) {\n                function i() {\n                    this.constructor = t\n                }\n                e(t, r),\n                    t.prototype = null === r ? Object.create(r) : (i.prototype = r.prototype,\n                        new i)\n            }\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var o = function(e) {\n            function t(t, r) {\n                var i = e.call(this) || this;\n                return i._document = t,\n                    i._parentElement = r,\n                    i\n            }\n            return i(t, e),\n                Object.defineProperty(t.prototype, \"width\", {\n                    get: function() {\n                        return this._width\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                Object.defineProperty(t.prototype, \"height\", {\n                    get: function() {\n                        return this._height\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                t.prototype.measure = function() {\n                    var e = this;\n                    this._measureElement ? this._doMeasure() : (this._measureElement = this._document.createElement(\"span\"),\n                        this._measureElement.style.position = \"absolute\",\n                        this._measureElement.style.top = \"0\",\n                        this._measureElement.style.left = \"-9999em\",\n                        this._measureElement.textContent = \"W\",\n                        this._measureElement.setAttribute(\"aria-hidden\", \"true\"),\n                        this._parentElement.appendChild(this._measureElement),\n                        setTimeout(function() {\n                            return e._doMeasure()\n                        }, 0))\n                }\n                ,\n                t.prototype._doMeasure = function() {\n                    var e = this._measureElement.getBoundingClientRect();\n                    0 !== e.width && 0 !== e.height && (this._width === e.width && this._height === e.height || (this._width = e.width,\n                        this._height = e.height,\n                        this.emit(\"charsizechanged\")))\n                }\n                ,\n                t\n        }(r(1).EventEmitter);\n        t.CharMeasure = o\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        var i = this && this.__extends || function() {\n            var e = Object.setPrototypeOf || {\n                        __proto__: []\n                    }instanceof Array && function(e, t) {\n                        e.__proto__ = t\n                    }\n                    || function(e, t) {\n                        for (var r in t)\n                            t.hasOwnProperty(r) && (e[r] = t[r])\n                    }\n            ;\n            return function(t, r) {\n                function i() {\n                    this.constructor = t\n                }\n                e(t, r),\n                    t.prototype = null === r ? Object.create(r) : (i.prototype = r.prototype,\n                        new i)\n            }\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var o = function(e) {\n            function t(t) {\n                var r = e.call(this) || this;\n                return r._array = new Array(t),\n                    r._startIndex = 0,\n                    r._length = 0,\n                    r\n            }\n            return i(t, e),\n                Object.defineProperty(t.prototype, \"maxLength\", {\n                    get: function() {\n                        return this._array.length\n                    },\n                    set: function(e) {\n                        for (var t = new Array(e), r = 0; r < Math.min(e, this.length); r++)\n                            t[r] = this._array[this._getCyclicIndex(r)];\n                        this._array = t,\n                            this._startIndex = 0\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                Object.defineProperty(t.prototype, \"length\", {\n                    get: function() {\n                        return this._length\n                    },\n                    set: function(e) {\n                        if (e > this._length)\n                            for (var t = this._length; t < e; t++)\n                                this._array[t] = void 0;\n                        this._length = e\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                Object.defineProperty(t.prototype, \"forEach\", {\n                    get: function() {\n                        var e = this;\n                        return function(t) {\n                            for (var r = e.length, i = 0; i < r; i++)\n                                t(e.get(i), i)\n                        }\n                    },\n                    enumerable: !0,\n                    configurable: !0\n                }),\n                t.prototype.get = function(e) {\n                    return this._array[this._getCyclicIndex(e)]\n                }\n                ,\n                t.prototype.set = function(e, t) {\n                    this._array[this._getCyclicIndex(e)] = t\n                }\n                ,\n                t.prototype.push = function(e) {\n                    this._array[this._getCyclicIndex(this._length)] = e,\n                        this._length === this.maxLength ? (++this._startIndex === this.maxLength && (this._startIndex = 0),\n                            this.emit(\"trim\", 1)) : this._length++\n                }\n                ,\n                t.prototype.pop = function() {\n                    return this._array[this._getCyclicIndex(this._length-- - 1)]\n                }\n                ,\n                t.prototype.splice = function(e, t) {\n                    for (var r = [], i = 2; i < arguments.length; i++)\n                        r[i - 2] = arguments[i];\n                    if (t) {\n                        for (o = e; o < this._length - t; o++)\n                            this._array[this._getCyclicIndex(o)] = this._array[this._getCyclicIndex(o + t)];\n                        this._length -= t\n                    }\n                    if (r && r.length) {\n                        for (o = this._length - 1; o >= e; o--)\n                            this._array[this._getCyclicIndex(o + r.length)] = this._array[this._getCyclicIndex(o)];\n                        for (var o = 0; o < r.length; o++)\n                            this._array[this._getCyclicIndex(e + o)] = r[o];\n                        if (this._length + r.length > this.maxLength) {\n                            var s = this._length + r.length - this.maxLength;\n                            this._startIndex += s,\n                                this._length = this.maxLength,\n                                this.emit(\"trim\", s)\n                        } else\n                            this._length += r.length\n                    }\n                }\n                ,\n                t.prototype.trimStart = function(e) {\n                    e > this._length && (e = this._length),\n                        this._startIndex += e,\n                        this._length -= e,\n                        this.emit(\"trim\", e)\n                }\n                ,\n                t.prototype.shiftElements = function(e, t, r) {\n                    if (!(t <= 0)) {\n                        if (e < 0 || e >= this._length)\n                            throw new Error(\"start argument out of range\");\n                        if (e + r < 0)\n                            throw new Error(\"Cannot shift elements in list beyond index 0\");\n                        if (r > 0) {\n                            for (o = t - 1; o >= 0; o--)\n                                this.set(e + o + r, this.get(e + o));\n                            var i = e + t + r - this._length;\n                            if (i > 0)\n                                for (this._length += i; this._length > this.maxLength; )\n                                    this._length--,\n                                        this._startIndex++,\n                                        this.emit(\"trim\", 1)\n                        } else\n                            for (var o = 0; o < t; o++)\n                                this.set(e + o + r, this.get(e + o))\n                    }\n                }\n                ,\n                t.prototype._getCyclicIndex = function(e) {\n                    return (this._startIndex + e) % this.maxLength\n                }\n                ,\n                t\n        }(r(1).EventEmitter);\n        t.CircularList = o\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = function() {\n            function e(e) {\n                this.type = e,\n                    this._type = e,\n                    this._pool = [],\n                    this._inUse = {}\n            }\n            return e.prototype.acquire = function() {\n                var t;\n                return t = 0 === this._pool.length ? this._createNew() : this._pool.pop(),\n                    this._inUse[t.getAttribute(e.OBJECT_ID_ATTRIBUTE)] = t,\n                    t\n            }\n                ,\n                e.prototype.release = function(t) {\n                    if (!this._inUse[t.getAttribute(e.OBJECT_ID_ATTRIBUTE)])\n                        throw new Error(\"Could not release an element not yet acquired\");\n                    delete this._inUse[t.getAttribute(e.OBJECT_ID_ATTRIBUTE)],\n                        this._cleanElement(t),\n                        this._pool.push(t)\n                }\n                ,\n                e.prototype._createNew = function() {\n                    var t = document.createElement(this._type)\n                        , r = e._objectCount++;\n                    return t.setAttribute(e.OBJECT_ID_ATTRIBUTE, r.toString(10)),\n                        t\n                }\n                ,\n                e.prototype._cleanElement = function(e) {\n                    e.className = \"\",\n                        e.innerHTML = \"\"\n                }\n                ,\n                e\n        }();\n        i.OBJECT_ID_ATTRIBUTE = \"data-obj-id\",\n            i._objectCount = 0,\n            t.DomElementObjectPool = i\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }),\n            t.contains = function(e, t) {\n                return e.indexOf(t) >= 0\n            }\n    }\n    , function(e, t, r) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = r(11)\n            , o = r(14)\n            , s = r(13)\n            , n = r(12)\n            , a = document.getElementById(\"terminal\");\n        if (null !== a) {\n            var l;\n            l = \"hterm\" == gotty_term ? new i.Hterm(a) : new o.Xterm(a);\n            var h = (\"https:\" == window.location.protocol ? \"wss://\" : \"ws://\") + window.location.host + window.location.pathname + \"ws\"\n                , c = window.location.search\n                , u = new n.ConnectionFactory(h,s.protocols)\n                , d = new s.WebTTY(l,u,c,gotty_auth_token).open();\n            window.addEventListener(\"unload\", function() {\n                d(),\n                    l.close()\n            })\n        }\n    }\n    , function(e, t, r) {\n        function i(e) {\n            return r(o(e))\n        }\n        function o(e) {\n            var t = s[e];\n            if (!(t + 1))\n                throw new Error(\"Cannot find module '\" + e + \"'.\");\n            return t\n        }\n        var s = {\n            \"./attach/attach\": 5,\n            \"./attach/attach.js\": 5,\n            \"./attach/package.json\": 30,\n            \"./fit/fit\": 6,\n            \"./fit/fit.js\": 6,\n            \"./fit/package.json\": 31,\n            \"./fullscreen/fullscreen\": 7,\n            \"./fullscreen/fullscreen.css\": 32,\n            \"./fullscreen/fullscreen.js\": 7,\n            \"./fullscreen/package.json\": 33,\n            \"./terminado/package.json\": 34,\n            \"./terminado/terminado\": 8,\n            \"./terminado/terminado.js\": 8\n        };\n        i.keys = function() {\n            return Object.keys(s)\n        }\n            ,\n            i.resolve = o,\n            e.exports = i,\n            i.id = 29\n    }\n    , function(e, t) {\n        e.exports = {\n            name: \"xterm.attach\",\n            main: \"attach.js\",\n            private: !0\n        }\n    }\n    , function(e, t) {\n        e.exports = {\n            name: \"xterm.fit\",\n            main: \"fit.js\",\n            private: !0\n        }\n    }\n    , function(e, t) {\n        throw new Error(\"Module parse failed: /Users/liqiang/dev/go/src/github.com/webkubectl/gotty/js/node_modules/xterm/lib/addons/fullscreen/fullscreen.css Unexpected token (1:0)\\nYou may need an appropriate loader to handle this file type.\\n| .xterm.fullscreen {\\n|     position: fixed;\\n|     top: 0;\")\n    }\n    , function(e, t) {\n        e.exports = {\n            name: \"xterm.fullscreen\",\n            main: \"fullscreen.js\",\n            private: !0\n        }\n    }\n    , function(e, t) {\n        e.exports = {\n            name: \"xterm.terminado\",\n            main: \"terminado.js\",\n            private: !0\n        }\n    }\n]);\n")
